{"version":3,"sources":["webpack:///silegismg-editor-articulacao-plain-js.js","webpack:///webpack/bootstrap ac78eaeb86bfaf662765","webpack:///./src/validacao/Validador.js","webpack:///./src/transformacaoAutomatica/transformacoes/Transformacao.js","webpack:///./src/eventos/EventoInterno.js","webpack:///./src/hacks/interceptador.js","webpack:///./src/interpretadorArticulacao.js","webpack:///./src/util.js","webpack:///./src/EditorArticulacaoController.js","webpack:///./src/eventos/TransformacaoAutomaticaEvent.js","webpack:///./src/lexml/ArticulacaoInvalidaException.js","webpack:///./src/opcoesPadrao.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./empacotamento/plain-js.js","webpack:///./src/ComponenteEdicao.js","webpack:///./src/editor.html","webpack:///./src/eventos/ContextoArticulacaoAtualizadoEvent.js","webpack:///./src/ContextoArticulacao.js","webpack:///./src/transformacaoAutomatica/transformacaoAutomatica.js","webpack:///./src/transformacaoAutomatica/transformacoes/DoisPontos.js","webpack:///./src/transformacaoAutomatica/transformacoes/PontoFinal.js","webpack:///./src/transformacaoAutomatica/transformacoes/AoIniciarAspas.js","webpack:///./src/transformacaoAutomatica/transformacoes/AoFecharAspas.js","webpack:///./src/transformacaoAutomatica/transformacoes/RecuarComEnterEmDispositivoVazio.js","webpack:///./src/hacks/chrome.js","webpack:///./src/hacks/ie.js","webpack:///./src/hacks/polyfill.js","webpack:///./src/lexml/importarDeLexML.js","webpack:///./src/lexml/exportarParaLexML.js","webpack:///./src/ClipboardController.js","webpack:///./src/ControleAlteracao.js","webpack:///./src/eventos/ArticulacaoChangeEvent.js","webpack:///./src/editor-articulacao.css","webpack:///./src/editor-articulacao-shadow.css","webpack:///./src/validacao/ValidacaoController.js","webpack:///./src/validacao/ProblemaValidacao.js","webpack:///./src/validacao/ValidadorCaixaAlta.js","webpack:///./src/validacao/ValidadorCitacao.js","webpack:///./src/validacao/ValidadorEnumeracaoElementos.js","webpack:///./src/validacao/ValidadorIniciarLetraMaiuscula.js","webpack:///./src/validacao/ValidadorPontuacaoArtigoParagrafo.js","webpack:///./src/validacao/ValidadorPontuacaoEnumeracao.js","webpack:///./src/validacao/ValidadorSentencaUnica.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Validador","tipos","descricao","this","Array","Set","dispositivo","has","getAttribute","default","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","onKeyUp","editor","elementoAtual","callback","handler","event","removeEventListener","addEventListener","TransformacaoDoProximo","Transformacao","undefined","_TransformacaoAutomaticaEvent","_TransformacaoAutomaticaEvent2","obj","sequencias","arguments","sequencia","push","indexOf","replace","elementoEditor","ctrl","contexto","_Transformacao","getPrototypeOf","apply","_this2","novoTipo","proximoTipo","cursor","elemento","tipoAnterior","tipo","alterarTipoDispositivoSelecionado","dispatchEvent","TransformacaoAutomaticaEvent","tipoTransformacao","EventoInterno","nome","dados","CustomEvent","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","window","Event","interceptar","objeto","metodo","interceptador","metodoOriginal","interceptarApos","resultado","parseTexto","textoOriginal","ultimoItem","textoAnterior","artigos","getUltimoItemTipo","item","$parent","j","regexpAspas","regexpLinhas","regexp","onMatch","requisito","Titulo","Capitulo","Secao","Subsecao","reiniciar","Artigo","Paragrafo","container","adicionar","Inciso","Alinea","artigo","Item","inciso","aspas","aspa","split","forEach","linha","atendeRequisito","exec","shift","bind","Divisao","articulacao","transformarQuebrasDeLinhaEmP","texto","fragmento","createDocumentFragment","createElement","textContent","appendChild","parte","transformarQuebrasDeLinhaEmEspaco","transformarEmLexML","json","reducaoInciso","prev","idx","array","idInciso","prefixo","numero","alineas","reduce","alinea","idArt","incisos","paragrafos","paragrafo","idPar","interpretarArticulacao","formatoDestino","formatoOrigem","toLowerCase","div","innerHTML","removerEntidadeHtml","trim","transformarEmLexMLFragmento","e","mensagem","formato","erroOriginal","html","safeXmlEntities","entidade","span","lexml","firstChild","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","Dispositivo","derivacoes","_this","concat","transformarConteudoEmFragmento","firstElementChild","setAttribute","children","nextElementSibling","subitens","subItem","paraEditor","_Dispositivo","caput","incisoOuParagrafo","querySelector","classList","add","_Dispositivo2","_this3","_Dispositivo3","_this4","_Dispositivo4","_this5","itens","_Dispositivo5","_Dispositivo6","_this7","_Divisao","_Divisao2","_Divisao3","_Divisao4","interpretar","encontrarDispositivoAnteriorDoTipo","pontosParada","pontosInterrupcao","hasAttribute","parentNode","setParada","setInterrupcao","previousElementSibling","encontrarDispositivoPosteriorDoTipo","proximo","tipoProximo","getTiposSuperiores","_interopRequireDefault","obterSelecao","selecao","getSelection","range","rangeCount","getRangeAt","startContainer","nodeType","Node","ELEMENT_NODE","nodeName","_elemento","refazerSelecao","collapsed","startOffset","childNodes","lastElementChild","limpar","removeAllRanges","createRange","setStart","addRange","compareDocumentPosition","DOCUMENT_POSITION_CONTAINS","obterTipoValido","tipoDesejado","permissoes","titulo","capitulo","secao","subsecao","escaparXml","xml","charCodeAt","transformarEmEditor","editorCtrl","opcoes","style","css","toString","valor","rotulo","shadowDOM","shadowStyle","cssShadow","shadow","attachShadow","mode","novoElemento","contentEditable","somenteLeitura","spellcheck","focusEvent","focus","cssImportado","head","body","_ContextoArticulacaoAtualizadoEvent","_ContextoArticulacaoAtualizadoEvent2","_ContextoArticulacao","_ContextoArticulacao2","_transformacaoAutomatica","_transformacaoAutomatica2","_chrome","_chrome2","_ie","_ie2","_polyfill","_polyfill2","_importarDeLexML","_importarDeLexML2","_exportarParaLexML","_exportarParaLexML2","_ClipboardController","_ClipboardController2","_ControleAlteracao","_ControleAlteracao2","_editorArticulacao","_editorArticulacao2","_editorArticulacaoShadow","_editorArticulacaoShadow2","_ArticulacaoInvalidaException","_ArticulacaoInvalidaException2","_util","_ValidacaoController","_ValidacaoController2","_opcoesPadrao","_opcoesPadrao2","EditorArticulacaoController","Element","opcoesEfetivas","padrao","assign","freeze","validacao","_handlers","_registrarEventos","transformacaoAutomatica","controleAlteracao","validacaoCtrl","ValidacaoController","clipboardCtrl","ClipboardController","test","navigator","userAgent","vendor","eventoInterno","getCustomEvent","eventHandler","_cursorEventHandler","evento","registrarEventListener","_keyDownEventHandler","vazio","validar","listener","useCapture","registro","atualizarContexto","_normalizarContexto","KeyboardEvent","removeAttribute","elementoSelecionado","_normalizarDispositivo","tagName","selectNodeContents","novoCalculo","ContextoArticulacao","comparar","ContextoArticulacaoAtualizadoEvent","_definirTipo","endContainer","parentElement","remove","alterado","anterior","console","error","_normalizarParagrafo","posterior","toggle","contains","aux","ArticulacaoInvalidaException","filho","set","comprometer","validarAoAtribuir","xmlSerializer","XMLSerializer","serializeToString","escaparXML","_EventoInterno2","_EventoInterno3","_EventoInterno","editorArticulacaoCtrl","transformacao","automatica","separadorArtigo","separadorArtigoSemOrdinal","separadorParagrafo","separadorParagrafoSemOrdinal","separadorParagrafoUnico","separadorInciso","separadorAlinea","separadorItem","caixaAlta","citacao","enumeracaoElementos","inicialMaiuscula","pontuacao","pontuacaoEnumeracao","sentencaUnica","cssWithMappingToString","useSourceMap","content","cssMapping","btoa","sourceMapping","toComment","sources","map","source","sourceRoot","join","sourceMap","unescape","encodeURIComponent","JSON","stringify","list","mediaQuery","alreadyImportedModules","id","criarControllerEditorArticulacao","ctrlArticulacao","prepararEditorArticulacaoCompleto","componenteEdicao","ComponenteEdicao","_ComponenteEdicao","_ComponenteEdicao2","_EditorArticulacaoController","_EditorArticulacaoController2","_interpretadorArticulacao","_interpretadorArticulacao2","silegismgEditorArticulacao","silegismgEditorArticulacaoController","silegismgInterpretadorArticulacao","interpretadorArticulacao","_editor","_editor2","alterarDispositivo","botoes","containerBotoes","querySelectorAll","disabled","tipoAtual","position","top","scrollTop","verificarPrimeiroDoTipo","dispositvo","pontosParagem","livro","obterDispositivoAnterior","elementoArticulacao","possuiAnterior","matches","italico","desconhecido","continuacao","raiz","primeiroDoTipo","dispositivoAnterior","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","onMatchesSelector","anteriorAgrupador","obj2","adicionarTransformacaoAutomatica","parser","estado","adicionarParser","DoisPontos","PontoFinal","AoIniciarAspas","AoFecharAspas","RecuarComEnterEmDispositivoVazio","processarEstado","transformador","pAtual","transformar","objHandler","$handler","_parser","_estadoParser","controller","novoEstado","charCode","keyCode","_DoisPontos","_DoisPontos2","_PontoFinal","_PontoFinal2","_AoIniciarAspas","_AoIniciarAspas2","_AoFecharAspas","_AoFecharAspas2","_RecuarComEnterEmDispositivoVazio","_RecuarComEnterEmDispositivoVazio2","_TransformacaoDoProxi","_Transformacao2","_Transformacao3","preventDefault","hackChrome","_interceptador","hackAlterarTipo","hackInterceptarKeydown","argumentos","contadoresAntigos","extrairContadores","retorno","contadoresNovos","hash","total","contadoresProximo","redefinirContador","contador","contadoresDesconsiderar","counterReset","getComputedStyle","contadores","cnt","setTimeout","keyboardEvent","ctrlKey","altKey","metaKey","selection","inicio","final","deleteContents","hackIE","DOMTokenList","size","substituirSet","SetNativo","iteravel","$set","metodos","polyfill","to","nextSource","keysArray","keys","nextIndex","len","nextKey","DocumentFragment","ultimo","lastChild","previousSibling","importarDeLexML","NodeList","HTMLCollection","criarAgrupador","clonar","dispositivoAtual","obterP","agrupador","query","tipoFinal","fnTipo","_typeof","Error","novoItem","cloneNode","Symbol","iterator","exportarParaLexML","dispositivoDOM","rotulos","cntArtigos","ContextoTransformacao","dispositivoLexML","contextoAnterior","cntSubitens","subtipo","ContextoTransformacaoArtigo","_ContextoTransformaca","ContextoTransformacaoAgrupador","_ContextoTransformaca2","createElementNS","letra","toUpperCase","criarElementoP","adicionarSubitem","possuiSubtipo","nEmenda","criarElementoLexML","getIdReferencia","contarSubitens","adicionarSubitemEmendado","conteudo","idPai","idxFilho","unico","substr","criarRotuloLexML","criarCaputLexML","criarNomeAgrupador","transformarLetra","transformarNumeroRomano","normalizarParagrafo","criarConteudoInline","origem","destino","arvore","createTreeWalker","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","atual","retrocederEm","primeiroTexto","ultimoTexto","nextNode","currentNode","TEXT_NODE","htmlInline","elementoAgrupador","hasAttributes","attributes","insertBefore","nextSibling","novoParagrafo","digitos","String","tabela","pop","maiuscula","fromCharCode","transformarTextoPuro","fragmentoArticulacao","transformarArticulacao","aoColar","clipboardData","items","type","getAsString","colarTexto","getData","colarFragmento","prepararDesfazer","proximaSelecao","noInicial","excluirNoAtual","primeiroElementoAValidar","insertNode","referencia","setStartAfter","ultimoElementoAValidar","noAlterado","copia","desfazer","removerListeners","setStartBefore","keyDownListener","bakExecCommand","execCommand","comando","primeiraQuebra","textNode","createTextNode","novoTexto","endsWith","enumeracao","novoTipoEnumeracao","brs","criarControleAlteracao","ControleAlteracaoMutationObserver","ControleAlteracaoComparativo","_ArticulacaoChangeEvent","_ArticulacaoChangeEvent2","ControleAlteracao","_editorCtrl","_comFoco","iniciar","finalizar","ArticulacaoChangeEvent","_observer","MutationObserver","_mutationCallback","_iniciado","_alterado","_conectado","observe","childList","characterData","subtree","disconnect","_alteradoCache","_lexml","lexmlString","version","names","mappings","file","sourcesContent","habilitar","nomeOpcao","validadores","validador","opcao","_ProblemaValidacao","_ProblemaValidacao2","_ValidadorCaixaAlta","_ValidadorCaixaAlta2","_ValidadorCitacao","_ValidadorCitacao2","_ValidadorEnumeracaoElementos","_ValidadorEnumeracaoElementos2","_ValidadorIniciarLetraMaiuscula","_ValidadorIniciarLetraMaiuscula2","_ValidadorPontuacaoArtigoParagrafo","_ValidadorPontuacaoArtigoParagrafo2","_ValidadorPontuacaoEnumeracao","_ValidadorPontuacaoEnumeracao2","_ValidadorSentencaUnica","_ValidadorSentencaUnica2","ValidadorCaixaAlta","ValidadorCitacao","ValidadorEnumeracaoElementos","ValidadorIniciarLetraMaiuscula","ValidadorPontuacaoArtigoParagrafo","ValidadorPontuacaoEnumeracao","ValidadorSentencaUnica","problemas","aplicaSeA","ProblemaValidacao","problema","_Validador2","_Validador3","_Validador","seNulo","fnSeNaoNulo","superiores","charAt","valido"],"mappings":"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","file":"silegismg-editor-articulacao-plain-js.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Classe abstrata para validar dispositivos.\n */\nvar Validador = function () {\n  /**\n   * Constri o validador.\n   * \n   * @param {String[]} tipos Tipos de dispositivos que sero validados.\n   * @param {String} descricao Descrio da validao.\n   */\n  function Validador(tipos, descricao) {\n    _classCallCheck(this, Validador);\n\n    this.tipos = tipos instanceof Array ? new Set(tipos) : new Set([tipos]);\n    this.descricao = descricao;\n  }\n\n  /**\n   * Verifiac se o validador se aplica ao dispositivo.\n   * \n   * @param {Element} dispositivo Dispositivo a ser validado.\n   */\n\n\n  _createClass(Validador, [{\n    key: 'aplicaSeA',\n    value: function aplicaSeA(dispositivo) {\n      return this.tipos.has(dispositivo.getAttribute('data-tipo'));\n    }\n\n    /**\n     * Realiza a validao do dispositivo.\n     * \n     * @param {Element} dispositivo Dispositivo a ser validado.\n     * @returns {Boolean} Verdadeiro se o dispositivo estiver vlido.\n     */\n\n  }, {\n    key: 'validar',\n    value: function validar(dispositivo) {\n      throw 'No implementado.';\n    }\n  }]);\n\n  return Validador;\n}();\n\nexports.default = Validador;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TransformacaoDoProximo = exports.Transformacao = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _TransformacaoAutomaticaEvent = __webpack_require__(7);\n\nvar _TransformacaoAutomaticaEvent2 = _interopRequireDefault(_TransformacaoAutomaticaEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Definio abstrata de uma transformao a ser realizada na\n * seleo da articulao.\n */\nvar Transformacao = function () {\n    function Transformacao() /*sequencias*/{\n        _classCallCheck(this, Transformacao);\n\n        this.sequencias = [];\n\n        for (var i = 0; i < arguments.length; i++) {\n            var sequencia = arguments[i];\n            this.sequencias.push(sequencia);\n\n            if (sequencia.indexOf('\\n') >= 0) {\n                this.sequencias.push(sequencia.replace(/\\n/g, '\\r'));\n            }\n        }\n    }\n\n    _createClass(Transformacao, [{\n        key: 'transformar',\n\n\n        /**\n         * Efetua a transformao.\n         * \n         * @param {Element} elementoEditor Elemento em que est o editor de articulao.\n         * @param {EditorArticulacaoController} ctrl Controlador do editor.\n         * @param {ContextoArticulacao} contexto Contexto atual.\n         * @param {String} sequencia Sequncia que disparou a transformao.\n         * @param {KeyboardEvent} event Evento do teclado.\n         */\n        value: function transformar(elementoEditor, ctrl, contexto, sequencia, event) {\n            throw 'Mtodo no implementado';\n        }\n    }, {\n        key: 'tipoTransformacao',\n        get: function get() {\n            // Deve-se sobrescrever este getter, pois na minificao de js, perde-se o nome do construtor!\n            return this.constructor.name;\n        }\n    }]);\n\n    return Transformacao;\n}();\n\n/**\n * Definio abstrata de uma transformao a ser realizada no\n * prximo dispositivo selecionado, aps o disparo do evento\n * 'keyup'. til para transformaes a ser executadas aps\n * a criao de um novo dispositivo.\n */\n\n\nvar TransformacaoDoProximo = function (_Transformacao) {\n    _inherits(TransformacaoDoProximo, _Transformacao);\n\n    function TransformacaoDoProximo() {\n        _classCallCheck(this, TransformacaoDoProximo);\n\n        return _possibleConstructorReturn(this, (TransformacaoDoProximo.__proto__ || Object.getPrototypeOf(TransformacaoDoProximo)).apply(this, arguments));\n    }\n\n    _createClass(TransformacaoDoProximo, [{\n        key: 'transformar',\n        value: function transformar(editor, ctrl, contexto) {\n            var _this2 = this;\n\n            var novoTipo = this.proximoTipo(editor, ctrl, contexto);\n\n            if (novoTipo) {\n                onKeyUp(editor, contexto.cursor.elemento, function () {\n                    var tipoAnterior = ctrl.contexto.cursor.tipo;\n                    ctrl.alterarTipoDispositivoSelecionado(novoTipo);\n                    ctrl.dispatchEvent(new _TransformacaoAutomaticaEvent2.default(ctrl, tipoAnterior, novoTipo, _this2.tipoTransformacao));\n                });\n            }\n        }\n    }, {\n        key: 'proximoTipo',\n        value: function proximoTipo(editor, ctrl, contexto) {\n            throw 'Mtodo no implementado';\n        }\n    }]);\n\n    return TransformacaoDoProximo;\n}(Transformacao);\n\nfunction onKeyUp(editor, elementoAtual, callback) {\n    var handler = function handler(event) {\n        callback(event);\n        editor.removeEventListener('keyup', handler);\n    };\n\n    editor.addEventListener('keyup', handler);\n}\n\nexports.Transformacao = Transformacao;\nexports.TransformacaoDoProximo = TransformacaoDoProximo;\nexports.default = Transformacao;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Representa um evento interno, a ser disparado pelo EditorArticulacaoController.dispatchEvent.\n * Como o IE 11 possui problemas para herdar classes de CustomEvent, foi criada esta classe\n * intermediria para gerar o CustomEvent.\n */\nvar EventoInterno = function () {\n    function EventoInterno(nome, dados) {\n        _classCallCheck(this, EventoInterno);\n\n        this.nome = nome;\n        this.dados = dados;\n    }\n\n    _createClass(EventoInterno, [{\n        key: \"getCustomEvent\",\n        value: function getCustomEvent() {\n            return new CustomEvent(this.nome, this.dados);\n        }\n    }]);\n\n    return EventoInterno;\n}();\n\n// Polyfill de https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill\n\n\n(function () {\n    if (typeof window.CustomEvent === \"function\") return false;\n\n    function CustomEvent(event, params) {\n        params = params || { bubbles: false, cancelable: false, detail: undefined };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n})();\n\nexports.default = EventoInterno;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Intercepta um mtodo aps sua execuo.\n * \n * @param {Object} objeto Objeto ou classe a ser interceptada. Se o tipo for uma classe, a interceptao ocorrer sobre o prototype.\n * @param {String} metodo Mtodo a ser interceptado.\n * @param {function} interceptador Funo interceptadora, que receber o objeto, o valor retornado e os argumentos.\n */\nfunction interceptar(objeto, metodo, interceptador) {\n    if (!objeto) throw 'Objeto no fornecido.';\n    if (!metodo) throw 'Mtodo no fornecido.';\n    if (!interceptador) throw 'Interceptador no fornecido.';\n\n    if (typeof objeto === 'function') {\n        interceptar(objeto.prototype, metodo, interceptador);\n    } else {\n        var metodoOriginal = objeto[metodo];\n\n        if (!metodoOriginal) {\n            throw 'Mtodo no encontrado: ' + metodo;\n        }\n\n        objeto[metodo] = function () {\n            return interceptador(this, metodoOriginal, arguments);\n        };\n    }\n}\n\n/**\n * Intercepta um mtodo aps sua execuo.\n * \n * @param {Object} objeto Objeto ou classe a ser interceptada. Se o tipo for uma classe, a interceptao ocorrer sobre o prototype.\n * @param {String} metodo Mtodo a ser interceptado.\n * @param {function} interceptador Funo interceptadora, que receber o objeto, o valor retornado e os argumentos.\n */\nfunction interceptarApos(objeto, metodo, interceptador) {\n    if (!objeto) throw 'Objeto no fornecido.';\n    if (!metodo) throw 'Mtodo no fornecido.';\n    if (!interceptador) throw 'Interceptador no fornecido.';\n\n    if (typeof objeto === 'function') {\n        interceptarApos(objeto.prototype, metodo, interceptador);\n    } else {\n        var metodoOriginal = objeto[metodo];\n\n        if (!metodoOriginal) {\n            throw 'Mtodo no encontrado: ' + metodo;\n        }\n\n        objeto[metodo] = function () {\n            var resultado = metodoOriginal.apply(this, arguments);\n\n            return interceptador(this, resultado, arguments);\n        };\n    }\n}\n\nexports.interceptar = interceptar;\nexports.interceptarApos = interceptarApos;\nexports.default = {};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Interpreta contedo de articulao.\n * \n * @param {String} textoOriginal Texto a ser interpretado\n */\nfunction parseTexto(textoOriginal) {\n    var contexto = {\n        ultimoItem: null,\n        textoAnterior: '',\n        artigos: [],\n        getUltimoItemTipo: function getUltimoItemTipo(tipo) {\n            var item = this.ultimoItem;\n\n            if (item === null) {\n                return null;\n            }\n\n            if (typeof tipo === 'function') {\n                while (item && !(item instanceof tipo)) {\n                    item = item.$parent;\n                }\n            } else if (tipo instanceof Array) {\n                do {\n                    var j;\n\n                    for (j = 0; j < tipo.length; j++) {\n                        if (item instanceof tipo[j]) {\n                            return item;\n                        }\n                    }\n\n                    item = item.$parent;\n                } while (item);\n            } else {\n                throw 'Argumento invlido';\n            }\n\n            return item;\n        }\n    };\n    var regexpAspas = /([\\s\\S]*?|\"[\\s\\S]*?\")/g;\n    var regexpLinhas = [{\n        item: 'parentesis',\n        regexp: /^\\(.+\\)$/,\n        onMatch: function onMatch(contexto, m) {\n            if (contexto.ultimoItem) {\n                if (!contexto.ultimoItem.descricao) {\n                    contexto.ultimoItem.descricao = m[0];\n                } else {\n                    contexto.ultimoItem.descricao += m[0];\n                }\n            }\n\n            return contexto.ultimoItem;\n        }\n    }, {\n        item: 'continuacao-divisao',\n        regexp: /^\\s*(.*)?\\s*$/,\n        requisito: [Titulo, Capitulo, Secao, Subsecao],\n        onMatch: function onMatch(contexto, m) {\n            if (!contexto.ultimoItem.descricao) {\n                contexto.ultimoItem.descricao = m[1];\n            } else {\n                contexto.ultimoItem.descricao += m[1];\n            }\n\n            return contexto.ultimoItem;\n        },\n        reiniciar: true\n    }, {\n        item: 'artigo',\n        regexp: /^\\s*(?:Art\\.?|Artigo)\\s*(\\d+(?:-[a-z])?)\\s*.\\s*[-]?\\s*(.+)/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Artigo(m[1], m[2]);\n\n            contexto.artigos.push(item);\n\n            return item;\n        }\n    }, {\n        item: 'paragrafo',\n        regexp: /^\\s*(?:Pargrafo nico|\\s*(\\d+))\\s*.?\\s*[-]?\\s*(.+)/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Paragrafo(m[1] || 'Pargrafo nico', m[2]);\n            var container = contexto.getUltimoItemTipo(Artigo);\n\n            if (!container) {\n                container = new Artigo('', contexto.textoAnterior);\n                contexto.artigos.push(container);\n                contexto.textoAnterior = '';\n            }\n\n            container.adicionar(item);\n\n            return item;\n        }\n    }, {\n        item: 'inciso',\n        regexp: /^\\s*([IXVDLM]+)\\s*[-).]\\s*(.+)/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Inciso(m[1], m[2]);\n            var container = contexto.getUltimoItemTipo([Artigo, Paragrafo]);\n\n            if (!container) {\n                container = new Artigo('', contexto.textoAnterior);\n                contexto.artigos.push(container);\n                contexto.textoAnterior = '';\n            }\n\n            container.adicionar(item);\n\n            return item;\n        }\n    }, {\n        item: 'alinea',\n        //requisito: [Inciso, Alinea, Item],\n        regexp: /^\\s*([a-z])\\s*[-).]\\s*(.*)/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Alinea(m[1], m[2]);\n            var container = contexto.getUltimoItemTipo(Inciso);\n\n            if (!container) {\n                var artigo = contexto.getUltimoItemTipo([Artigo, Paragrafo]);\n\n                if (!artigo) {\n                    artigo = new Artigo('', '');\n                    contexto.artigos.push(artigo);\n                }\n\n                container = new Inciso('', contexto.textoAnterior);\n                artigo.adicionar(container);\n                contexto.textoAnterior = '';\n            }\n\n            container.adicionar(item);\n\n            return item;\n        }\n    }, {\n        item: 'item',\n        //requisito: [Alinea, Item],\n        regexp: /^\\s*(\\d)\\s*[-).]\\s*(.*)/,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Item(m[1], m[2]);\n            var container = contexto.getUltimoItemTipo(Alinea);\n\n            if (!container) {\n                container = new Alinea('', contexto.textoAnterior);\n\n                var inciso = contexto.getUltimoItemTipo(Inciso);\n\n                if (!inciso) {\n                    var artigo = contexto.getUltimoItemTipo([Artigo, Paragrafo]);\n\n                    if (!artigo) {\n                        artigo = new Artigo('', '');\n                        contexto.artigos.push(artigo);\n                    }\n\n                    inciso = new Inciso('', '');\n                    artigo.adicionar(inciso);\n                }\n\n                inciso.adicionar(container);\n                contexto.textoAnterior = '';\n            }\n\n            container.adicionar(item);\n\n            return item;\n        }\n    }, {\n        item: 'titulo',\n        regexp: /^\\s*T[I]TULO\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Titulo(m[1], m[2] || '');\n\n            contexto.artigos.push(item);\n\n            return item;\n        }\n    }, {\n        item: 'capitulo',\n        regexp: /^\\s*CAP[I]TULO\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Capitulo(m[1], m[2] || '');\n\n            contexto.artigos.push(item);\n\n            return item;\n        }\n    }, {\n        item: 'secao',\n        regexp: /^\\s*SE[C][A]O\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Secao(m[1], m[2] || '');\n\n            contexto.artigos.push(item);\n\n            return item;\n        }\n    }, {\n        item: 'subsecao',\n        regexp: /^\\s*SUBSE[C][A]O\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n        onMatch: function onMatch(contexto, m) {\n            var item = new Subsecao(m[1], m[2] || '');\n\n            contexto.artigos.push(item);\n\n            return item;\n        }\n    }];\n\n    /* Para cada citao, isto , texto entre aspas, substitui-se o seu contedo\n     * por \\0 e o contedo substitudo  inserido na pilha de aspas, para evitar\n     * que o contedo seja tambm interpretado.\n     */\n    var aspas = [];\n    var texto = textoOriginal.replace(regexpAspas, function (aspa) {\n        aspas.push(aspa.replace(/[]/g, '\"'));\n        return '\\0';\n    }).replace(/\\s*\\n+\\s*/g, '\\n');\n\n    texto.split('\\n').forEach(function (linha) {\n        var i, regexp, m, atendeRequisito;\n\n        for (i = 0; i < regexpLinhas.length; i++) {\n            regexp = regexpLinhas[i];\n\n            // Verifica se a expresso est adequado ao contexto atual.\n            if (regexp.requisito) {\n                var j;\n\n                atendeRequisito = false;\n\n                for (j = 0; j < regexp.requisito.length; j++) {\n                    if (contexto.ultimoItem instanceof regexp.requisito[j]) {\n                        atendeRequisito = true;\n                        break;\n                    }\n                }\n            } else {\n                atendeRequisito = true;\n            }\n\n            if (atendeRequisito) {\n                m = regexp.regexp.exec(linha);\n\n                if (m) {\n                    contexto.ultimoItem = regexp.onMatch(contexto, m);\n\n                    if (contexto.ultimoItem) {\n                        contexto.ultimoItem.descricao = contexto.ultimoItem.descricao.replace(/\\0/g, aspas.shift.bind(aspas));\n\n                        if (regexp.reiniciar) {\n                            contexto.ultimoItem = null;\n                        }\n                    }\n\n                    return;\n                }\n            }\n        }\n\n        linha = linha.replace(/\\0/g, function () {\n            return aspas.shift();\n        });\n\n        if (contexto.ultimoItem) {\n            contexto.ultimoItem.descricao += '\\n' + linha;\n        } else if (contexto.artigos.length > 0 && contexto.artigos[contexto.artigos.length - 1] instanceof Divisao) {\n            contexto.artigos[contexto.artigos.length - 1].descricao += '\\n' + linha;\n        } else if (contexto.textoAnterior.length === 0) {\n            contexto.textoAnterior = linha;\n        } else {\n            contexto.textoAnterior += '\\n' + linha;\n        }\n    });\n\n    return {\n        textoAnterior: contexto.textoAnterior,\n        articulacao: contexto.artigos\n    };\n}\n\n/**\n * Transforma as quebras de linha em elementos P.\n * \n * @param {String} texto \n * @returns {String}\n */\nfunction transformarQuebrasDeLinhaEmP(texto) {\n    var fragmento = document.createDocumentFragment();\n\n    if (texto.indexOf('\\n') === -1) {\n        var p = document.createElement('p');\n        p.textContent = texto;\n        fragmento.appendChild(p);\n    } else {\n        var partes = texto.split(/\\n+/g);\n\n        partes.forEach(function (parte) {\n            var p = document.createElement('p');\n            p.textContent = parte;\n            fragmento.appendChild(p);\n        });\n    }\n\n    return fragmento;\n}\n\n/**\n * Transforma as quebras de linha em espao.\n * \n * @param {String} texto \n * @returns {String}\n */\nfunction transformarQuebrasDeLinhaEmEspaco(texto) {\n    var fragmento = document.createDocumentFragment();\n\n    var p = document.createElement('p');\n    p.textContent = texto.replace(/\\n+/g, ' ');\n\n    fragmento.appendChild(p);\n\n    return fragmento;\n}\n\n// Definio de classes\n\nvar Dispositivo = function () {\n    function Dispositivo(tipo, numero, descricao, derivacoes) {\n        _classCallCheck(this, Dispositivo);\n\n        this.numero = numero;\n        this.descricao = descricao;\n\n        Object.defineProperty(this, 'tipo', {\n            value: tipo\n        });\n\n        if (derivacoes) {\n            Object.defineProperty(this, 'subitens', {\n                get: function get() {\n                    var _this = this;\n\n                    return derivacoes.reduce(function (prev, item) {\n                        return prev.concat(_this[item]);\n                    }, []);\n                }\n            });\n        }\n    }\n\n    /**\n     * Adiciona um dispositivo a este.\n     * \n     * @param {*} dispositivo \n     */\n\n\n    _createClass(Dispositivo, [{\n        key: 'adicionar',\n        value: function adicionar(dispositivo) {\n            throw 'No implementado';\n        }\n\n        /**\n         * Transforma o contedo na descrio em fragmento do DOM.\n         */\n\n    }, {\n        key: 'transformarConteudoEmFragmento',\n        value: function transformarConteudoEmFragmento() {\n            return transformarQuebrasDeLinhaEmEspaco(this.descricao);\n        }\n\n        /**\n         * Transforma o dispositivo no formato do editor.\n         */\n\n    }, {\n        key: 'paraEditor',\n        value: function paraEditor() {\n            var fragmento = this.transformarConteudoEmFragmento();\n\n            fragmento.firstElementChild.setAttribute('data-tipo', this.tipo);\n\n            for (var item = fragmento.children[1]; item; item = item.nextElementSibling) {\n                item.setAttribute('data-tipo', 'continuacao');\n            }\n\n            this.subitens.forEach(function (subItem) {\n                return fragmento.appendChild(subItem.paraEditor());\n            });\n\n            return fragmento;\n        }\n    }]);\n\n    return Dispositivo;\n}();\n\nvar Artigo = function (_Dispositivo) {\n    _inherits(Artigo, _Dispositivo);\n\n    function Artigo(numero, caput) {\n        _classCallCheck(this, Artigo);\n\n        var _this2 = _possibleConstructorReturn(this, (Artigo.__proto__ || Object.getPrototypeOf(Artigo)).call(this, 'artigo', numero, caput, ['incisos', 'paragrafos']));\n\n        _this2.incisos = [];\n        _this2.paragrafos = [];\n        return _this2;\n    }\n\n    _createClass(Artigo, [{\n        key: 'adicionar',\n        value: function adicionar(incisoOuParagrafo) {\n            var self = this;\n\n            Object.defineProperty(incisoOuParagrafo, '$parent', {\n                get: function get() {\n                    return self;\n                }\n            });\n\n            if (incisoOuParagrafo instanceof Inciso) {\n                this.incisos.push(incisoOuParagrafo);\n            } else if (incisoOuParagrafo instanceof Paragrafo) {\n                this.paragrafos.push(incisoOuParagrafo);\n            } else {\n                throw 'Tipo no suportado.';\n            }\n        }\n    }, {\n        key: 'transformarConteudoEmFragmento',\n        value: function transformarConteudoEmFragmento() {\n            return transformarQuebrasDeLinhaEmP(this.descricao);\n        }\n    }, {\n        key: 'paraEditor',\n        value: function paraEditor() {\n            var fragmento = _get(Artigo.prototype.__proto__ || Object.getPrototypeOf(Artigo.prototype), 'paraEditor', this).call(this);\n\n            if (this.paragrafos.length === 1) {\n                fragmento.querySelector('p[data-tipo=\"paragrafo\"]').classList.add('unico');\n            }\n\n            return fragmento;\n        }\n    }]);\n\n    return Artigo;\n}(Dispositivo);\n\nvar Paragrafo = function (_Dispositivo2) {\n    _inherits(Paragrafo, _Dispositivo2);\n\n    function Paragrafo(numero, descricao) {\n        _classCallCheck(this, Paragrafo);\n\n        var _this3 = _possibleConstructorReturn(this, (Paragrafo.__proto__ || Object.getPrototypeOf(Paragrafo)).call(this, 'paragrafo', numero, descricao, ['incisos']));\n\n        _this3.incisos = [];\n        return _this3;\n    }\n\n    _createClass(Paragrafo, [{\n        key: 'adicionar',\n        value: function adicionar(inciso) {\n            var self = this;\n\n            if (!(inciso instanceof Inciso)) {\n                throw 'Tipo no suportado.';\n            }\n\n            Object.defineProperty(inciso, '$parent', {\n                get: function get() {\n                    return self;\n                }\n            });\n\n            this.incisos.push(inciso);\n        }\n    }]);\n\n    return Paragrafo;\n}(Dispositivo);\n\nvar Inciso = function (_Dispositivo3) {\n    _inherits(Inciso, _Dispositivo3);\n\n    function Inciso(numero, descricao) {\n        _classCallCheck(this, Inciso);\n\n        var _this4 = _possibleConstructorReturn(this, (Inciso.__proto__ || Object.getPrototypeOf(Inciso)).call(this, 'inciso', numero, descricao, ['alineas']));\n\n        _this4.alineas = [];\n        return _this4;\n    }\n\n    _createClass(Inciso, [{\n        key: 'adicionar',\n        value: function adicionar(alinea) {\n            var self = this;\n\n            if (!(alinea instanceof Alinea)) {\n                throw 'Tipo no suportado.';\n            }\n\n            Object.defineProperty(alinea, '$parent', {\n                get: function get() {\n                    return self;\n                }\n            });\n\n            this.alineas.push(alinea);\n        }\n    }]);\n\n    return Inciso;\n}(Dispositivo);\n\nvar Alinea = function (_Dispositivo4) {\n    _inherits(Alinea, _Dispositivo4);\n\n    function Alinea(numero, descricao) {\n        _classCallCheck(this, Alinea);\n\n        var _this5 = _possibleConstructorReturn(this, (Alinea.__proto__ || Object.getPrototypeOf(Alinea)).call(this, 'alinea', numero, descricao, ['itens']));\n\n        _this5.itens = [];\n        return _this5;\n    }\n\n    _createClass(Alinea, [{\n        key: 'adicionar',\n        value: function adicionar(item) {\n            var self = this;\n\n            if (!(item instanceof Item)) {\n                throw 'Tipo no suportado.';\n            }\n\n            Object.defineProperty(item, '$parent', {\n                get: function get() {\n                    return self;\n                }\n            });\n\n            this.itens.push(item);\n        }\n    }]);\n\n    return Alinea;\n}(Dispositivo);\n\nvar Item = function (_Dispositivo5) {\n    _inherits(Item, _Dispositivo5);\n\n    function Item(numero, descricao) {\n        _classCallCheck(this, Item);\n\n        return _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).call(this, 'item', numero, descricao, []));\n    }\n\n    return Item;\n}(Dispositivo);\n\nvar Divisao = function (_Dispositivo6) {\n    _inherits(Divisao, _Dispositivo6);\n\n    function Divisao(tipo, numero, descricao) {\n        _classCallCheck(this, Divisao);\n\n        var _this7 = _possibleConstructorReturn(this, (Divisao.__proto__ || Object.getPrototypeOf(Divisao)).call(this, tipo, numero, descricao));\n\n        _this7.subitens = [];\n        return _this7;\n    }\n\n    _createClass(Divisao, [{\n        key: 'adicionar',\n        value: function adicionar(item) {\n            this.subitens.push(item);\n        }\n    }]);\n\n    return Divisao;\n}(Dispositivo);\n\nvar Titulo = function (_Divisao) {\n    _inherits(Titulo, _Divisao);\n\n    function Titulo(numero, descricao) {\n        _classCallCheck(this, Titulo);\n\n        return _possibleConstructorReturn(this, (Titulo.__proto__ || Object.getPrototypeOf(Titulo)).call(this, 'titulo', numero, descricao));\n    }\n\n    return Titulo;\n}(Divisao);\n\nvar Capitulo = function (_Divisao2) {\n    _inherits(Capitulo, _Divisao2);\n\n    function Capitulo(numero, descricao) {\n        _classCallCheck(this, Capitulo);\n\n        return _possibleConstructorReturn(this, (Capitulo.__proto__ || Object.getPrototypeOf(Capitulo)).call(this, 'capitulo', numero, descricao));\n    }\n\n    return Capitulo;\n}(Divisao);\n\nvar Secao = function (_Divisao3) {\n    _inherits(Secao, _Divisao3);\n\n    function Secao(numero, descricao) {\n        _classCallCheck(this, Secao);\n\n        return _possibleConstructorReturn(this, (Secao.__proto__ || Object.getPrototypeOf(Secao)).call(this, 'secao', numero, descricao));\n    }\n\n    return Secao;\n}(Divisao);\n\nvar Subsecao = function (_Divisao4) {\n    _inherits(Subsecao, _Divisao4);\n\n    function Subsecao(numero, descricao) {\n        _classCallCheck(this, Subsecao);\n\n        return _possibleConstructorReturn(this, (Subsecao.__proto__ || Object.getPrototypeOf(Subsecao)).call(this, 'subsecao', numero, descricao));\n    }\n\n    return Subsecao;\n}(Divisao);\n\n/**\n * Extrai o agrupador no formato \"Nome Nmero - Descrio\".\n * \n * @param txt\n * \t\tTexto cujo agrupador ser extrado.\n * \n * @returns {object}\n * \t\tObjeto contendo atributos: numero e descricao.\n */\n\n\nfunction extrairAgrupador(txt) {\n    var regExpTitulo = /(\\w+) (\\w+)\\s*[-]\\s*\\n*(.*)/i,\n        item;\n\n    if (!txt) {\n        return null;\n    }\n\n    item = regExpTitulo.exec(txt.replace(/[\\r\\n]/g, ' ').trim());\n\n    return {\n        numero: item[2],\n        descricao: removerUnicaTagParagrafo(item[3])\n    };\n}\n\nfunction transformarEmLexML(json) {\n    function reducaoInciso(prev, inciso, idx, array) {\n\n        var idInciso = array.prefixo + \"_inc\" + (idx + 1);\n\n        return prev + '<Inciso id=\"' + idInciso + '\"><Rotulo>' + inciso.numero + '</Rotulo><p>' + inciso.descricao + '</p>' + (inciso.alineas || []).reduce(function (prev, alinea, idx) {\n            return prev + '<Alinea id=\"' + idInciso + '_ali' + (idx + 1) + '\"><Rotulo>' + alinea.numero + '</Rotulo><p>' + alinea.descricao + '</p></Alinea>';\n        }, '') + '</Inciso>';\n    }\n\n    var lexml = '<Articulacao xmlns=\"http://www.lexml.gov.br/1.0\">' + json.articulacao.reduce(function (prev, artigo, idx) {\n        var idArt = 'art' + (idx + 1);\n        var texto = prev + '<Artigo id=\"' + idArt + '\"><Rotulo>Art. ' + (idx + 1) + (idx < 9 ? '' : '') + ' </Rotulo><Caput id=\"' + idArt + '_cpt\"><p>' + artigo.descricao + '</p>';\n\n        if (artigo.incisos && artigo.incisos.length > 0) {\n            artigo.incisos.prefixo = idArt + '_cpt';\n            texto += artigo.incisos.reduce(reducaoInciso, '');\n        }\n\n        texto += '</Caput>';\n\n        if (artigo.paragrafos && artigo.paragrafos.length > 0) {\n            texto += artigo.paragrafos.reduce(function (prev, paragrafo, idx, paragrafos) {\n                var idPar = idArt + '_par' + (idx + 1);\n                if (paragrafo.incisos) {\n                    paragrafo.incisos.prefixo = idPar;\n                }\n\n                return prev + '<Paragrafo id=\"' + idPar + '\"><Rotulo>' + (paragrafos.length === 1 ? 'Pargrafo nico' : '' + (idx + 1 + (idx < 9 ? '' : ''))) + ' </Rotulo><p>' + paragrafo.descricao + '</p>' + (paragrafo.incisos || []).reduce(reducaoInciso, '') + '</Paragrafo>';\n            }, '');\n        }\n\n        return texto + '</Artigo>';\n    }, '') + '</Articulacao>';\n\n    return lexml;\n}\n\n/**\n * Interpreta contedo de articulao.\n * \n * @param {String} texto Texto a ser interpretado\n * @param {String} formatoDestino Formato a ser retornado: 'json', 'lexml' (padro) ou \"lexmlString\".\n * @param {String} formatoOrigem Formatao a ser processado: 'texto' (padro), 'html'.\n * @returns {Object|DocumentFragment}\n */\nfunction interpretarArticulacao(texto, formatoDestino, formatoOrigem) {\n    var json;\n\n    try {\n        switch ((formatoOrigem || 'texto').toLowerCase()) {\n            case 'texto':\n                json = parseTexto(texto);\n                break;\n\n            case 'html':\n                var div = document.createElement('div');\n                div.innerHTML = texto;\n                json = parseTexto(removerEntidadeHtml(div.innerHTML.replace(/<P>(.+?)<\\/P>/gi, '$1\\n').trim()));\n                break;\n\n            default:\n                throw 'Formato no suportado.';\n        }\n\n        switch ((formatoDestino || 'lexml').toLowerCase()) {\n            case 'json':\n                return json;\n\n            case 'lexml':\n                return transformarEmLexMLFragmento(json);\n\n            case 'lexmlstring':\n            case 'lexml-string':\n                return transformarEmLexML(json);\n\n            default:\n                throw 'Formato no suportado: ' + formatoDestino;\n        }\n    } catch (e) {\n        throw {\n            mensagem: 'Erro interpretando articulao.',\n            item: texto,\n            formato: formatoDestino,\n            erroOriginal: e\n        };\n    }\n}\n\nfunction removerEntidadeHtml(html) {\n    var safeXmlEntities = [\"&lt;\", \"&gt;\", \"&quot;\", \"&amp;\", \"&apos;\"];\n\n    return html.replace(/&.+?;/g, function (entidade) {\n        if (safeXmlEntities.indexOf(entidade) >= 0) {\n            return entidade;\n        } else {\n            /* A entidade no  uma das predefinidas no xml e  suportada s no HTML. Por exemplo: &nbsp; ou &copy;.\n             * Nesse caso, converte para texto e no replace abaixo substitui pela notao unicode.\n             */\n            var span = document.createElement('span');\n            span.innerHTML = entidade;\n            return span.textContent;\n        }\n    });\n}\n\nfunction transformarEmLexMLFragmento(json) {\n    var lexml = transformarEmLexML(json);\n    var container = document.createElement('div');\n    container.innerHTML = lexml;\n\n    var fragmento = document.createDocumentFragment();\n\n    while (container.firstChild) {\n        fragmento.appendChild(container.firstChild);\n    }\n\n    return fragmento;\n}\n\nexports.default = {\n    Artigo: Artigo,\n    Paragrafo: Paragrafo,\n    Inciso: Inciso,\n    Alinea: Alinea,\n    Item: Item,\n    Titulo: Titulo,\n    Capitulo: Capitulo,\n    Secao: Secao,\n    Subsecao: Subsecao,\n    interpretar: interpretarArticulacao,\n    transformarQuebrasDeLinhaEmP: transformarQuebrasDeLinhaEmP\n};\nexports.Artigo = Artigo;\nexports.Paragrafo = Paragrafo;\nexports.Inciso = Inciso;\nexports.Alinea = Alinea;\nexports.Item = Item;\nexports.Titulo = Titulo;\nexports.Capitulo = Capitulo;\nexports.Secao = Secao;\nexports.Subsecao = Subsecao;\nexports.interpretarArticulacao = interpretarArticulacao;\nexports.transformarQuebrasDeLinhaEmP = transformarQuebrasDeLinhaEmP;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Obtm o dispositivo anterior, de determinado tipo.\n * \n * @param {Element} dispositivo \n * @param {String[]} pontosParada Tipos de dispositivos desejados.\n * @param {String[]} pontosInterrupcao Tipos de dispositivos que, se encontrados, interromper a obteno, retornando nulo.\n * @returns {Element} Dispositivo, se encontrado, ou nulo.\n */\nfunction encontrarDispositivoAnteriorDoTipo(dispositivo, pontosParada, pontosInterrupcao) {\n    while (!dispositivo.hasAttribute('data-tipo')) {\n        dispositivo = dispositivo.parentNode;\n    }\n\n    var setParada = new Set(pontosParada);\n    var setInterrupcao = new Set(pontosInterrupcao);\n\n    for (var prev = dispositivo.previousElementSibling; prev; prev = prev.previousElementSibling) {\n        var tipoAnterior = prev.getAttribute('data-tipo');\n\n        if (setParada.has(tipoAnterior)) {\n            return prev;\n        } else if (setInterrupcao.has(tipoAnterior)) {\n            return null;\n        }\n    }\n\n    return null;\n}\n\n/**\n * Obtm o dispositivo posterior, de determinado tipo.\n * \n * @param {Element} dispositivo \n * @param {String[]} pontosParada Tipos de dispositivos desejados.\n * @param {String[]} pontosInterrupcao Tipos de dispositivos que, se encontrados, interromper a obteno, retornando nulo.\n * @returns {Element} Dispositivo, se encontrado, ou nulo.\n */\nfunction encontrarDispositivoPosteriorDoTipo(elemento, pontosParada, pontosInterrupcao) {\n    while (!elemento.hasAttribute('data-tipo')) {\n        elemento = elemento.parentNode;\n    }\n\n    var setParada = new Set(pontosParada);\n    var setInterrupcao = new Set(pontosInterrupcao);\n\n    for (var proximo = elemento.nextElementSibling; proximo; proximo = proximo.nextElementSibling) {\n        var tipoProximo = proximo.getAttribute('data-tipo');\n\n        if (setParada.has(tipoProximo)) {\n            return proximo;\n        } else if (setInterrupcao.has(tipoProximo)) {\n            return null;\n        }\n    }\n\n    return null;\n}\n\n/**\n * Obtm os tipos de dispositivos em nveis superiores.\n * \n * @param {String} tipo Tipo cujos tipos superiores sero obtidos.\n */\nfunction getTiposSuperiores(tipo) {\n    return {\n        inciso: ['artigo', 'paragrafo'],\n        alinea: ['artigo', 'paragrafo', 'inciso'],\n        item: ['artigo', 'paragrafo', 'inciso', 'alinea']\n    }[tipo] || [];\n}\n\nexports.encontrarDispositivoAnteriorDoTipo = encontrarDispositivoAnteriorDoTipo;\nexports.encontrarDispositivoPosteriorDoTipo = encontrarDispositivoPosteriorDoTipo;\nexports.getTiposSuperiores = getTiposSuperiores;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _ContextoArticulacaoAtualizadoEvent = __webpack_require__(14);\n\nvar _ContextoArticulacaoAtualizadoEvent2 = _interopRequireDefault(_ContextoArticulacaoAtualizadoEvent);\n\nvar _ContextoArticulacao = __webpack_require__(15);\n\nvar _ContextoArticulacao2 = _interopRequireDefault(_ContextoArticulacao);\n\nvar _transformacaoAutomatica = __webpack_require__(16);\n\nvar _transformacaoAutomatica2 = _interopRequireDefault(_transformacaoAutomatica);\n\nvar _chrome = __webpack_require__(22);\n\nvar _chrome2 = _interopRequireDefault(_chrome);\n\nvar _ie = __webpack_require__(23);\n\nvar _ie2 = _interopRequireDefault(_ie);\n\nvar _polyfill = __webpack_require__(24);\n\nvar _polyfill2 = _interopRequireDefault(_polyfill);\n\nvar _importarDeLexML = __webpack_require__(25);\n\nvar _importarDeLexML2 = _interopRequireDefault(_importarDeLexML);\n\nvar _exportarParaLexML = __webpack_require__(26);\n\nvar _exportarParaLexML2 = _interopRequireDefault(_exportarParaLexML);\n\nvar _interpretadorArticulacao = __webpack_require__(4);\n\nvar _ClipboardController = __webpack_require__(27);\n\nvar _ClipboardController2 = _interopRequireDefault(_ClipboardController);\n\nvar _ControleAlteracao = __webpack_require__(28);\n\nvar _ControleAlteracao2 = _interopRequireDefault(_ControleAlteracao);\n\nvar _editorArticulacao = __webpack_require__(30);\n\nvar _editorArticulacao2 = _interopRequireDefault(_editorArticulacao);\n\nvar _editorArticulacaoShadow = __webpack_require__(31);\n\nvar _editorArticulacaoShadow2 = _interopRequireDefault(_editorArticulacaoShadow);\n\nvar _ArticulacaoInvalidaException = __webpack_require__(8);\n\nvar _ArticulacaoInvalidaException2 = _interopRequireDefault(_ArticulacaoInvalidaException);\n\nvar _util = __webpack_require__(5);\n\nvar _ValidacaoController = __webpack_require__(32);\n\nvar _ValidacaoController2 = _interopRequireDefault(_ValidacaoController);\n\nvar _opcoesPadrao = __webpack_require__(9);\n\nvar _opcoesPadrao2 = _interopRequireDefault(_opcoesPadrao);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar cssImportado = false;\n\n/**\n * Controlador do editor de articulao.\n */\n\nvar EditorArticulacaoController = function () {\n\n    /**\n     * Elemento do DOM que ser utilizado como editor de articulao.\n     * \n     * @param {Element} elemento Elemento que receber o editor de articulao.\n     * @param {Object} opcoes Opes do editor de articulao:\n     *      - {Boolean} shadowDOM: Utiliza shadow-dom, se disponvel (padro: true).\n     */\n    function EditorArticulacaoController(elemento, opcoes) {\n        _classCallCheck(this, EditorArticulacaoController);\n\n        if (!(elemento instanceof Element)) {\n            throw 'Elemento no  um elemento do DOM.';\n        }\n\n        (0, _polyfill2.default)();\n\n        var opcoesEfetivas = Object.create(_opcoesPadrao2.default);\n        Object.assign(opcoesEfetivas, opcoes);\n\n        if (opcoes && opcoes.rotulo) {\n            Object.setPrototypeOf(opcoesEfetivas.rotulo, _opcoesPadrao2.default.rotulo);\n        }\n\n        this.opcoes = opcoesEfetivas;\n        Object.freeze(opcoesEfetivas);\n        Object.freeze(opcoesEfetivas.rotulo);\n        Object.freeze(opcoesEfetivas.validacao);\n\n        elemento = transformarEmEditor(elemento, this, opcoesEfetivas);\n\n        Object.defineProperty(this, '_elemento', {\n            value: elemento\n        });\n\n        this._handlers = [];\n\n        if (!this.opcoes.somenteLeitura) {\n            this._registrarEventos();\n\n            if (opcoesEfetivas.transformacaoAutomatica) {\n                (0, _transformacaoAutomatica2.default)(this, elemento);\n            }\n\n            this.controleAlteracao = (0, _ControleAlteracao2.default)(this);\n            this.validacaoCtrl = new _ValidacaoController2.default(this.opcoes.validacao);\n            this.clipboardCtrl = new _ClipboardController2.default(this, this.validacaoCtrl);\n\n            // Executa hack se necessrio.\n            if (/Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n                (0, _chrome2.default)(this);\n            }\n\n            if (/Trident\\//.test(navigator.userAgent)) {\n                (0, _ie2.default)(this);\n            }\n        }\n\n        this.limpar();\n    }\n\n    /**\n     * Dispara evento no DOM. Deve-se usar este mtodo, pois caso seja utilizado\n     * ShadowDOM, este mtodo  substitudo para propagao externa de evento.\n     * \n     * @param {EventoInterno} eventoInterno \n     */\n\n\n    _createClass(EditorArticulacaoController, [{\n        key: 'dispatchEvent',\n        value: function dispatchEvent(eventoInterno) {\n            this._elemento.dispatchEvent(eventoInterno.getCustomEvent());\n        }\n    }, {\n        key: 'getSelection',\n        value: function getSelection() {\n            return document.getSelection();\n        }\n    }, {\n        key: 'limpar',\n        value: function limpar() {\n            this._elemento.innerHTML = '<p data-tipo=\"artigo\"><br></p>';\n        }\n    }, {\n        key: '_registrarEventos',\n\n\n        /**\n         * Adiciona tratamento de eventos no DOM, que pode ser removido em seguida\n         * por meio do mtodo \"desregistrar\".\n         */\n        value: function _registrarEventos() {\n            var _this = this;\n\n            var eventHandler = this._cursorEventHandler.bind(this);\n            var eventos = ['focus', 'keyup', 'mousedown', 'touchstart', 'mouseup', 'touchend'];\n\n            eventos.forEach(function (evento) {\n                return _this.registrarEventListener(evento, eventHandler);\n            });\n            this.registrarEventListener('keydown', this._keyDownEventHandler.bind(this));\n\n            this.registrarEventListener('blur', function (e) {\n                if (!_this.opcoes.somenteLeitura) {\n                    if (_this.vazio) {\n                        _this.limpar();\n                    }\n\n                    var contexto = _this.contexto;\n\n                    if (contexto && contexto.cursor.dispositivo) {\n                        _this.validacaoCtrl.validar(_this.contexto.cursor.dispositivo);\n                    }\n                }\n            });\n        }\n\n        /**\n         * Adiciona um tratamento de evento no elemento do editor no DOM.\n         * \n         * @param {*} evento Evento a ser capturado.\n         * @param {*} listener\n         * @param {*} useCapture \n         */\n\n    }, {\n        key: 'registrarEventListener',\n        value: function registrarEventListener(evento, listener, useCapture) {\n            this._handlers.push({ evento: evento, handler: listener });\n            this._elemento.addEventListener(evento, listener, useCapture);\n        }\n    }, {\n        key: 'desregistrar',\n        value: function desregistrar() {\n            var _this2 = this;\n\n            this._handlers.forEach(function (registro) {\n                return _this2._elemento.removeEventListener(registro.evento, registro.handler);\n            });\n            this._handlers = [];\n        }\n\n        /**\n         * Trata evento de alterao de cursor.\n         */\n\n    }, {\n        key: '_cursorEventHandler',\n        value: function _cursorEventHandler(event) {\n            this.atualizarContexto();\n            this._normalizarContexto();\n\n            if (event instanceof KeyboardEvent && event.key && event.key.length === 1 && this.contexto.cursor.dispositivo && this.contexto.cursor.dispositivo.hasAttribute('data-invalido')) {\n                this.contexto.cursor.dispositivo.removeAttribute('data-invalido');\n            }\n        }\n    }, {\n        key: '_keyDownEventHandler',\n        value: function _keyDownEventHandler(event) {\n            if (!this.contexto || !this.contexto.cursor.elemento) {\n                this._cursorEventHandler(event);\n            }\n\n            var elementoSelecionado = obterSelecao(this);\n\n            if (!this.contexto || elementoSelecionado !== this.contexto.cursor.elemento) {\n                this._cursorEventHandler(event);\n            }\n        }\n    }, {\n        key: '_normalizarContexto',\n        value: function _normalizarContexto() {\n            if (!this.contexto) {\n                return;\n            }\n\n            var dispositivo = this.contexto.cursor.dispositivo;\n\n            if (dispositivo) {\n                this._normalizarDispositivo(dispositivo.previousElementSibling);\n                this._normalizarDispositivo(dispositivo, this.contexto);\n                this._normalizarDispositivo(dispositivo.nextElementSibling);\n\n                if (!this.opcoes.somenteLeitura) {\n                    this.validacaoCtrl.validar(dispositivo.previousElementSibling);\n                    this.validacaoCtrl.validar(dispositivo.nextElementSibling);\n                }\n            }\n        }\n\n        /**\n         * Atualiza a varivel de anlise do contexto do cursor.\n         */\n\n    }, {\n        key: 'atualizarContexto',\n        value: function atualizarContexto() {\n            var elementoSelecionado = obterSelecao(this);\n\n            if (!elementoSelecionado) {\n                if (!this.contexto) {\n                    return;\n                }\n\n                elementoSelecionado = this.contexto.cursor.elemento;\n            }\n\n            /* Se a seleo estiver no container e no houver nenhum contedo,\n             * ento devemos recriar o contedo mnimo.\n             */\n            if (elementoSelecionado === this._elemento && (!this._elemento.firstElementChild || this._elemento.firstElementChild === this._elemento.lastElementChild && this._elemento.firstElementChild.tagName === 'BR')) {\n                this.limpar();\n                elementoSelecionado = this._elemento.firstElementChild;\n\n                var selecao = this.getSelection();\n                selecao.removeAllRanges();\n                var range = document.createRange();\n\n                range.selectNodeContents(elementoSelecionado);\n                selecao.addRange(range);\n            }\n\n            var novoCalculo = new _ContextoArticulacao2.default(this._elemento, elementoSelecionado);\n\n            if (!this.contexto || this.contexto.cursor.elemento !== elementoSelecionado || this.contexto.comparar(novoCalculo)) {\n                // Realiza a validao do cursor anterior.\n                if (this.contexto && this.contexto.cursor.dispositivo && !this.opcoes.somenteLeitura) {\n                    this.validacaoCtrl.validar(this.contexto.cursor.dispositivo);\n                }\n\n                this.contexto = novoCalculo;\n                this.dispatchEvent(new _ContextoArticulacaoAtualizadoEvent2.default(novoCalculo));\n            }\n\n            return novoCalculo;\n        }\n\n        /**\n         * Altera o tipo do dispositivo selecionado.\n         * \n         * @param {String} novoTipo Novo tipo do dispositivo.\n         */\n\n    }, {\n        key: 'alterarTipoDispositivoSelecionado',\n        value: function alterarTipoDispositivoSelecionado(novoTipo) {\n            this.atualizarContexto();\n\n            if (!this.contexto) {\n                throw 'No h contexto atual.';\n            }\n\n            if (!this.contexto.permissoes[novoTipo]) {\n                throw 'Tipo no permitido: ' + novoTipo;\n            }\n\n            var dispositivo = this.contexto.cursor.dispositivo;\n\n            this._definirTipo(dispositivo, novoTipo);\n\n            // Se a seleo incluir mais de um dispositivo, vamos alter-los tambm.\n            var selecao = this.getSelection();\n            var range = selecao && selecao.rangeCount > 0 ? selecao.getRangeAt(0) : null;\n            var endContainer = range ? range.endContainer : null;\n\n            if (endContainer) {\n                /* Se o container final no estiver no mesmo nvel (por exemplo,\n                 * um n textual ou at mesmo uma tag de itlico dentro do\n                 * dispositivo), ento considera-se como endContainer o dispositivo\n                 * ancestral, por meio da verificao do atributo \"data-tipo\".\n                 */\n                while (endContainer !== this._elemento && (endContainer.nodeType !== Node.ELEMENT_NODE || !endContainer.hasAttribute('data-tipo'))) {\n                    endContainer = endContainer.parentElement;\n                }\n\n                /* Altera o tipo para todos os dispositivos seguintes at encontrar\n                 * o container final.\n                 */\n                while (dispositivo !== endContainer && dispositivo) {\n                    dispositivo = dispositivo.nextElementSibling;\n                    this._definirTipo(dispositivo, novoTipo);\n                }\n            }\n\n            this.atualizarContexto();\n        }\n\n        /**\n         * Altera o tipo de um dispositivo, sem qualquer validao.\n         * \n         * @param {Element} dispositivo \n         * @param {String} novoTipo \n         */\n\n    }, {\n        key: '_definirTipo',\n        value: function _definirTipo(dispositivo, novoTipo) {\n            var tipoAnterior = dispositivo.getAttribute('data-tipo');\n\n            if (tipoAnterior !== novoTipo) {\n                dispositivo.setAttribute('data-tipo', novoTipo);\n                dispositivo.classList.remove('unico');\n\n                try {\n                    this._normalizarContexto();\n                } finally {\n                    this.controleAlteracao.alterado = true;\n                }\n            }\n        }\n\n        /**\n         * Normaliza o dispositivo, corrigindo eventuais inconsistncias.\n         * \n         * @param {Element} dispositivo \n         * @param {ContextoArticulacao} contexto \n         */\n\n    }, {\n        key: '_normalizarDispositivo',\n        value: function _normalizarDispositivo(dispositivo, contexto) {\n            while (dispositivo && !dispositivo.hasAttribute('data-tipo')) {\n                dispositivo = dispositivo.parentElement;\n            }\n\n            if (!dispositivo) {\n                return;\n            }\n\n            if (!contexto) {\n                contexto = new _ContextoArticulacao2.default(this._elemento, dispositivo);\n            } else if (!(contexto instanceof _ContextoArticulacao2.default)) {\n                throw 'Conexto no  instncia de ContextoArticulacao.';\n            }\n\n            if (contexto && !contexto.permissoes[dispositivo.getAttribute('data-tipo')]) {\n                try {\n                    var anterior = dispositivo.previousElementSibling;\n                    this._normalizarDispositivo(anterior);\n                    dispositivo.setAttribute('data-tipo', obterTipoValido(anterior.getAttribute('data-tipo') || 'continuacao', contexto.permissoes));\n                    this._normalizarDispositivo(dispositivo.nextElementSibling);\n                } catch (e) {\n                    dispositivo.setAttribute('data-tipo', 'artigo');\n                    console.error(e);\n                }\n            }\n\n            if (dispositivo.getAttribute('data-tipo') === 'paragrafo') {\n                this._normalizarParagrafo(dispositivo);\n            }\n        }\n\n        /**\n         * Normaliza o dispositivo que  ou foi um pargrafo.\n         * Este mtodo ir verificar a existncia de pargrafo nico, ajustando css.\n         * \n         * @param {Element} dispositivo Pargrafo\n         */\n\n    }, {\n        key: '_normalizarParagrafo',\n        value: function _normalizarParagrafo(dispositivo) {\n            var anterior = (0, _util.encontrarDispositivoAnteriorDoTipo)(dispositivo, ['artigo', 'paragrafo']);\n            var posterior = (0, _util.encontrarDispositivoPosteriorDoTipo)(dispositivo, ['artigo', 'paragrafo']);\n\n            if (dispositivo.getAttribute('data-tipo') === 'paragrafo' || dispositivo.getAttribute('data-tipo') === 'continuacao') {\n                dispositivo.classList.toggle('unico', (!anterior || anterior.getAttribute('data-tipo') !== 'paragrafo') && (!posterior || posterior.getAttribute('data-tipo') !== 'paragrafo'));\n\n                if (anterior && anterior.getAttribute('data-tipo') === 'paragrafo') {\n                    anterior.classList.remove('unico');\n                }\n\n                if (posterior && posterior.getAttribute('data-tipo') === 'paragrafo') {\n                    posterior.classList.remove('unico');\n                }\n\n                // Se o pargrafo anterior  sem ordinal, ento este tambm .\n                if (anterior && anterior.classList.contains('semOrdinal')) {\n                    dispositivo.classList.add('semOrdinal');\n                } else {\n                    /* Se o pargrafo anterior tem ordinal, ento vamos contar quantos pargrafos tem\n                     * para decidir se este tambm deve ter. Esta contagem no  feita por artigo,\n                     * pois  possvel resolver esta questo usando CSS. No caso de pargrafo,\n                     * a contagem de pargrafos usando o seletor ~  influenciada por pargrafos\n                     * de outros artigos.\n                     */\n                    var i = void 0,\n                        aux = void 0;\n\n                    for (i = 1, aux = anterior; i < 10 && aux && aux.getAttribute('data-tipo') === 'paragrafo'; i++) {\n                        aux = (0, _util.encontrarDispositivoAnteriorDoTipo)(aux, ['artigo', 'paragrafo']);\n                    }\n\n                    dispositivo.classList.toggle('semOrdinal', i >= 10);\n                }\n            } else if (anterior && anterior.getAttribute('data-tipo') === 'paragrafo' && (!posterior || posterior.getAttribute('data-tipo') !== 'paragrafo')) {\n                anterior.classList.add('unico');\n            } else if ((!anterior || anterior.getAttribute('data-tipo') !== 'paragrafo') && posterior && posterior.getAttribute('data-tipo') === 'paragrafo') {\n                this._normalizarParagrafo(posterior);\n            }\n        }\n    }, {\n        key: 'vazio',\n        get: function get() {\n            return !this._elemento.firstElementChild || this._elemento.firstElementChild === this._elemento.lastElementChild && this._elemento.textContent === '';\n        }\n    }, {\n        key: 'lexml',\n        get: function get() {\n            try {\n                return this.vazio ? document.createDocumentFragment() : (0, _exportarParaLexML2.default)(this._elemento, this.opcoes.rotulo);\n            } catch (e) {\n                if (e instanceof _ArticulacaoInvalidaException2.default) {\n                    for (var filho = this._elemento.firstElementChild; filho; filho = filho.nextElementSibling) {\n                        this._normalizarDispositivo(filho);\n                    }\n\n                    return (0, _exportarParaLexML2.default)(this._elemento);\n                }\n\n                throw e;\n            }\n        },\n        set: function set(valor) {\n            var articulacao = (0, _importarDeLexML2.default)(valor);\n\n            this._elemento.innerHTML = '';\n            this._elemento.appendChild(articulacao);\n\n            if (this.vazio) {\n                this.limpar();\n            }\n\n            if (!this.opcoes.somenteLeitura) {\n                this.controleAlteracao.comprometer();\n\n                if (this.opcoes.validarAoAtribuir) {\n                    for (var dispositivo = this._elemento.firstElementChild; dispositivo; dispositivo = dispositivo.nextElementSibling) {\n                        this.validacaoCtrl.validar(dispositivo);\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'lexmlString',\n        get: function get() {\n            var xml = this.lexml;\n            var xmlSerializer = new XMLSerializer();\n            var resultado = xmlSerializer.serializeToString(xml);\n\n            return this.opcoes.escaparXML ? escaparXml(resultado) : resultado;\n        },\n        set: function set(valor) {\n            this.lexml = valor;\n        }\n    }, {\n        key: 'alterado',\n        get: function get() {\n            return this.controleAlteracao.alterado;\n        }\n    }]);\n\n    return EditorArticulacaoController;\n}();\n\n/**\n * Obtm a seleo atual.\n * \n * @returns {Element} Elemento selecionado.\n */\n\n\nfunction obterSelecao(ctrl) {\n    var selecao = ctrl.getSelection();\n    var range = selecao && selecao.rangeCount > 0 ? selecao.getRangeAt(0) : null;\n\n    if (range) {\n        var startContainer = range ? range.startContainer : null;\n\n        if (!startContainer) {\n            return null;\n        }\n\n        if (startContainer.nodeType !== Node.ELEMENT_NODE || startContainer.nodeName === 'BR') {\n            startContainer = startContainer.parentNode;\n        }\n\n        if (startContainer === ctrl._elemento) {\n            var refazerSelecao = true;\n\n            // A seleo deveria estar em algum dispositivo.\n            if (!startContainer.firstElementChild || !startContainer.firstElementChild.hasAttribute('data-tipo')) {\n                ctrl.limpar();\n                startContainer = ctrl._elemento.firstElementChild;\n            } else if (range.collapsed && range.startOffset === startContainer.childNodes.length) {\n                // Se est no final do container da articulao, ento vamos para o ltimo elemento na hierarquia.\n                do {\n                    startContainer = startContainer.lastElementChild;\n                } while (startContainer.lastElementChild);\n            } else if (range.collapsed && range.startOffset === 0) {\n                // Se est no incio do container da articulao, ento vamos para o primeiro elemento no ltimo nvel da hierarquia.\n                do {\n                    startContainer = startContainer.firstElementChild;\n                } while (startContainer.firstElementChild);\n            } else {\n                refazerSelecao = false;\n            }\n\n            if (refazerSelecao) {\n                selecao.removeAllRanges();\n                range = document.createRange();\n                range.setStart(startContainer, 0);\n                selecao.addRange(range);\n            }\n\n            return startContainer;\n        } else if (startContainer.compareDocumentPosition(ctrl._elemento) & Node.DOCUMENT_POSITION_CONTAINS) {\n            // Garante que a seleo est dentro do editor de articulao.\n            return startContainer;\n        }\n    }\n\n    return null;\n}\n\n/**\n * Obtm um tipo vlido, a partir de um tipo desejado.\n * \n * @param {String} tipoDesejado \n * @param {Object} permissoes Permisses do contexto atual.\n * @returns {String} Tipo vlido.\n */\nfunction obterTipoValido(tipoDesejado, permissoes) {\n    if (tipoDesejado && !permissoes[tipoDesejado]) {\n        return obterTipoValido({\n            titulo: 'capitulo',\n            capitulo: 'artigo',\n            secao: 'artigo',\n            subsecao: 'artigo'\n        }[tipoDesejado], permissoes);\n    }\n\n    return tipoDesejado || 'artigo';\n}\n\n/**\n * Substitui caracteres de cdigo alto por cdigos unicode.\n * Substitui entidades no suportadas no XML por cdigos unicode.\n *\n * @param {String} xml XML original.\n * @returns {String} XML escapado.\n */\nfunction escaparXml(xml) {\n    return xml.replace(/[\\u00A0-\\u9999]/gim, function (i) {\n        return '&#' + i.charCodeAt(0) + ';'; // Converte em unicode escapado.\n    });\n}\n\nfunction transformarEmEditor(elemento, editorCtrl, opcoes) {\n    var style = document.createElement('style');\n    style.innerHTML = _editorArticulacao2.default.toString().replace(/\\${(.+?)}/g, function (m, valor) {\n        return opcoes.rotulo[valor];\n    });\n\n    /* Se houver suporte ao shadow-dom, ento vamos us-lo\n     * para garantir o isolamento da rvore interna do componente\n     * e possveis problemas com CSS.\n     */\n    if (opcoes.shadowDOM && 'attachShadow' in elemento) {\n        var shadowStyle = document.createElement('style');\n        shadowStyle.innerHTML = _editorArticulacaoShadow2.default.toString();\n\n        var shadow = elemento.attachShadow({ mode: typeof opcoes.shadowDOM === 'string' ? opcoes.shadowDOM : 'open' });\n\n        editorCtrl.dispatchEvent = elemento.dispatchEvent.bind(elemento);\n        editorCtrl.getSelection = function () {\n            return shadow.getSelection();\n        };\n\n        var novoElemento = document.createElement('div');\n        novoElemento.contentEditable = !opcoes.somenteLeitura;\n        novoElemento.spellcheck = elemento.spellcheck;\n        novoElemento.classList.add('silegismg-editor-articulacao');\n\n        shadow.appendChild(style);\n        shadow.appendChild(shadowStyle);\n        shadow.appendChild(novoElemento);\n\n        elemento.addEventListener('focus', function (focusEvent) {\n            return novoElemento.focus();\n        });\n        elemento.focus = function () {\n            novoElemento.focus();\n        };\n\n        return novoElemento;\n    } else {\n        elemento.contentEditable = !opcoes.somenteLeitura;\n        elemento.classList.add('silegismg-editor-articulacao');\n\n        if (!cssImportado) {\n            var head = document.querySelector('head');\n\n            if (head) {\n                head.appendChild(style);\n            } else {\n                document.body.appendChild(style);\n            }\n\n            cssImportado = true;\n        }\n\n        return elemento;\n    }\n}\n\nexports.default = EditorArticulacaoController;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _EventoInterno2 = __webpack_require__(2);\n\nvar _EventoInterno3 = _interopRequireDefault(_EventoInterno2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Evento de notificao de transformao automtica ocorrida\n * em dispositivo.\n */\nvar TransformacaoAutomaticaEvent = function (_EventoInterno) {\n    _inherits(TransformacaoAutomaticaEvent, _EventoInterno);\n\n    /**\n     * Constri o evento.\n     * \n     * @param {EditorArticulacaoController} editorArticulacaoCtrl \n     */\n    function TransformacaoAutomaticaEvent(editorArticulacaoCtrl, tipoAnterior, novoTipo, transformacao) {\n        _classCallCheck(this, TransformacaoAutomaticaEvent);\n\n        return _possibleConstructorReturn(this, (TransformacaoAutomaticaEvent.__proto__ || Object.getPrototypeOf(TransformacaoAutomaticaEvent)).call(this, 'transformacao', {\n            detail: {\n                automatica: true,\n                tipoAnterior: tipoAnterior,\n                novoTipo: novoTipo,\n                transformacao: transformacao,\n                editorArticulacaoCtrl: editorArticulacaoCtrl\n            }\n        }));\n    }\n\n    return TransformacaoAutomaticaEvent;\n}(_EventoInterno3.default);\n\nexports.default = TransformacaoAutomaticaEvent;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar ArticulacaoInvalidaException = function () {\n    function ArticulacaoInvalidaException(dispositivo, mensagem) {\n        _classCallCheck(this, ArticulacaoInvalidaException);\n\n        this.dispositivo = dispositivo;\n        this.mensagem = mensagem;\n    }\n\n    _createClass(ArticulacaoInvalidaException, [{\n        key: \"tipo\",\n        get: function get() {\n            return dispositivo.tagName;\n        }\n    }]);\n\n    return ArticulacaoInvalidaException;\n}();\n\nexports.default = ArticulacaoInvalidaException;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Definio padro das opes do editor de articulao.\n */\nexports.default = {\n  /**\n   * Determina o escapamento de caracteres de cdigo alto unicode durante a exportao\n   * para lexmlString.\n   */\n  escaparXML: false,\n\n  /**\n   * Determina o sufixo para os rtulos dos dispositivos.\n   */\n  rotulo: {\n    separadorArtigo: ' \\u2013',\n    separadorArtigoSemOrdinal: ' \\u2013',\n    separadorParagrafo: ' \\u2013',\n    separadorParagrafoSemOrdinal: ' \\u2013',\n    separadorParagrafoUnico: ' \\u2013',\n    separadorInciso: ' \\u2013',\n    separadorAlinea: ')',\n    separadorItem: ')'\n  },\n\n  /**\n   * Determina se deve adotar o Shadow DOM, se suportado pelo navegador.\n   */\n  shadowDOM: false,\n\n  /**\n   * Determina se deve permitir a edio, ou se o componente ser somente para leitura.\n   */\n  somenteLeitura: false,\n\n  /**\n   * Determina se o editor de articulao deve aplicar transformao automtica.\n   */\n  transformacaoAutomatica: true,\n\n  /**\n   * Determina se deve validar o contedo atribudo ao componente.\n   */\n  validarAoAtribuir: true,\n\n  /**\n   * Determina as validaes que devem ocorrer.\n   * Nenhuma validao ocorre se o editor for somente para leitura.\n   */\n  validacao: {\n    /**\n     * Determina se deve validar o uso de caixa alta.\n     */\n    caixaAlta: true,\n\n    /**\n     * Determina se deve validar o uso de aspas em citaes.\n     */\n    citacao: true,\n\n    /**\n     * Determina se deve validar a presena de mltiplos elementos em uma enumerao.\n     */\n    enumeracaoElementos: true,\n\n    /**\n     * Determina se deve validar o uso de letra maiscula no caput do artigo e em pargrafos.\n     */\n    inicialMaiuscula: true,\n\n    /**\n     * Determina se deve validar as pontuaes.\n     */\n    pontuacao: true,\n\n    /**\n     * Determina se deve validar pontuao de enumerao.\n     */\n    pontuacaoEnumeracao: true,\n\n    /**\n     * Determina se deve exigir sentena nica no dispositivo.\n     */\n    sentencaUnica: true\n  }\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif (item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function (modules, mediaQuery) {\n\t\tif (typeof modules === \"string\") modules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif (typeof id === \"number\") alreadyImportedModules[id] = true;\n\t\t}\n\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif (typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif (mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if (mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ComponenteEdicao = __webpack_require__(12);\n\nvar _ComponenteEdicao2 = _interopRequireDefault(_ComponenteEdicao);\n\nvar _EditorArticulacaoController = __webpack_require__(6);\n\nvar _EditorArticulacaoController2 = _interopRequireDefault(_EditorArticulacaoController);\n\nvar _interpretadorArticulacao = __webpack_require__(4);\n\nvar _interpretadorArticulacao2 = _interopRequireDefault(_interpretadorArticulacao);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Prepara um elemento do DOM como um editor de articulao.\n * \n * @param {Element} elemento \n */\nfunction criarControllerEditorArticulacao(elemento, opcoes) {\n    elemento.ctrlArticulacao = new _EditorArticulacaoController2.default(elemento, opcoes);\n\n    Object.defineProperty(elemento, 'lexml', {\n        get: function get() {\n            return this.ctrlArticulacao.lexml;\n        },\n        set: function set(valor) {\n            this.ctrlArticulacao.lexml = valor;\n        }\n    });\n\n    return elemento.ctrlArticulacao;\n} /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n   * \n   * This file is part of Editor-Articulacao.\n   *\n   * Editor-Articulacao is free software: you can redistribute it and/or modify\n   * it under the terms of the GNU Lesser General Public License as published by\n   * the Free Software Foundation, version 3.\n   *\n   * Editor-Articulacao is distributed in the hope that it will be useful,\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n   * GNU Lesser General Public License for more details.\n   *\n   * You should have received a copy of the GNU Lesser General Public License\n   * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n   */\n\n/* Cria uma funo global, chamada silegismgEditorArticulacao,\n * que permite transformar um DIV em um editor de articulao.\n * A funo cria e retorna uma nova instncia de EditorArticulacaoController.\n */\n\nfunction prepararEditorArticulacaoCompleto(elemento, opcoes) {\n    elemento.componenteEdicao = new _ComponenteEdicao2.default(elemento, opcoes);\n\n    Object.defineProperty(elemento, 'lexml', {\n        get: function get() {\n            return this.componenteEdicao.ctrl.lexml;\n        },\n        set: function set(valor) {\n            this.componenteEdicao.ctrl.lexml = valor;\n        }\n    });\n\n    return elemento.componenteEdicao;\n}\n\nwindow.silegismgEditorArticulacao = prepararEditorArticulacaoCompleto;\nwindow.silegismgEditorArticulacaoController = criarControllerEditorArticulacao;\nwindow.silegismgInterpretadorArticulacao = _interpretadorArticulacao2.default;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _editor = __webpack_require__(13);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _EditorArticulacaoController = __webpack_require__(6);\n\nvar _EditorArticulacaoController2 = _interopRequireDefault(_EditorArticulacaoController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                           * \n                                                                                                                                                           * This file is part of Editor-Articulacao.\n                                                                                                                                                           *\n                                                                                                                                                           * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                           * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                           * the Free Software Foundation, version 3.\n                                                                                                                                                           *\n                                                                                                                                                           * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                           * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                           * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                           * GNU Lesser General Public License for more details.\n                                                                                                                                                           *\n                                                                                                                                                           * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                           * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                           */\n\n/**\n * Transforma um elemento do DOM em um editor de articulao com\n * barra de ferramentas.\n */\nvar ComponenteEdicao = function ComponenteEdicao(elemento, opcoes) {\n    _classCallCheck(this, ComponenteEdicao);\n\n    var container, botoes, containerBotoes, ctrl;\n\n    /* Se houver suporte ao shadow-dom, ento vamos us-lo\n     * para garantir o isolamento da rvore interna do componente\n     * e possveis problemas com CSS.\n     */\n    if (opcoes.shadowDOM && 'attachShadow' in elemento) {\n        var shadow = elemento.attachShadow({ mode: typeof opcoes.shadowDOM === 'string' ? opcoes.shadowDOM : 'open' });\n\n        shadow.innerHTML = _editor2.default.toString();\n\n        container = shadow.querySelector('.silegismg-editor-conteudo');\n        containerBotoes = shadow.querySelector('.silegismg-editor-botoes');\n        botoes = containerBotoes.querySelectorAll('button[data-tipo-destino]');\n\n        elemento.addEventListener('focus', function (focusEvent) {\n            return container.focus();\n        });\n        elemento.focus = function () {\n            container.focus();\n        };\n        elemento.ctrlArticulacao = this.ctrl = ctrl = new _EditorArticulacaoController2.default(container, opcoes);\n    } else {\n        elemento.innerHTML = _editor2.default.toString();\n        container = elemento.querySelector('.silegismg-editor-conteudo');\n        containerBotoes = elemento.querySelector('.silegismg-editor-botoes');\n        botoes = elemento.querySelectorAll('button[data-tipo-destino]');\n        elemento.ctrlArticulacao = this.ctrl = ctrl = new _EditorArticulacaoController2.default(container, opcoes);\n    }\n\n    this.ctrl.dispatchEvent = function (eventoInterno) {\n        return elemento.dispatchEvent(eventoInterno.getCustomEvent());\n    };\n\n    function alterarDispositivo(event) {\n        ctrl.alterarTipoDispositivoSelecionado(event.target.getAttribute('data-tipo-destino'));\n        container.focus();\n    }\n\n    // Trata cliques nos botes de formatao.\n    for (var i = 0; i < botoes.length; i++) {\n        botoes[i].addEventListener('click', alterarDispositivo.bind(this));\n    }\n\n    /* Monitora atualizao do contexto do usurio no editor de articulao,\n     * controlando habilitao de botes de transformao de dispositivo.\n     * \n     * A atualizao  feita por meio do evento \"contexto\" no DOM.\n     */\n    elemento.addEventListener('contexto', function (evento) {\n        /* Os botes de transformao de dispositivo s s habilitados se for possvel\n         * usar o dispositivo onde o cursor estiver.\n         */\n        for (var _i = 0; _i < botoes.length; _i++) {\n            botoes[_i].disabled = !evento.detail.permissoes[botoes[_i].getAttribute('data-tipo-destino')];\n            botoes[_i].classList.remove('atual');\n        }\n\n        var tipoAtual = containerBotoes.querySelector('button[data-tipo-destino=\"' + evento.detail.cursor.tipo + '\"]');\n\n        if (tipoAtual) {\n            tipoAtual.classList.add('atual');\n        }\n    });\n\n    elemento.addEventListener('scroll', function (evento) {\n        containerBotoes.style.position = 'relative';\n        containerBotoes.style.top = elemento.scrollTop + 'px';\n    });\n};\n\nexports.default = ComponenteEdicao;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = \" <style rel=stylesheet/css>.silegismg-editor-base{border:solid 1px #ccc;border-top:none}.silegismg-editor-base .silegismg-editor-botoes{background:#ccc;padding:18px 4px 4px 4px}.silegismg-editor-base .silegismg-editor-botoes .silegismg-editor-botoes-agrupamento{display:inline-block;margin-right:1ex}.silegismg-editor-base .silegismg-editor-botoes .silegismg-editor-botoes-agrupamento:before{content:attr(data-agrupamento);position:absolute;margin-top:-1.3em;font-size:12px}.silegismg-editor-base .silegismg-editor-botoes button[disabled]{opacity:.5}.silegismg-editor-base .silegismg-editor-botoes button.atual{background:#fff;color:#000;border:#fff 2px;padding:2px 1ex;font-weight:bolder}.silegismg-editor-base .silegismg-editor-conteudo{margin:2ex}</style> <div class=silegismg-editor-base> <div class=silegismg-editor-botoes> <div class=silegismg-editor-botoes-agrupamento data-agrupamento=\\\"Diviso do texto\\\"> <button data-tipo-destino=titulo>Ttulo</button> <button data-tipo-destino=capitulo>Captulo</button> <button data-tipo-destino=secao>Seo</button> <button data-tipo-destino=subsecao>Subseo</button> </div> <div class=silegismg-editor-botoes-agrupamento data-agrupamento=\\\"Formatao de dispositivos\\\"> <button data-tipo-destino=continuacao>Continuao</button> <button data-tipo-destino=artigo>Artigo</button> <button data-tipo-destino=paragrafo>Pargrafo</button> <button data-tipo-destino=inciso>Inciso</button> <button data-tipo-destino=alinea>Alnea</button> <button data-tipo-destino=item>Item</button> </div> </div> <div class=silegismg-editor-conteudo> </div> </div>\";\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _EventoInterno2 = __webpack_require__(2);\n\nvar _EventoInterno3 = _interopRequireDefault(_EventoInterno2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Evento de notificao de atualizao do contexto de edio.\n * til para atualizao da interface de usurio, habilitando ou\n * desabilitando botes.\n */\nvar ContextoArticulacaoAtualizadoEvent = function (_EventoInterno) {\n  _inherits(ContextoArticulacaoAtualizadoEvent, _EventoInterno);\n\n  /**\n   * Constri o evento.\n   * \n   * @param {ContextoArticulacao} contexto \n   */\n  function ContextoArticulacaoAtualizadoEvent(contexto) {\n    _classCallCheck(this, ContextoArticulacaoAtualizadoEvent);\n\n    return _possibleConstructorReturn(this, (ContextoArticulacaoAtualizadoEvent.__proto__ || Object.getPrototypeOf(ContextoArticulacaoAtualizadoEvent)).call(this, 'contexto', {\n      detail: contexto\n    }));\n  }\n\n  return ContextoArticulacaoAtualizadoEvent;\n}(_EventoInterno3.default);\n\nexports.default = ContextoArticulacaoAtualizadoEvent;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n *\n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Representa o contexto do usurio no editor de articulao.\n * Possui dois atributos: cursor, contendo o contexto no cursor,\n * e as permisses de alterao de dispositivo na seleo.\n */\nvar ContextoArticulacao = function () {\n    function ContextoArticulacao(elementoArticulacao, dispositivo) {\n        _classCallCheck(this, ContextoArticulacao);\n\n        var cursor = {\n            italico: dispositivo.tagName === 'I',\n            desconhecido: false,\n            titulo: false,\n            capitulo: false,\n            secao: false,\n            subsecao: false,\n            artigo: false,\n            continuacao: false,\n            paragrafo: false,\n            inciso: false,\n            alinea: false,\n            item: false,\n            raiz: false,\n            elemento: dispositivo,\n            get tipo() {\n                return this.dispositivo ? this.dispositivo.getAttribute('data-tipo') : 'desconhecido';\n            }\n        };\n\n        while (dispositivo && dispositivo !== elementoArticulacao && !dispositivo.hasAttribute('data-tipo')) {\n            dispositivo = dispositivo.parentElement;\n        }\n\n        cursor.dispositivo = dispositivo !== elementoArticulacao ? dispositivo : null;\n\n        while (dispositivo && dispositivo.getAttribute('data-tipo') === 'continuacao') {\n            dispositivo = dispositivo.previousElementSibling;\n            cursor.continuacao = true;\n        }\n\n        if (!dispositivo) {\n            cursor.desconhecido = true;\n        } else if (dispositivo === elementoArticulacao) {\n            dispositivo.raiz = true;\n        } else if (dispositivo.hasAttribute('data-tipo')) {\n            cursor[dispositivo.getAttribute('data-tipo')] = true;\n        } else {\n            cursor.desconhecido = true;\n        }\n\n        var primeiroDoTipo = void 0,\n            tipoAnterior = void 0;\n\n        Object.defineProperty(cursor, 'primeiroDoTipo', {\n            get: function get() {\n                if (primeiroDoTipo === undefined) {\n                    primeiroDoTipo = dispositivo && verificarPrimeiroDoTipo(dispositivo);\n                }\n\n                return primeiroDoTipo;\n            }\n        });\n\n        cursor.dispositivoAnterior = dispositivo && obterDispositivoAnterior(dispositivo, elementoArticulacao);\n        cursor.tipoAnterior = cursor.dispositivoAnterior && cursor.dispositivoAnterior.getAttribute('data-tipo');\n\n        var matches = Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.onMatchesSelector || function () {\n            return true;\n        };\n\n        function possuiAnterior(dispositivo, tipo) {\n            /* Implementao falha/incompleta. Uma subseo deve existir depois de uma seo,\n             * mas no deveria permitir captulo + seo + artigo + captulo + subseo.\n             *\n             * Cuidado pois esta implementao no pode ser cara!\n             */\n            return dispositivo && matches.call(dispositivo, 'p[data-tipo=\"' + tipo + '\"] ~ *');\n        }\n\n        var anteriorAgrupador = cursor.tipoAnterior === 'titulo' || cursor.tipoAnterior === 'capitulo' || cursor.tipoAnterior === 'secao' || cursor.tipoAnterior === 'subsecao';\n\n        var permissoes = {\n            titulo: !anteriorAgrupador,\n            capitulo: !anteriorAgrupador || cursor.tipoAnterior === 'titulo',\n            get secao() {\n                return (!anteriorAgrupador || cursor.tipoAnterior === 'capitulo') && possuiAnterior(cursor.dispositivo, 'capitulo');\n            },\n            get subsecao() {\n                return (!anteriorAgrupador || cursor.tipoAnterior === 'secao') && possuiAnterior(cursor.dispositivo, 'secao');\n            },\n            artigo: true /*cursor.tipoAnterior !== 'titulo' - No manual de redao parlamentar da ALMG, d a entender que o ttulo  um agrupamento de captulos, mas a constituio possui Art 1. logo aps o ttulo.*/\n            , continuacao: cursor.tipoAnterior === 'artigo' || cursor.continuacao,\n            inciso: cursor.tipoAnterior && !anteriorAgrupador && (!cursor.artigo || cursor.artigo && !cursor.primeiroDoTipo),\n            paragrafo: cursor.tipoAnterior && !anteriorAgrupador && (!cursor.artigo || cursor.artigo && (!cursor.primeiroDoTipo || cursor.continuacao)),\n            alinea: cursor.inciso && !cursor.primeiroDoTipo || cursor.tipoAnterior === 'inciso' || cursor.tipoAnterior === 'alinea' || cursor.tipoAnterior === 'item',\n            item: cursor.alinea && !cursor.primeiroDoTipo || cursor.tipoAnterior === 'alinea' || cursor.tipoAnterior === 'item'\n        };\n\n        Object.defineProperty(this, 'cursor', { value: cursor });\n        Object.defineProperty(this, 'permissoes', { value: permissoes });\n\n        Object.freeze(this);\n        Object.freeze(cursor);\n        Object.freeze(permissoes);\n    }\n\n    _createClass(ContextoArticulacao, [{\n        key: 'comparar',\n        value: function comparar(obj2) {\n            for (var i in this.cursor) {\n                if (this.cursor[i] !== obj2.cursor[i]) {\n                    return true;\n                }\n            }\n\n            for (var _i in this.permissoes) {\n                if (this.permissoes[_i] !== obj2.permissoes[_i]) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        /**\n         * Determina se o contexto atual  vlido.\n         *\n         * @returns {Boolean} Verdadeiro, se o contexto estiver vlido.\n         */\n\n    }, {\n        key: 'valido',\n        get: function get() {\n            return this.permissoes[this.cursor.tipo];\n        }\n    }]);\n\n    return ContextoArticulacao;\n}();\n\n/**\n * Determina se o dispositivo  o primeiro do tipo.\n *\n * @param {Element} dispositivo\n * @returns {Boolean} Verdadeiro, se for o primeiro do tipo.\n */\n\n\nfunction verificarPrimeiroDoTipo(dispositivo) {\n    var tipo = dispositivo.getAttribute('data-tipo');\n\n    if (!tipo) {\n        return null;\n    }\n\n    while (tipo === 'continuacao') {\n        dispositvo = dispositivo.previousElementSibling;\n        tipo = dispositivo.getAttribute('data-tipo');\n    }\n\n    var pontosParagem = {\n        parte: [],\n        livro: [],\n        titulo: [],\n        capitulo: ['titulo'],\n        secao: ['capitulo', 'titulo'],\n        subsecao: ['secao', 'capitulo', 'titulo'],\n        artigo: [],\n        paragrafo: ['artigo'],\n        inciso: ['paragrafo', 'artigo'],\n        alinea: ['inciso'],\n        item: ['alinea']\n    }[tipo].reduce(function (prev, item) {\n        prev[item] = true;\n        return prev;\n    }, {});\n\n    for (var prev = dispositivo.previousElementSibling; prev; prev = prev.previousElementSibling) {\n        var tipoAnterior = prev.getAttribute('data-tipo');\n\n        if (tipoAnterior === tipo) {\n            return false;\n        } else if (pontosParagem[tipoAnterior]) {\n            return true;\n        }\n    }\n\n    return true;\n}\n\n/**\n * Obtm o tipo de dispositivo anterior.\n *\n * @param {Element} dispositivo\n * @returns {Element} Elemento do dispositivo anterior.\n */\nfunction obterDispositivoAnterior(dispositivo, elementoArticulacao) {\n    while (dispositivo && !dispositivo.hasAttribute('data-tipo') && dispositivo !== elementoArticulacao) {\n        dispositivo = dispositivo.parentElement;\n    }\n\n    if (!dispositivo || dispositivo === elementoArticulacao) {\n        return null;\n    }\n\n    for (var anterior = dispositivo.previousElementSibling; anterior; anterior = anterior.previousElementSibling) {\n        if (anterior.hasAttribute('data-tipo')) {\n            var tipo = anterior.getAttribute('data-tipo');\n\n            if (tipo !== 'continuacao') {\n                return anterior;\n            }\n        }\n    }\n\n    return null;\n}\n\nexports.default = ContextoArticulacao;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _DoisPontos = __webpack_require__(17);\n\nvar _DoisPontos2 = _interopRequireDefault(_DoisPontos);\n\nvar _PontoFinal = __webpack_require__(18);\n\nvar _PontoFinal2 = _interopRequireDefault(_PontoFinal);\n\nvar _AoIniciarAspas = __webpack_require__(19);\n\nvar _AoIniciarAspas2 = _interopRequireDefault(_AoIniciarAspas);\n\nvar _AoFecharAspas = __webpack_require__(20);\n\nvar _AoFecharAspas2 = _interopRequireDefault(_AoFecharAspas);\n\nvar _RecuarComEnterEmDispositivoVazio = __webpack_require__(21);\n\nvar _RecuarComEnterEmDispositivoVazio2 = _interopRequireDefault(_RecuarComEnterEmDispositivoVazio);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Adiciona a transformao automtica ao editor de articulao.\n * \n * @param {EditorArticulacaoController} editorArticulacaoCtrl \n * @param {Element} elemento \n */\nfunction adicionarTransformacaoAutomatica(editorArticulacaoCtrl, elemento) {\n    var parser = {},\n        estado = [];\n\n    adicionarParser(parser, new _DoisPontos2.default());\n    adicionarParser(parser, new _PontoFinal2.default());\n    adicionarParser(parser, new _AoIniciarAspas2.default());\n    adicionarParser(parser, new _AoFecharAspas2.default());\n    adicionarParser(parser, new _RecuarComEnterEmDispositivoVazio2.default());\n\n    editorArticulacaoCtrl.registrarEventListener('keypress', function (event) {\n        return estado = processarEstado(event, parser, estado, editorArticulacaoCtrl, elemento);\n    });\n    editorArticulacaoCtrl.registrarEventListener('mouseup', function (event) {\n        return estado = [];\n    });\n    editorArticulacaoCtrl.registrarEventListener('touchend', function (event) {\n        return estado = [];\n    });\n}\n\n/**\n * Adiciona um transformador ao parser.\n * \n * @param {Object} parser \n * @param {Transformacao} transformador \n */\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction adicionarParser(parser, transformador) {\n    transformador.sequencias.forEach(function (sequencia) {\n        var i,\n            pAtual = parser,\n            c;\n        var handler = transformador.transformar.bind(transformador);\n\n        for (i = 0; i < sequencia.length; i++) {\n            c = sequencia.charCodeAt(i);\n\n            if (!pAtual[c]) {\n                pAtual[c] = {};\n            }\n\n            pAtual = pAtual[c];\n        }\n\n        var objHandler = {\n            sequencia: sequencia,\n            handler: handler\n        };\n\n        if (pAtual.$handler) {\n            pAtual.$handler.push(objHandler);\n        } else {\n            pAtual.$handler = [objHandler];\n        }\n    });\n}\n\n/**\n * Realiza o parsing da edio.\n */\nfunction processarEstado(event, _parser, _estadoParser, controller, elemento) {\n    var novoEstado = [],\n        c = event.charCode || event.keyCode;\n\n    _estadoParser.forEach(function (estado) {\n        if (estado[c]) {\n            novoEstado.push(estado[c]);\n        }\n    });\n\n    if (_parser[c]) {\n        novoEstado.push(_parser[c]);\n    }\n\n    novoEstado.forEach(function (estado) {\n        if (estado.$handler) {\n            estado.$handler.forEach(function (objHandler) {\n                return objHandler.handler(elemento, controller, controller.contexto, objHandler.sequencia.replace(/\\r/g, '\\n'), event);\n            });\n        }\n    });\n\n    return novoEstado;\n}\n\nexports.default = adicionarTransformacaoAutomatica;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Transformacao = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Ao terminar um dispositivo com dois pontos (:), assume-se\n * que ser feita uma enumerao e, portanto, transforma\n * o prximo dispositivo em inciso, alnea ou item, conforme\n * contexto.\n */\nvar DoisPontos = function (_TransformacaoDoProxi) {\n    _inherits(DoisPontos, _TransformacaoDoProxi);\n\n    function DoisPontos() {\n        _classCallCheck(this, DoisPontos);\n\n        return _possibleConstructorReturn(this, (DoisPontos.__proto__ || Object.getPrototypeOf(DoisPontos)).call(this, ':\\n'));\n    }\n\n    _createClass(DoisPontos, [{\n        key: 'proximoTipo',\n        value: function proximoTipo(editor, ctrl, contexto) {\n            return {\n                artigo: 'inciso',\n                inciso: 'alinea',\n                alinea: 'item',\n                paragrafo: 'inciso'\n            }[contexto.cursor.tipo];\n        }\n    }, {\n        key: 'tipoTransformacao',\n        get: function get() {\n            return 'DoisPontos';\n        }\n    }]);\n\n    return DoisPontos;\n}(_Transformacao.TransformacaoDoProximo);\n\nexports.default = DoisPontos;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Transformacao = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Ao finalizar o dispositivo com ponto final (.) e o usurio\n * estiver no contexto de uma enumerao, ento encerra-se ela,\n * transformando o prximo dispositivo em um nvel anterior\n * (ex.: alnea para inciso).\n */\nvar PontoFinal = function (_TransformacaoDoProxi) {\n    _inherits(PontoFinal, _TransformacaoDoProxi);\n\n    function PontoFinal() {\n        _classCallCheck(this, PontoFinal);\n\n        return _possibleConstructorReturn(this, (PontoFinal.__proto__ || Object.getPrototypeOf(PontoFinal)).call(this, '.\\n'));\n    }\n\n    _createClass(PontoFinal, [{\n        key: 'proximoTipo',\n        value: function proximoTipo(editor, ctrl, contexto) {\n            return {\n                get inciso() {\n                    var dispositivo = contexto.cursor.dispositivo;\n                    var tipo = void 0;\n\n                    do {\n                        dispositivo = dispositivo.previousElementSibling;\n                        tipo = dispositivo.getAttribute('data-tipo');\n                    } while (tipo !== 'artigo' && tipo !== 'paragrafo');\n\n                    return tipo;\n                },\n                alinea: 'inciso',\n                item: 'alinea'\n            }[contexto.cursor.tipo];\n        }\n    }, {\n        key: 'tipoTransformacao',\n        get: function get() {\n            return 'PontoFinal';\n        }\n    }]);\n\n    return PontoFinal;\n}(_Transformacao.TransformacaoDoProximo);\n\nexports.default = PontoFinal;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Transformacao2 = __webpack_require__(1);\n\nvar _TransformacaoAutomaticaEvent = __webpack_require__(7);\n\nvar _TransformacaoAutomaticaEvent2 = _interopRequireDefault(_TransformacaoAutomaticaEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Quando usurio cria um novo artigo e o inicia com aspas,\n * este  transformado em continuao do caput do artigo.\n */\nvar AoIniciarAspas = function (_Transformacao) {\n    _inherits(AoIniciarAspas, _Transformacao);\n\n    function AoIniciarAspas() {\n        _classCallCheck(this, AoIniciarAspas);\n\n        return _possibleConstructorReturn(this, (AoIniciarAspas.__proto__ || Object.getPrototypeOf(AoIniciarAspas)).call(this, '\\n\"'));\n    }\n\n    _createClass(AoIniciarAspas, [{\n        key: 'transformar',\n        value: function transformar(editor, ctrl, contexto) {\n            if (contexto.cursor.tipoAnterior === 'artigo') {\n                ctrl.alterarTipoDispositivoSelecionado('continuacao');\n                ctrl.dispatchEvent(new _TransformacaoAutomaticaEvent2.default(ctrl, 'artigo', 'continuacao', this.tipoTransformacao));\n            }\n\n            return null;\n        }\n    }, {\n        key: 'tipoTransformacao',\n        get: function get() {\n            return 'AoIniciarAspas';\n        }\n    }]);\n\n    return AoIniciarAspas;\n}(_Transformacao2.Transformacao);\n\nexports.default = AoIniciarAspas;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Transformacao = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Quando usurio encerra as aspas na continuao do caput de um artigo,\n * ento cria-se um novo artigo.\n */\nvar AoFecharAspas = function (_TransformacaoDoProxi) {\n    _inherits(AoFecharAspas, _TransformacaoDoProxi);\n\n    function AoFecharAspas() {\n        _classCallCheck(this, AoFecharAspas);\n\n        return _possibleConstructorReturn(this, (AoFecharAspas.__proto__ || Object.getPrototypeOf(AoFecharAspas)).call(this, '\"\\n', '\".\\n'));\n    }\n\n    _createClass(AoFecharAspas, [{\n        key: 'proximoTipo',\n        value: function proximoTipo(editor, ctrl, contexto) {\n            return contexto.cursor.artigo && contexto.cursor.continuacao ? 'artigo' : null;\n        }\n    }, {\n        key: 'tipoTransformacao',\n        get: function get() {\n            return 'AoFecharAspas';\n        }\n    }]);\n\n    return AoFecharAspas;\n}(_Transformacao.TransformacaoDoProximo);\n\nexports.default = AoFecharAspas;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Transformacao2 = __webpack_require__(1);\n\nvar _Transformacao3 = _interopRequireDefault(_Transformacao2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Quando usurio der um enter em uma linha vazia, ento\n * transforma-se o dispositivo para um nvel anterior\n * (ex.: de alnea para inciso).\n */\nvar RecuarComEnterEmDispositivoVazio = function (_Transformacao) {\n    _inherits(RecuarComEnterEmDispositivoVazio, _Transformacao);\n\n    function RecuarComEnterEmDispositivoVazio() {\n        _classCallCheck(this, RecuarComEnterEmDispositivoVazio);\n\n        return _possibleConstructorReturn(this, (RecuarComEnterEmDispositivoVazio.__proto__ || Object.getPrototypeOf(RecuarComEnterEmDispositivoVazio)).call(this, '\\n'));\n    }\n\n    _createClass(RecuarComEnterEmDispositivoVazio, [{\n        key: 'transformar',\n\n\n        /**\n         * Efetua a transformao.\n         * \n         * @param {Element} elementoEditor Elemento em que est o editor de articulao.\n         * @param {EditorArticulacaoController} ctrl Controlador do editor.\n         * @param {ContextoArticulacao} contexto Contexto atual.\n         * @param {String} sequencia Sequncia que disparou a transformao.\n         * @param {KeyboardEvent} event Evento do teclado.\n         */\n        value: function transformar(elementoEditor, ctrl, contexto, sequencia, event) {\n            if (contexto.cursor.dispositivo.textContent.trim().length === 0) {\n                var novoTipo = {\n                    item: 'alinea',\n                    alinea: 'inciso',\n                    get inciso() {\n                        for (var dispositivo = contexto.cursor.dispositivoAnterior; dispositivo; dispositivo = dispositivo.previousElementSibling) {\n                            var tipo = dispositivo.getAttribute('data-tipo');\n\n                            if (tipo === 'artigo' || tipo === 'paragrafo') {\n                                return tipo;\n                            }\n                        }\n\n                        return 'artigo';\n                    }\n                }[contexto.cursor.tipo] || 'artigo';\n\n                ctrl.alterarTipoDispositivoSelecionado(novoTipo);\n                event.preventDefault();\n            }\n        }\n    }, {\n        key: 'tipoTransformacao',\n        get: function get() {\n            return 'RecuarComEnterEmDispositivoVazio';\n        }\n    }]);\n\n    return RecuarComEnterEmDispositivoVazio;\n}(_Transformacao3.default);\n\nexports.default = RecuarComEnterEmDispositivoVazio;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _interceptador = __webpack_require__(3);\n\nfunction hackChrome(controller) {\n    (0, _interceptador.interceptar)(controller, 'alterarTipoDispositivoSelecionado', hackAlterarTipo);\n\n    controller.registrarEventListener('keydown', function (event) {\n        return hackInterceptarKeydown(event, controller);\n    });\n\n    /* A partir do Chrome 62, comeou a ter problema no foco aps limpar o editor.\n     * O problema foi evitado adicionando um \\n aps o <br> ou substituindo o contedo\n     * por \"&nbsp;\"\" como feito no IE.\n     */\n    controller.limpar = function () {\n        this._elemento.innerHTML = '<p data-tipo=\"artigo\" style=\"min-height: 1em;\"><br>\\n</p>';\n    };\n}\n\n/**\n * O chrome faz cache do counter-reset e, quando um counter-reset  introduzido\n * (por mudana de css), os elementos seguintes no so afetados.\n * \n * @param {EditorArticulacaoController} ctrl \n * @param {function} metodo\n * @param {Array} argumentos \n */\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction hackAlterarTipo(ctrl, metodo, argumentos) {\n    var dispositivo = ctrl.contexto.cursor.dispositivo;\n    var contadoresAntigos = extrairContadores(dispositivo);\n    var retorno = metodo.apply(ctrl, argumentos);\n    var contadoresNovos = extrairContadores(dispositivo, contadoresAntigos.hash);\n\n    /* Para cada contador novo, vamos redefinir o tipo dos prximos elementos,\n     * at que se encontre em um elemento antigo o reincio do contador em questo.\n     */\n    for (var i = 0, proximo = ctrl.contexto.cursor.dispositivo.nextElementSibling; proximo && i < contadoresNovos.total; proximo = proximo.nextElementSibling) {\n        var tipo = proximo.getAttribute('data-tipo');\n        var contadoresProximo = extrairContadores(proximo);\n\n        if (contadoresNovos.hash[tipo]) {\n            redefinirContador(proximo);\n        }\n\n        // No h necessidade de reiniciar contadores quando o prximo j o reiniciava.\n        for (var contador in contadoresProximo.hash) {\n            if (contadoresNovos.hash[contador]) {\n                contadoresNovos.hash[contador] = false;\n                i++;\n            }\n        }\n    }\n\n    return retorno;\n}\n\n/**\n * Extrai os contadores reinciiados por este elemento.\n * \n * @param {Element} dispositivo \n * @param {Object} contadoresDesconsiderar Hash contendo os contadores que no devero ser considerados.\n */\nfunction extrairContadores(dispositivo, contadoresDesconsiderar) {\n    var counterReset = getComputedStyle(dispositivo).counterReset;\n    var contadores = {};\n    var cnt = 0;\n\n    for (var regexp = /(.+?)\\s\\d+\\s*/g, m = regexp.exec(counterReset); m; m = regexp.exec(counterReset)) {\n        var contador = m[1];\n\n        if (!contadoresDesconsiderar || !contadoresDesconsiderar[contador]) {\n            contadores[contador] = true;\n            cnt++;\n        }\n    }\n\n    return { total: cnt, hash: contadores };\n}\n\n/**\n * Efetua a redefinio do contador.\n * \n * @param {Element} dispositivo \n */\nfunction redefinirContador(dispositivo) {\n    var tipo = dispositivo.getAttribute('data-tipo');\n    dispositivo.removeAttribute('data-tipo');\n    setTimeout(function () {\n        return dispositivo.setAttribute('data-tipo', tipo);\n    });\n}\n\n/**\n * O Chrome tem um problema de desempenho que fica evidente ao importar\n * o LexML da Constituio Federal, selecionar todo o texto no editor\n * de articulao, e pressionar qualquer tecla que iria remover o texto\n * selecionado (seja por excluso ou substituio).\n * \n * Para cada elemento no DOM a ser excludo ou substitudo, o navegador\n * processa os estilos do prximo elemento (conforme ferramenta de profile\n * do prprio navegador), tornando a operao O(n). Para contornar o problema,\n * realizamos a excluso do contedo via API, interceptando o keydown.\n * \n * @param {KeyboardEvent} keyboardEvent \n * @param {EditorArticulacaoController} editorCtrl \n */\nfunction hackInterceptarKeydown(keyboardEvent, editorCtrl) {\n    /* Somente sero tratadas as alteraes de contedo. Portanto,\n     * se houver qualquer tecla modificativa (ctrl, alt ou meta),\n     * o evento ser ignorado. O evento s ser tratado se a tecla for\n     * de contedo (letra, nmero ou enter), ou remoo (delete, backspace).\n     */\n    if (!keyboardEvent.ctrlKey && !keyboardEvent.altKey && !keyboardEvent.metaKey && keyboardEvent.key.length === 1 || keyboardEvent.key === 'Delete' || keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Enter') {\n\n        var selection = editorCtrl.getSelection();\n        var range = selection.getRangeAt(0);\n\n        // Se no houver nada selecionado, ento no h problema de desempenho.\n        if (!range.collapsed) {\n            var inicio = range.startContainer.parentNode;\n            var final = range.endContainer.parentNode;\n\n            range.deleteContents();\n\n            /* Se a tecla for de remoo, ento evitamos a ao padro.\n             * Entretanto, se for de contedo, ento deixamos que a ao\n             * padro seja executada, para que o novo contedo seja inserido\n             * no lugar do contedo excludo.\n             */\n            if (keyboardEvent.key === 'Delete' || keyboardEvent.key === 'Backspace') {\n                keyboardEvent.preventDefault();\n            }\n\n            /* O range da seleo, ainda que seja de todo o contedo, no abrange\n             * o elemento inicial e o final. Isto , se o usurio selecionar tudo\n             * usando Ctrl+A e prosseguir com a excluso com a tecla Delete, \n             * o contedo selecionado correpsonder ao primeiro n textual do primeiro\n             * P at o ltimo n textual do tlimo P.\n             * \n             *        <p><!-- incio da seleo -->n textual</p>\n             *        <p>n textual intermedirio</p>\n             *        <p>ltimo n textual<-- final da seleo --></p>\n             * \n             * Assim, a excluso ir remover todos os ns textuais e os elementos intermedirios,\n             * mantendo, entretanto, o primeiro e ltimo elemento (veja ilustrao acima,\n             * em que a seleo foi demarcada em comentrio).\n             * \n             * Para contornar esta situao, realizamos manualmente a excluso dos elementos,\n             * se o elemento inicial da seleo for diferente do final, condicionando\n             * a excluso  presena de contedo. Deve-se executar o procedimento somente\n             * se o incio for diferente do final, pois a seleo pode ser apenas de\n             * contedo intermedirio, como ilustrado a seguir:\n             * \n             *      <p>este <!-- incio da seleo --> um <!-- final da seleo -->exemplo.</p>\n             */\n            if (inicio !== final) {\n                if (inicio != editorCtrl._elemento && inicio.textContent.length === 0) {\n                    inicio.remove();\n                }\n\n                if (final != editorCtrl._elemento && final.textContent.length === 0) {\n                    final.remove();\n                }\n\n                /* Caso todo o contedo estivesse selecionado, o editor de articulao\n                    * passar a ter nenhum elemento neste momento. Neste caso,\n                    * deve-se recriar o contedo mnimo.\n                    */\n                if (editorCtrl._elemento.children.length === 0) {\n                    editorCtrl.limpar();\n                }\n            }\n            // ... mas se a seleo for todo o contedo de um nico elemento...\n            else if (inicio.textContent.length === 0 && inicio.children.length === 0) {\n                    /* ento deve-se garantir o contedo mnimo, para que o cursor do pargrafo\n                        * fique posicionado corretamente.\n                        */\n                    inicio.innerHTML = '<br>';\n                }\n        }\n    }\n}\n\nexports.default = hackChrome;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _interceptador = __webpack_require__(3);\n\nfunction hackIE(controller) {\n    controller.limpar = function () {\n        // IE 11 precisa de contedo dentro do elemento para que o mesmo ganhe foco e seja editvel\n        this._elemento.innerHTML = '<p data-tipo=\"artigo\">&nbsp;</p>';\n    };\n\n    // Toggle do classList no funciona no IE 11\n    // https://connect.microsoft.com/IE/Feedback/details/878564/\n    (0, _interceptador.interceptar)(DOMTokenList.prototype, 'toggle', function (classList, metodo, argumentos) {\n        if (argumentos.length === 1) {\n            metodo.apply(classList, argumentos);\n        } else if (argumentos[1]) {\n            classList.add(argumentos[0]);\n        } else {\n            classList.remove(argumentos[0]);\n        }\n    });\n\n    // Construtor do Set no recebe parmetros no IE 11\n    if (new Set([1, 2]).size === 0) {\n        substituirSet();\n    }\n\n    // Garante sempre que o dispositivo tenha algum contedo, para evitar que o IE tenha um pargrafo no editvel.\n    (0, _interceptador.interceptarApos)(controller, '_normalizarDispositivo', function (controller, resultado, argumentos) {\n        var dispositivo = argumentos[0];\n\n        if (dispositivo && !dispositivo.firstElementChild && dispositivo.textContent === '') {\n            dispositivo.innerHTML = '&nbsp;';\n        }\n    });\n} /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n   * \n   * This file is part of Editor-Articulacao.\n   *\n   * Editor-Articulacao is free software: you can redistribute it and/or modify\n   * it under the terms of the GNU Lesser General Public License as published by\n   * the Free Software Foundation, version 3.\n   *\n   * Editor-Articulacao is distributed in the hope that it will be useful,\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n   * GNU Lesser General Public License for more details.\n   *\n   * You should have received a copy of the GNU Lesser General Public License\n   * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n   */\n\nfunction substituirSet() {\n    function substituirMetodo(metodo) {\n        if (typeof SetNativo.prototype[metodo] === 'function') {\n            window.Set.prototype[metodo] = function () {\n                return this.$set[metodo].apply(this.$set, arguments);\n            };\n        }\n    }\n\n    var SetNativo = window.Set;\n\n    window.Set = function (iteravel) {\n        this.$set = new SetNativo();\n\n        if (iteravel) {\n            for (var i in iteravel) {\n                this.$set.add(iteravel[i]);\n            }\n        }\n    };\n\n    var metodos = ['add', 'clear', 'delete', 'entries', 'forEach', 'has', 'keys', 'values', '@@iterator'];\n\n    for (var i = 0; i < metodos.length; i++) {\n        substituirMetodo(metodos[i]);\n    }\n}\n\nexports.default = hackIE;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction polyfill() {\n    // IE 11 no tem Object.assing\n\n    // Object polyfill from https://developer.mozilla.org/en-US/docs/Glossary/Polyfill\n    if (!Object.assign) {\n        Object.defineProperty(Object, 'assign', {\n            enumerable: false,\n            configurable: true,\n            writable: true,\n            value: function value(target) {\n                'use strict';\n\n                if (target === undefined || target === null) {\n                    throw new TypeError('Cannot convert first argument to object');\n                }\n\n                var to = Object(target);\n                for (var i = 1; i < arguments.length; i++) {\n                    var nextSource = arguments[i];\n                    if (nextSource === undefined || nextSource === null) {\n                        continue;\n                    }\n                    nextSource = Object(nextSource);\n\n                    var keysArray = Object.keys(Object(nextSource));\n                    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n                        var nextKey = keysArray[nextIndex];\n                        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n                        if (desc !== undefined && desc.enumerable) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n                return to;\n            }\n        });\n    }\n\n    // IE 11 no tem lastElementChild no DocumentFragment\n    if (!('lastElementChild' in DocumentFragment.prototype)) {\n        Object.defineProperty(DocumentFragment.prototype, 'lastElementChild', {\n            get: function get() {\n                var ultimo = this.lastChild;\n\n                while (ultimo && ultimo.nodeType !== Node.ELEMENT_NODE) {\n                    ultimo = ultimo.previousSibling;\n                }\n\n                return ultimo;\n            }\n        });\n    }\n}\n\nexports.default = polyfill;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Transforma o LexML no contedo para editor de articulao.\n * \n * @param {Element} elemento\n * @param {DocumentFragment} resultado\n * @returns {DocumentFragment}\n */\nfunction importarDeLexML(elemento, resultado) {\n    if (!resultado) {\n        resultado = document.createDocumentFragment();\n    }\n\n    if (!elemento) {\n        return resultado;\n    } else if (elemento instanceof NodeList || elemento instanceof HTMLCollection) {\n        for (var i = 0; i < elemento.length; i++) {\n            importarDeLexML(elemento[i], resultado);\n        }\n    } else if (typeof elemento === 'string') {\n        var container = document.createElement('div');\n        container.innerHTML = elemento;\n        importarDeLexML(container.children, resultado);\n    } else {\n        switch (elemento.tagName) {\n            case 'ARTICULACAO':\n                importarDeLexML(elemento.children, resultado);\n                break;\n\n            case 'TITULO':\n            case 'CAPITULO':\n            case 'SECAO':\n            case 'SUBSECAO':\n                resultado.appendChild(criarAgrupador(elemento.tagName.toLowerCase(), elemento.querySelector('NomeAgrupador').innerHTML));\n                importarDeLexML(elemento.children, resultado);\n                break;\n\n            case 'NOMEAGRUPADOR':\n            case 'ROTULO':\n            case 'P':\n                // Ignora.\n                break;\n\n            case 'ARTIGO':\n                clonar(elemento, 'Caput > p', function (idx) {\n                    return idx === 0 ? 'artigo' : 'continuacao';\n                }, resultado);\n\n                if (/\\d+?-[A-Z]/.test(elemento.querySelector('Rotulo').textContent)) {\n                    resultado.lastElementChild.classList.add('emenda');\n                }\n\n                var incisos = elemento.querySelectorAll('Caput > Inciso');\n                importarDeLexML(incisos, resultado);\n\n                var paragrafos = elemento.querySelectorAll('Paragrafo');\n                var dispositivoAtual = resultado.lastElementChild;\n\n                importarDeLexML(paragrafos, resultado);\n\n                if (paragrafos.length === 1) {\n                    dispositivoAtual.nextElementSibling.classList.add('unico');\n                }\n                break;\n\n            case 'INCISO':\n            case 'ALINEA':\n            case 'ITEM':\n            case 'PARAGRAFO':\n                var p = obterP(elemento);\n                clonar(p, null, elemento.tagName.toLowerCase(), resultado);\n                importarDeLexML(elemento.children, resultado);\n                break;\n\n            default:\n                throw 'Elemento no esperado: ' + elemento.tagName;\n        }\n    }\n\n    return resultado;\n}\n\n/**\n * Cria um elemento agrupador.\n * \n * @param {String} agrupador Tipo do agrupador.\n * @param {String} nome Nome do agrupador.\n * @returns {Element} Agrupador\n */\nfunction criarAgrupador(agrupador, nome) {\n    var elemento = document.createElement('p');\n    elemento.setAttribute('data-tipo', agrupador);\n    elemento.innerHTML = nome;\n    return elemento;\n}\n\n/**\n * Obtm o primeiro elemento P filho.\n * \n * @param {Element} elemento\n * @returns {Element}\n */\nfunction obterP(elemento) {\n    var p = elemento.firstElementChild;\n\n    while (p.tagName !== 'P') {\n        p = p.nextElementSibling;\n    }\n\n    return p;\n}\n\n/**\n * Clona um elemento.\n * \n * @param {Element} elemento Elemento que ser clonado ou que contm os elementos a serem clonados, se a query for especificada.\n * @param {String} query Query a ser executada para filtrar os elementos filhos.\n * @param {String|function} tipoFinal Tipo final do elemento clonado (string) ou uma funo que recebe (ndice, elemento) e retorna o tipo em string.\n * @param {DocumentFragment} resultado \n */\nfunction clonar(elemento, query, tipoFinal, resultado) {\n    var fnTipo = void 0;\n\n    switch (typeof tipoFinal === 'undefined' ? 'undefined' : _typeof(tipoFinal)) {\n        case 'string':\n            fnTipo = function fnTipo() {\n                return tipoFinal;\n            };\n            break;\n\n        case 'function':\n            fnTipo = tipoFinal;\n            break;\n\n        default:\n            throw new Error('Tipo final no  literal nem funo.');\n    }\n\n    if (query) {\n        var itens = elemento.querySelectorAll(query);\n\n        for (var i = 0; i < itens.length; i++) {\n            var novoItem = itens[i].cloneNode(true);\n            novoItem.setAttribute('data-tipo', fnTipo(i, novoItem));\n            resultado.appendChild(novoItem);\n        }\n    } else {\n        var _novoItem = elemento.cloneNode(true);\n        _novoItem.setAttribute('data-tipo', fnTipo(0, _novoItem));\n        resultado.appendChild(_novoItem);\n    }\n\n    return resultado;\n}\n\nexports.default = importarDeLexML;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _ArticulacaoInvalidaException = __webpack_require__(8);\n\nvar _ArticulacaoInvalidaException2 = _interopRequireDefault(_ArticulacaoInvalidaException);\n\nvar _opcoesPadrao = __webpack_require__(9);\n\nvar _opcoesPadrao2 = _interopRequireDefault(_opcoesPadrao);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar htmlInline = new Set(['SPAN', 'B', 'I', 'A', 'SUB', 'SUP', 'INS', 'DEL', 'DFN']);\n\n/**\n * Exporta para o XML definido no LexML (http://projeto.lexml.gov.br/documentacao/Parte-3-XML-Schema.pdf),\n * a partir da estrutura do HTML do editor de articulao.\n * \n * @param {Element} dispositivoDOM Dispositivo da articulao, dentro do editor de articulao,\n * onde ser iniciada a exportao para LexML, ou o prprio container (elemento raz) do\n * editor de articulao.\n * @returns {Element} Articulao do LexML\n */\nfunction exportarParaLexML(dispositivoDOM, rotulos) {\n    var cntArtigos = 0;\n\n    if (!rotulos) {\n        rotulos = _opcoesPadrao2.default.rotulo;\n    }\n\n    /**\n     * Representa o contexto da transformao,\n     * com informaes e mtodos para adio de dispositivos,\n     * podendo ser especializado por tipo.\n     */\n\n    var ContextoTransformacao = function () {\n        function ContextoTransformacao(dispositivoLexML, contextoAnterior) {\n            _classCallCheck(this, ContextoTransformacao);\n\n            this.dispositivoLexML = dispositivoLexML;\n            this.contextoAnterior = contextoAnterior;\n            this.cntSubitens = {\n                get Artigo() {\n                    return cntArtigos;\n                },\n                set Artigo(valor) {\n                    cntArtigos = valor;\n                }\n            };\n        }\n\n        _createClass(ContextoTransformacao, [{\n            key: 'getIdReferencia',\n\n\n            /**\n             * Obtm o identificador a ser considerado ao criar o id para\n             * um subtipo deste dispositivo.\n             * \n             * @param {String} subtipo Subtipo desejado.\n             */\n            value: function getIdReferencia(subtipo) {\n                return this.dispositivoLexML.id;\n            }\n\n            /**\n             * Tipo do dispositivo.\n             */\n\n        }, {\n            key: 'adicionarSubitem',\n            value: function adicionarSubitem(dispositivoLexML) {\n                this.cntSubitens[dispositivoLexML.tagName] = this.cntSubitens[dispositivoLexML.tagName] ? this.cntSubitens[dispositivoLexML.tagName] + 1 : 1;\n                this.dispositivoLexML.appendChild(dispositivoLexML);\n            }\n        }, {\n            key: 'adicionarSubitemEmendado',\n            value: function adicionarSubitemEmendado(dispositivoLexML) {\n                this.dispositivoLexML.appendChild(dispositivoLexML);\n            }\n        }, {\n            key: 'adicionarProximo',\n            value: function adicionarProximo(dispositivoLexML) {\n                this.dispositivoLexML.parentNode.appendChild(dispositivoLexML);\n            }\n        }, {\n            key: 'possuiSubtipo',\n            value: function possuiSubtipo(subtipo) {\n                switch (this.tipo) {\n                    case 'Articulacao':\n                        return subtipo === 'Artigo' || subtipo === 'Titulo' || subtipo === 'Capitulo' || subtipo === 'Secao' || subtipo === 'Livro' || subtipo === 'Parte';\n\n                    case 'Parte':\n                        return subtipo === 'Livro';\n\n                    case 'Livro':\n                        return subtipo === 'Titulo';\n\n                    case 'Titulo':\n                        return subtipo === 'Capitulo' || subtipo === 'Artigo';\n\n                    case 'Capitulo':\n                        return subtipo === 'Secao' || subtipo === 'Artigo';\n\n                    case 'Secao':\n                        return subtipo === 'Subsecao' || subtipo === 'Artigo';\n\n                    case 'Subsecao':\n                        return subtipo === 'Artigo';\n\n                    case 'Artigo':\n                        return subtipo === 'Inciso' || subtipo === 'Paragrafo';\n\n                    case 'Inciso':\n                        return subtipo === 'Alinea';\n\n                    case 'Alinea':\n                        return subtipo === 'Item';\n\n                    case 'Item':\n                        return false;\n\n                    case 'Paragrafo':\n                        return subtipo === 'Inciso';\n\n                    default:\n                        throw 'Tipo desconhecido: ' + this.tipo;\n                }\n            }\n        }, {\n            key: 'contarSubitens',\n            value: function contarSubitens(subtipo) {\n                return this.cntSubitens[subtipo] || 0;\n            }\n        }, {\n            key: 'id',\n            get: function get() {\n                return this.dispositivoLexML.id;\n            }\n        }, {\n            key: 'tipo',\n            get: function get() {\n                return this.dispositivoLexML.tagName;\n            }\n        }]);\n\n        return ContextoTransformacao;\n    }();\n\n    /**\n     * Contexto de transformao especializado para artigo, que possui\n     * incisos no caput e pargrafos no artigo.\n     */\n\n\n    var ContextoTransformacaoArtigo = function (_ContextoTransformaca) {\n        _inherits(ContextoTransformacaoArtigo, _ContextoTransformaca);\n\n        function ContextoTransformacaoArtigo() {\n            _classCallCheck(this, ContextoTransformacaoArtigo);\n\n            return _possibleConstructorReturn(this, (ContextoTransformacaoArtigo.__proto__ || Object.getPrototypeOf(ContextoTransformacaoArtigo)).apply(this, arguments));\n        }\n\n        _createClass(ContextoTransformacaoArtigo, [{\n            key: 'getIdReferencia',\n            value: function getIdReferencia(subtipo) {\n                // O inciso  sobre o caput. J o pargrafo  sobre o artigo.\n                return subtipo === 'Inciso' ? this.dispositivoLexML.id + '_cpt' : this.dispositivoLexML.id;\n            }\n        }, {\n            key: 'adicionarSubitem',\n            value: function adicionarSubitem(dispositivoLexML) {\n                if (dispositivoLexML.tagName === 'p' || dispositivoLexML.tagName === 'Inciso') {\n                    this.dispositivoLexML.querySelector('Caput').appendChild(dispositivoLexML);\n                } else {\n                    this.dispositivoLexML.appendChild(dispositivoLexML);\n                }\n\n                this.cntSubitens[dispositivoLexML.tagName] = this.cntSubitens[dispositivoLexML.tagName] ? this.cntSubitens[dispositivoLexML.tagName] + 1 : 1;\n            }\n        }]);\n\n        return ContextoTransformacaoArtigo;\n    }(ContextoTransformacao);\n\n    /**\n     * Contexto de transformao especializado em divises de texto (agrupadores),\n     * como ttulo, captulo, seo e subseo.\n     */\n\n\n    var ContextoTransformacaoAgrupador = function (_ContextoTransformaca2) {\n        _inherits(ContextoTransformacaoAgrupador, _ContextoTransformaca2);\n\n        function ContextoTransformacaoAgrupador() {\n            _classCallCheck(this, ContextoTransformacaoAgrupador);\n\n            return _possibleConstructorReturn(this, (ContextoTransformacaoAgrupador.__proto__ || Object.getPrototypeOf(ContextoTransformacaoAgrupador)).apply(this, arguments));\n        }\n\n        _createClass(ContextoTransformacaoAgrupador, [{\n            key: 'getIdReferencia',\n            value: function getIdReferencia(subtipo) {\n                return subtipo === 'Artigo' ? null : _get(ContextoTransformacaoAgrupador.prototype.__proto__ || Object.getPrototypeOf(ContextoTransformacaoAgrupador.prototype), 'getIdReferencia', this).call(this, subtipo);\n            }\n        }]);\n\n        return ContextoTransformacaoAgrupador;\n    }(ContextoTransformacao);\n\n    /**\n     * Cria o contexto adequado conforme o tipo do n.\n     * \n     * @param {Element} dispositivoLexML \n     * @param {*} contextoAnterior \n     */\n\n\n    function criarContexto(dispositivoLexML, contextoAnterior) {\n        switch (dispositivoLexML.tagName) {\n            case 'Artigo':\n                return new ContextoTransformacaoArtigo(dispositivoLexML, contextoAnterior);\n\n            case 'Parte':\n            case 'Titulo':\n            case 'Capitulo':\n            case 'Secao':\n            case 'Subsecao':\n                return new ContextoTransformacaoAgrupador(dispositivoLexML, contextoAnterior);\n\n            default:\n                return new ContextoTransformacao(dispositivoLexML, contextoAnterior);\n        }\n    }\n\n    var raiz = document.createElementNS('http://www.lexml.gov.br/1.0', 'Articulacao');\n    var contexto = new ContextoTransformacao(raiz);\n\n    // Se for o container de edio, ento movemos para o primeiro filho.\n    if (dispositivoDOM.classList.contains('silegismg-editor-articulacao')) {\n        dispositivoDOM = dispositivoDOM.firstElementChild;\n    }\n\n    while (dispositivoDOM) {\n        var tipo = dispositivoDOM.getAttribute('data-tipo').replace(/^[a-z]/, function (letra) {\n            return letra.toUpperCase();\n        });\n\n        if (tipo === 'Continuacao') {\n            var p = criarElementoP(dispositivoDOM);\n            contexto.adicionarSubitem(p);\n        } else {\n            while (contexto && !contexto.possuiSubtipo(tipo)) {\n                contexto = contexto.contextoAnterior;\n            }\n\n            if (!contexto) {\n                throw new _ArticulacaoInvalidaException2.default(dispositivoDOM, 'Dispositivo do tipo \"' + tipo.toLowerCase() + '\" inesperado neste ponto.');\n            }\n\n            if (dispositivoDOM.classList.contains('emenda')) {\n                contexto.nEmenda++;\n            } else {\n                contexto.nEmenda = 0;\n            }\n\n            var dispositivoLexML = criarElementoLexML(tipo, dispositivoDOM, contexto.getIdReferencia(tipo), contexto.contarSubitens(tipo), dispositivoDOM.classList.contains('unico'), contexto.nEmenda, rotulos);\n\n            if (tipo === 'Paragrafo' && dispositivoDOM.classList.contains('unico')) {\n                // Adiciona o sufixo \"u\" ao identificador do pargrafo nico\n                dispositivoLexML.id = dispositivoLexML.id + 'u';\n            }\n\n            if (contexto.nEmenda) {\n                contexto.adicionarSubitemEmendado(dispositivoLexML);\n            } else {\n                contexto.adicionarSubitem(dispositivoLexML);\n            }\n\n            contexto = criarContexto(dispositivoLexML, contexto);\n        }\n\n        dispositivoDOM = dispositivoDOM.nextElementSibling;\n    }\n\n    return raiz;\n}\n\nfunction criarElementoLexML(tipo, conteudo, idPai, idxFilho, unico, nEmenda, rotulos) {\n    var elemento, id;\n\n    id = tipo.substr(0, 3).toLowerCase();\n    id = idPai ? idPai + '_' + id : id;\n\n    if (nEmenda) {\n        id += idxFilho + '-' + nEmenda;\n    } else {\n        id += idxFilho + 1;\n    }\n\n    elemento = document.createElementNS('http://www.lexml.gov.br/1.0', tipo);\n    elemento.setAttribute('id', id);\n\n    elemento.appendChild(criarRotuloLexML(tipo, nEmenda ? idxFilho : idxFilho + 1, unico, nEmenda, rotulos));\n\n    switch (tipo) {\n        case 'Artigo':\n            elemento.appendChild(criarCaputLexML(conteudo, id));\n            break;\n\n        // Agrupadores\n        case 'Parte':\n        case 'Livro':\n        case 'Titulo':\n        case 'Capitulo':\n        case 'Secao':\n        case 'Subsecao':\n            elemento.appendChild(criarNomeAgrupador(conteudo));\n            break;\n\n        default:\n            elemento.appendChild(criarElementoP(conteudo));\n            break;\n    }\n\n    return elemento;\n}\n\nfunction criarRotuloLexML(tipo, numero, unico, nEmenda, rotulos) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'Rotulo');\n\n    switch (tipo) {\n        case 'Artigo':\n            if (nEmenda) {\n                elemento.innerHTML = 'Art. ' + numero + (numero < 10 ? '-' : '-') + transformarLetra(nEmenda, true) + (numero < 10 ? rotulos.separadorArtigo : rotulos.separadorArtigoSemOrdinal);\n            } else {\n                elemento.innerHTML = 'Art. ' + numero + (numero < 10 ? '' + rotulos.separadorArtigo : rotulos.separadorArtigoSemOrdinal);\n            }\n            break;\n\n        case 'Paragrafo':\n            elemento.innerHTML = unico ? 'Pargrafo nico' + rotulos.separadorParagrafoUnico : ' ' + numero + (numero < 10 ? '' + rotulos.separadorParagrafo : rotulos.separadorParagrafoSemOrdinal);\n            break;\n\n        case 'Inciso':\n            elemento.innerHTML = transformarNumeroRomano(numero) + rotulos.separadorInciso;\n            break;\n\n        case 'Alinea':\n            elemento.textContent = transformarLetra(numero) + rotulos.separadorAlinea;\n            break;\n\n        case 'Item':\n            elemento.innerHTML = numero + rotulos.separadorItem;\n            break;\n\n        case 'Titulo':\n            elemento.textContent = 'Ttulo ' + transformarNumeroRomano(numero);\n            break;\n\n        case 'Capitulo':\n            elemento.textContent = 'Captulo ' + transformarNumeroRomano(numero);\n            break;\n\n        case 'Secao':\n            elemento.textContent = 'Seo ' + transformarNumeroRomano(numero);\n            break;\n\n        case 'Subsecao':\n            elemento.textContent = 'Subseo ' + transformarNumeroRomano(numero);\n            break;\n\n        default:\n            throw \"Tipo no suportado na formatao de rtulo: \" + tipo;\n    }\n\n    return elemento;\n}\n\nfunction criarCaputLexML(caput, idPai) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'Caput');\n    var paragrafo = criarElementoP(caput);\n\n    elemento.setAttribute('id', idPai + '_cpt');\n    elemento.appendChild(paragrafo);\n    normalizarParagrafo(paragrafo);\n\n    return elemento;\n}\n\nfunction criarElementoP(paragrafo) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'p');\n    criarConteudoInline(paragrafo, elemento);\n    normalizarParagrafo(elemento);\n    return elemento;\n}\n\nfunction criarConteudoInline(origem, destino) {\n    var arvore = document.createTreeWalker(origem, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT, null /* necesrio no IE 11 */, null /* necesrio no IE 11 */);\n    var atual = {\n        /**\n         * Objeto de contexto de exportao anterior (este mesmo objeto)\n         */\n        anterior: null,\n\n        /**\n         * Elemento que, se encontrado, deve retroceder o contexto. Utilizado para navegar\n         * por elementos filhos e identificar quando o nvel, na navegao, retrocede,\n         * obrigando a retroceder tambm o contexto.\n         */\n        retrocederEm: null,\n\n        /**\n         * Elemento na nova rvore onde os itens sero inseridos.\n         */\n        destino: destino\n    };\n    var primeiroTexto = true,\n        ultimoTexto = null;\n\n    while (arvore.nextNode()) {\n        var item = arvore.currentNode;\n\n        if (item.parentNode === atual.retrocederEm) {\n            atual = atual.anterior;\n        }\n\n        if (item.nodeType === Node.TEXT_NODE) {\n            ultimoTexto = item.cloneNode();\n\n            if (primeiroTexto) {\n                primeiroTexto = false;\n                ultimoTexto.textContent = ultimoTexto.textContent.replace(/^\\s+/, '');\n            }\n\n            atual.destino.appendChild(ultimoTexto);\n        } else if (htmlInline.has(item.tagName)) {\n            var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', item.tagName.toLowerCase());\n            atual.destino.appendChild(elemento);\n            atual = {\n                anterior: atual,\n                retrocederEm: item.parentNode,\n                destino: elemento\n            };\n        } else if (item.tagName === 'BR') {\n            // Ignora\n        } else {\n            throw new _ArticulacaoInvalidaException2.default(origem, 'Elemento no permitido: ' + item.tagName);\n        }\n    }\n\n    if (ultimoTexto) {\n        ultimoTexto.textContent = ultimoTexto.textContent.replace(/\\s+$/, '');\n    }\n\n    return destino;\n}\n\nfunction criarNomeAgrupador(elementoAgrupador) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'NomeAgrupador');\n    criarConteudoInline(elementoAgrupador, elemento);\n    return elemento;\n}\n\n/**\n * Desmembra elementos P dentro de outro P, colocando-os no mesmo nvel.\n * Exemplo: `<P><P>1</P><P>2</P></P>` vira `<P>1</P><P>2</P>`\n * \n * @param {Element} paragrafo\n */\nfunction normalizarParagrafo(paragrafo) {\n    while (paragrafo.hasAttributes()) {\n        paragrafo.removeAttribute(paragrafo.attributes[0].name);\n    }\n\n    /* Microsoft Edge no implementa a interface HTMLElement em document.createElementNS.\n     * Portanto, usaremos children se disponvel, ou childNodes, para o Edge.\n     */\n    var itens = paragrafo.children || paragrafo.childNodes;\n\n    for (var i = 0; i < itens.length; i++) {\n        if (itens[i].tagName === 'p') {\n            /* Tag P dentro de P. Isso no deveria ocorrer, ento vamos tratar como continuao.\n             * Neste caso, move-se todos os elementos a partir do ndice 'i'\n             * para novos pargrafos aps o atual.\n             */\n            while (itens.length > i) {\n                var item = itens[i];\n\n                if (item.tagName === 'p') {\n                    paragrafo.parentNode.insertBefore(item, paragrafo.nextSibling);\n                    normalizarParagrafo(item);\n                } else {\n                    var novoParagrafo = document.createElementNS('http://www.lexml.gov.br/1.0', 'p');\n                    novoParagrafo.appendChild(item);\n                    paragrafo.parentNode.insertBefore(novoParagrafo, paragrafo.nextSibling);\n                    normalizarParagrafo(novoParagrafo);\n                }\n            }\n        }\n    }\n}\n\n/**\n * Escreve o nmero em romano.\n * \n * @param {Number} numero \n */\nfunction transformarNumeroRomano(numero) {\n    var digitos = String(numero).split(\"\"),\n        tabela = [\"\", \"C\", \"CC\", \"CCC\", \"CD\", \"D\", \"DC\", \"DCC\", \"DCCC\", \"CM\", \"\", \"X\", \"XX\", \"XXX\", \"XL\", \"L\", \"LX\", \"LXX\", \"LXXX\", \"XC\", \"\", \"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\"],\n        resultado = \"\",\n        i = 3;\n\n    while (i--) {\n        resultado = (tabela[+digitos.pop() + i * 10] || \"\") + resultado;\n    }\n    return new Array(+digitos.join(\"\") + 1).join(\"M\") + resultado;\n}\n\n/**\n * Escreve o nmero em letra.\n * \n * @param {Number} numero \n */\nfunction transformarLetra(numero, maiuscula) {\n    if (numero < 1) {\n        throw \"Nmero deve ser positivo.\";\n    }\n\n    return String.fromCharCode((maiuscula ? 64 : 96) + numero);\n}\n\nexports.default = exportarParaLexML;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.transformar = exports.transformarTextoPuro = exports.transformarQuebrasDeLinhaEmP = exports.ClipboardController = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _interceptador = __webpack_require__(3);\n\nvar _interpretadorArticulacao = __webpack_require__(4);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Controlador da rea de transferncia do editor de articulao.\n */\nvar ClipboardController = function () {\n    function ClipboardController(editorCtrl, validacaoCtrl) {\n        var _this = this;\n\n        _classCallCheck(this, ClipboardController);\n\n        this.editorCtrl = editorCtrl;\n        this.validacaoCtrl = validacaoCtrl;\n\n        editorCtrl.registrarEventListener('paste', function (event) {\n            return aoColar(event, _this);\n        });\n    }\n\n    /**\n     * Cola um texto de articulao no editor.\n     * \n     * @param {String} texto \n     */\n\n\n    _createClass(ClipboardController, [{\n        key: 'colarTexto',\n        value: function colarTexto(texto) {\n            var selecao = this.editorCtrl.getSelection();\n            var range = selecao.getRangeAt(0);\n\n            if (!range.collapsed) {\n                range.deleteContents();\n                this.editorCtrl.atualizarContexto();\n            }\n\n            for (var brs = (range.endContainer.nodeType === Node.TEXT_NODE ? range.endContainer.parentNode : range.endContainer).querySelectorAll('br'), i = 0; i < brs.length; i++) {\n                brs[i].remove();\n            }\n\n            var fragmento = transformar(texto, this.editorCtrl.contexto.cursor.tipo, this.editorCtrl.contexto.cursor.continuacao);\n\n            colarFragmento(fragmento, this.editorCtrl, this.validacaoCtrl);\n        }\n    }]);\n\n    return ClipboardController;\n}();\n\n/**\n * Transforma um texto em um fragmento a ser colado.\n * \n * @param {*} texto Texto a ser transformado.\n * @param {*} tipo Tipo do contexto atual do cursor.\n * @param {*} continuacao Se o tipo  uma continuao.\n */\n\n\nfunction transformar(texto, tipo, continuacao) {\n    var fragmento;\n\n    if (continuacao) {\n        fragmento = transformarTextoPuro(texto, 'continuacao');\n    } else {\n        var dados = (0, _interpretadorArticulacao.interpretarArticulacao)(texto, 'json');\n\n        if (dados.textoAnterior) {\n            fragmento = transformarTextoPuro(dados.textoAnterior, tipo || 'artigo');\n        }\n\n        if (dados.articulacao.length > 0) {\n            var fragmentoArticulacao = transformarArticulacao(dados.articulacao);\n\n            if (fragmento) {\n                fragmento.appendChild(fragmentoArticulacao);\n            } else {\n                fragmento = fragmentoArticulacao;\n            }\n        }\n    }\n\n    return fragmento;\n}\n\n/**\n * Trata a colagem da rea de transferncia.\n * \n * @param {ClipboardEvent} event \n * @param {ClipboardController} clipboardCtrl \n */\nfunction aoColar(event, clipboardCtrl) {\n    var clipboardData = event.clipboardData || window.clipboardData;\n    var itens = clipboardData.items;\n\n    if (itens) {\n        for (var i = 0; i < itens.length; i++) {\n            if (itens[i].type === 'text/plain') {\n                itens[i].getAsString(clipboardCtrl.colarTexto.bind(clipboardCtrl));\n                event.preventDefault();\n            }\n        }\n    } else if (clipboardData.getData) {\n        clipboardCtrl.colarTexto(clipboardData.getData('text/plain'));\n        event.preventDefault();\n    }\n}\n\n/**\n * Cola um fragmento no DOM.\n * \n * @param {DocumentFragment} fragmento \n * @param {EditorArticulacaoController} editorCtrl \n * @param {ValidacaoController} validacaoCtrl\n */\nfunction colarFragmento(fragmento, editorCtrl, validacaoCtrl) {\n    prepararDesfazer(fragmento, editorCtrl);\n\n    var proximaSelecao = fragmento.lastChild;\n    var selecao = editorCtrl.getSelection();\n    var range = selecao.getRangeAt(0);\n    var noInicial = range.startContainer;\n    var excluirNoAtual = fragmento.firstChild.nodeType !== Node.TEXT_NODE && noInicial !== editorCtrl._elemento && noInicial.textContent.trim().length === 0;\n    var primeiroElementoAValidar = void 0;\n\n    // Se a seleo estiver no container, ento devemos inserir elementos filhos...\n    if (range.collapsed && noInicial === editorCtrl._elemento) {\n        // Remove as quebras de linha, usada como placeholder pelos contentEditable.\n        for (var itens = editorCtrl._elemento.querySelectorAll('br'), i = 0; i < itens.length; i++) {\n            itens[i].remove();\n        }\n\n        // Remove os elementos vazios.\n        for (var _itens = editorCtrl._elemento.querySelectorAll('*:empty'), _i = 0; _i < _itens.length; _i++) {\n            _itens[_i].remove();\n        }\n\n        // Transforma os ns textuais em pargrafos.\n        for (var item = fragmento.firstChild; item && item.nodeType === Node.TEXT_NODE; item = fragmento.firstChild) {\n            var p = document.createElement('p');\n            p.appendChild(item);\n            p.setAttribute('data-tipo', 'artigo');\n            fragmento.insertBefore(p, fragmento.firstElementChild);\n        }\n\n        primeiroElementoAValidar = fragmento.firstElementChild;\n        range.insertNode(fragmento);\n    } else {\n        if (excluirNoAtual) {\n            primeiroElementoAValidar = fragmento.firstElementChild;\n        } else {\n            primeiroElementoAValidar = noInicial.nodeType === Node.ELEMENT_NODE ? noInicial : noInicial.parentElement;\n        }\n\n        // Insere os primeiros ns textuais na prpria seleo.\n        for (var _item = fragmento.firstChild; _item && _item.nodeType === Node.TEXT_NODE; _item = fragmento.firstChild) {\n            range.insertNode(_item);\n        }\n\n        // Insere os elementos em seguida, no container, pois no podem estar aninhados ao elemento da seleo.\n        var referencia = range.endContainer;\n\n        while (referencia.parentElement !== editorCtrl._elemento) {\n            referencia = referencia.parentElement;\n        }\n\n        referencia.parentElement.insertBefore(fragmento, referencia.nextSibling);\n    }\n\n    if (excluirNoAtual) {\n        noInicial.remove();\n    }\n\n    // Altera a seleo.\n    selecao.removeAllRanges();\n    range = document.createRange();\n\n    range.setStartAfter(proximaSelecao);\n    selecao.addRange(range);\n\n    editorCtrl.atualizarContexto();\n\n    // Realiza validao do fragmento colado.\n    var ultimoElementoAValidar = proximaSelecao.nodeType === Node.ELEMENT_NODE ? proximaSelecao : proximaSelecao.parentElement;\n\n    for (var noAlterado = primeiroElementoAValidar; noAlterado && noAlterado !== ultimoElementoAValidar; noAlterado = noAlterado.nextElementSibling) {\n        validacaoCtrl.validar(noAlterado);\n    }\n}\n\n/**\n * Realiza uma cpia do fragmento e monitora ctrl+z para remover fragmentos.\n * \n * @param {DocumentFragment} fragmento \n * @param {EditorArticulacaoController} editorCtrl \n */\nfunction prepararDesfazer(fragmento, editorCtrl) {\n    var copia = [];\n\n    for (var i = 0, l = fragmento.childNodes.length; i < l; i++) {\n        copia.push(fragmento.childNodes[i]);\n    }\n\n    var desfazer = function desfazer() {\n        var anterior = copia[0].previousSibling;\n        var posterior = copia[copia.length - 1].nextSibling;\n\n        // Remove os elementos\n        for (var _i2 = 0; _i2 < copia.length; _i2++) {\n            copia[_i2].remove();\n        }\n\n        removerListeners();\n\n        // Restaura o cursor.\n        var selecao = editorCtrl.getSelection();\n        var range = document.createRange();\n\n        if (anterior) {\n            range.setStartAfter(anterior);\n            selecao.removeAllRanges();\n            selecao.addRange(range);\n        } else if (posterior) {\n            range.setStartBefore(posterior);\n            selecao.removeAllRanges();\n            selecao.addRange(range);\n        }\n    };\n\n    var keyDownListener = function keyDownListener(keyboardEvent) {\n        // Desfaz se pressionar o ctrl+z\n        if (keyboardEvent.ctrlKey && (keyboardEvent.key === 'z' || keyboardEvent.key === 'Z')) {\n            desfazer();\n            keyboardEvent.preventDefault();\n        }\n    };\n\n    var bakExecCommand = document.execCommand;\n\n    var removerListeners = function removerListeners() {\n        editorCtrl._elemento.removeEventListener('keydown', keyDownListener);\n        editorCtrl._elemento.removeEventListener('keypress', removerListeners);\n        document.execCommand = bakExecCommand;\n    };\n\n    editorCtrl._elemento.addEventListener('keydown', keyDownListener);\n    editorCtrl._elemento.addEventListener('keypress', removerListeners);\n\n    document.execCommand = function (comando) {\n        if (comando === 'undo') {\n            desfazer();\n        } else {\n            return bakExecCommand.apply(document, arguments);\n        }\n    };\n}\n\n/**\n * Insere texto simples no contexto atual.\n * \n * @param {String} texto  Texto a ser interpretado.\n * @param {String} tipo Tipo atual.\n * @returns {DocumentFragment} Fragmento gerado para colagem.\n */\nfunction transformarTextoPuro(texto, tipo) {\n    if (texto.length === 0) {\n        return;\n    }\n\n    var fragmento = document.createDocumentFragment();\n    var primeiraQuebra = texto.indexOf('\\n');\n\n    if (primeiraQuebra !== 0) {\n        /* A primeira linha deve ser inserida no dispositivo atual.\n         * Para tanto, utiliza-se um TextNode.\n         */\n        var textNode = document.createTextNode(primeiraQuebra > 0 ? texto.substr(0, primeiraQuebra) : texto);\n        fragmento.appendChild(textNode);\n    }\n\n    if (primeiraQuebra !== -1) {\n        // Demais linhas devem ser criadas em novos pargrafos.\n        var novoTexto = (0, _interpretadorArticulacao.transformarQuebrasDeLinhaEmP)(texto.substr(primeiraQuebra + 1));\n        fragmento.appendChild(novoTexto);\n\n        /**\n         * Define o tipo para cada P, formatando automaticamente com base na terminao de dois pontos (:) ou ponto final(.).\n         */\n        var anterior = [];\n\n        if (fragmento.firstChild.nodeType === Node.TEXT_NODE && fragmento.firstChild.textContent.endsWith(':')) {\n            var enumeracao = novoTipoEnumeracao(tipo);\n\n            if (tipo !== enumeracao) {\n                anterior.push(tipo);\n                tipo = enumeracao;\n            }\n        }\n\n        for (var item = fragmento.firstElementChild; item; item = item.nextElementSibling) {\n            item.setAttribute('data-tipo', tipo);\n\n            if (item.textContent.endsWith(':')) {\n                var _enumeracao = novoTipoEnumeracao(tipo);\n\n                if (tipo !== _enumeracao) {\n                    anterior.push(tipo);\n                    tipo = _enumeracao;\n                }\n            } else if (anterior.length > 0 && item.textContent.endsWith('.')) {\n                tipo = anterior.pop();\n            }\n        }\n    }\n\n    return fragmento;\n}\n\nfunction novoTipoEnumeracao(tipoAtual) {\n    switch (tipoAtual) {\n        case 'artigo':\n        case 'paragrafo':\n            return 'inciso';\n\n        case 'inciso':\n            return 'alinea';\n\n        case 'alinea':\n            return 'item';\n\n        default:\n            return null;\n    }\n}\n\nfunction transformarArticulacao(articulacao) {\n    var fragmento = document.createDocumentFragment();\n\n    articulacao.forEach(function (item) {\n        return fragmento.appendChild(item.paraEditor());\n    });\n\n    return fragmento;\n}\n\nexports.ClipboardController = ClipboardController;\nexports.transformarQuebrasDeLinhaEmP = _interpretadorArticulacao.transformarQuebrasDeLinhaEmP;\nexports.transformarTextoPuro = transformarTextoPuro;\nexports.transformar = transformar;\nexports.default = ClipboardController;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _ArticulacaoChangeEvent = __webpack_require__(29);\n\nvar _ArticulacaoChangeEvent2 = _interopRequireDefault(_ArticulacaoChangeEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Monitora alteraes no editor de articulao e dispara o evento change.\n */\nvar ControleAlteracao = function () {\n    function ControleAlteracao(editorCtrl) {\n        var _this = this;\n\n        _classCallCheck(this, ControleAlteracao);\n\n        this._editorCtrl = editorCtrl;\n\n        editorCtrl.registrarEventListener('focus', function (event) {\n            _this._comFoco = true;\n\n            _this.iniciar(event.target, editorCtrl);\n        }, true);\n\n        editorCtrl.registrarEventListener('blur', function (event) {\n            _this._comFoco = false;\n\n            _this.finalizar(event.target, editorCtrl);\n            _this.comprometer();\n        }, true);\n    }\n\n    _createClass(ControleAlteracao, [{\n        key: 'iniciar',\n\n\n        /**\n         * Inicia a monitorao de alteraes.\n         * \n         * @param {Element} elemento\n         * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n         */\n        value: function iniciar(elemento, editorCtrl) {\n            throw 'No implementado';\n        }\n\n        /**\n         * Finaliza a monitorao de alteraes.\n         * \n         * @param {Element} elemento \n         * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n         */\n\n    }, {\n        key: 'finalizar',\n        value: function finalizar(elemento, editorCtrl) {\n            throw 'No implementado';\n        }\n    }, {\n        key: 'comprometer',\n        value: function comprometer() {\n            if (this.alterado) {\n                this.alterado = false;\n                this._editorCtrl.dispatchEvent(new _ArticulacaoChangeEvent2.default(this._editorCtrl));\n            }\n        }\n    }, {\n        key: 'alterado',\n        get: function get() {\n            throw 'No implementado.';\n        },\n        set: function set(valor) {\n            throw 'No implementado.';\n        }\n    }]);\n\n    return ControleAlteracao;\n}();\n\n/**\n * Monitora as alteraes utilizando MutationObserver.\n */\n\n\nvar ControleAlteracaoMutationObserver = function (_ControleAlteracao) {\n    _inherits(ControleAlteracaoMutationObserver, _ControleAlteracao);\n\n    function ControleAlteracaoMutationObserver(editorCtrl) {\n        _classCallCheck(this, ControleAlteracaoMutationObserver);\n\n        var _this2 = _possibleConstructorReturn(this, (ControleAlteracaoMutationObserver.__proto__ || Object.getPrototypeOf(ControleAlteracaoMutationObserver)).call(this, editorCtrl));\n\n        _this2._observer = new MutationObserver(_this2._mutationCallback.bind(_this2));\n        _this2._iniciado = false;\n        _this2._alterado = false;\n        return _this2;\n    }\n\n    _createClass(ControleAlteracaoMutationObserver, [{\n        key: 'iniciar',\n\n\n        /**\n         * Inicia a monitorao de alteraes.\n         * \n         * @param {Element} elemento\n         * @param {EditorArticulacaoController} editorCtrl Editor de articulao \n         */\n        value: function iniciar(elemento, editorCtrl) {\n            if (!this._conectado) {\n                this._observer.observe(elemento, {\n                    childList: true,\n                    attributes: true,\n                    characterData: true,\n                    subtree: true\n                });\n                this._conectado = true;\n            }\n            this._iniciado = true;\n        }\n\n        /**\n         * Finaliza a monitorao de alteraes.\n         * \n         * @param {Element} elemento \n         * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n         */\n\n    }, {\n        key: 'finalizar',\n        value: function finalizar(elemento, editorCtrl) {\n            if (this._conectado) {\n                this._observer.disconnect();\n                this._conectado = false;\n            }\n\n            this._iniciado = false;\n        }\n    }, {\n        key: '_mutationCallback',\n        value: function _mutationCallback() {\n            try {\n                this._conectado = false;\n                this._observer.disconnect();\n            } finally {\n                this.alterado = true;\n            }\n        }\n    }, {\n        key: 'alterado',\n        get: function get() {\n            return this._alterado;\n        },\n        set: function set(valor) {\n            this._alterado = valor;\n\n            if (!this._alterado && !this._conectado && this._comFoco) {\n                this.iniciar(this._editorCtrl._elemento, this._editorCtrl);\n            }\n\n            if (this._alterado && !this._comFoco) {\n                this.comprometer();\n            }\n\n            if (this._alterado) {\n                this.finalizar();\n            }\n        }\n    }]);\n\n    return ControleAlteracaoMutationObserver;\n}(ControleAlteracao);\n\n/**\n * Monitora as alteraes comparando o lexml no foco e no blur.\n */\n\n\nvar ControleAlteracaoComparativo = function (_ControleAlteracao2) {\n    _inherits(ControleAlteracaoComparativo, _ControleAlteracao2);\n\n    function ControleAlteracaoComparativo(editorCtrl) {\n        _classCallCheck(this, ControleAlteracaoComparativo);\n\n        var _this3 = _possibleConstructorReturn(this, (ControleAlteracaoComparativo.__proto__ || Object.getPrototypeOf(ControleAlteracaoComparativo)).call(this, editorCtrl));\n\n        _this3._alteradoCache = false;\n        return _this3;\n    }\n\n    _createClass(ControleAlteracaoComparativo, [{\n        key: 'iniciar',\n\n\n        /**\n        * Inicia a monitorao de alteraes.\n        * \n        * @param {Element} elemento \n        * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n        */\n        value: function iniciar(elemento, editorCtrl) {\n            this._lexml = editorCtrl.lexmlString;\n        }\n\n        /**\n         * Finaliza a monitorao de alteraes.\n         * \n         * @param {Element} elemento\n         * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n         */\n\n    }, {\n        key: 'finalizar',\n        value: function finalizar(elemento, editorCtrl) {}\n    }, {\n        key: 'alterado',\n        get: function get() {\n            if (this._alteradoCache) {\n                return true;\n            } else {\n                this._alteradoCache = this._editorCtrl.lexmlString !== this._lexml;\n                return this._alteradoCache;\n            }\n        },\n        set: function set(valor) {\n            this._lexml = valor ? '' : this._editorCtrl.lexmlString;\n            this._alteradoCache = !!valor;\n\n            if (valor && !this._comFoco) {\n                this.comprometer();\n            }\n        }\n    }]);\n\n    return ControleAlteracaoComparativo;\n}(ControleAlteracao);\n\nfunction criarControleAlteracao(editorCtrl) {\n    if ('MutationObserver' in window) {\n        return new ControleAlteracaoMutationObserver(editorCtrl);\n    } else {\n        return new ControleAlteracaoComparativo(editorCtrl);\n    }\n}\n\nexports.default = criarControleAlteracao;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _EventoInterno2 = __webpack_require__(2);\n\nvar _EventoInterno3 = _interopRequireDefault(_EventoInterno2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * Evento de notificao de atualizao do contedo da articulao.\n */\nvar ArticulacaoChangeEvent = function (_EventoInterno) {\n  _inherits(ArticulacaoChangeEvent, _EventoInterno);\n\n  /**\n   * Constri o evento.\n   * \n   * @param {EditorArticulacaoController} editorArticulacaoCtrl \n   */\n  function ArticulacaoChangeEvent(editorArticulacaoCtrl) {\n    _classCallCheck(this, ArticulacaoChangeEvent);\n\n    return _possibleConstructorReturn(this, (ArticulacaoChangeEvent.__proto__ || Object.getPrototypeOf(ArticulacaoChangeEvent)).call(this, 'change', {\n      bubbles: true,\n      cancelable: false\n    }));\n  }\n\n  return ArticulacaoChangeEvent;\n}(_EventoInterno3.default);\n\nexports.default = ArticulacaoChangeEvent;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(10)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".silegismg-editor-articulacao{counter-reset:parte livro titulo capitulo secao subsecao artigo;outline:none}.silegismg-editor-articulacao p:before{font-weight:bolder;animation:.25s ease-in rotulo}.silegismg-editor-articulacao p[data-tipo]:before{display:inline-block;margin-right:1ex;text-indent:0}.silegismg-editor-articulacao p{text-indent:4ex;text-align:justify;border-left:2px solid transparent;padding-left:1ex}.silegismg-editor-articulacao p[data-invalido]{border-left-color:red}.silegismg-editor-articulacao p[data-invalido]:after{display:block;content:attr(data-invalido);color:red;text-indent:0;margin-left:auto;font-size:90%}.silegismg-editor-articulacao p[data-tipo=titulo]:before{content:\\\"T\\\\EDtulo \\\" counter(titulo,upper-roman);counter-increment:titulo;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=titulo]{counter-reset:capitulo;text-transform:uppercase;font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=capitulo]:before{content:\\\"Cap\\\\EDtulo \\\" counter(capitulo,upper-roman);counter-increment:capitulo;display:block;text-align:center;font-weight:400;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=capitulo]{counter-reset:secao;text-transform:uppercase;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=secao]:before{content:\\\"Se\\\\E7\\\\E3o \\\" counter(secao,upper-roman);counter-increment:secao;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=secao]{counter-reset:subsecao;font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=subsecao]:before{content:\\\"Subse\\\\E7\\\\E3o \\\" counter(subsecao,upper-roman);counter-increment:subsecao;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=subsecao]{font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=artigo]:before{content:\\\"Art. \\\" counter(artigo) \\\"\\\\BA\\\" \\\"${separadorArtigo}\\\";counter-increment:artigo}.silegismg-editor-articulacao p[data-tipo=artigo].emenda:before{content:\\\"Art. \\\" counter(artigo) \\\"\\\\BA-\\\" counter(emenda,upper-latin) \\\"${separadorArtigo}\\\";counter-increment:emenda}.silegismg-editor-articulacao p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda):before{content:\\\"Art. \\\" counter(artigo) \\\"${separadorArtigoSemOrdinal}\\\"}.silegismg-editor-articulacao p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo].emenda:before{content:\\\"Art. \\\" counter(artigo) \\\"-\\\" counter(emenda,upper-latin) \\\"${separadorArtigoSemOrdinal}\\\"}.silegismg-editor-articulacao p[data-tipo=artigo]{counter-reset:paragrafo inciso emenda}.silegismg-editor-articulacao p[data-tipo=artigo].emenda{counter-reset:paragrafo inciso}.silegismg-editor-articulacao p[data-tipo=paragrafo]{counter-reset:inciso}.silegismg-editor-articulacao p[data-tipo=paragrafo]:before{content:\\\"\\\\A7   \\\" counter(paragrafo) \\\"\\\\BA\\\" \\\"${separadorParagrafo}\\\";counter-increment:paragrafo}.silegismg-editor-articulacao p.semOrdinal[data-tipo=paragrafo]:before{content:\\\"\\\\A7   \\\" counter(paragrafo) \\\"${separadorParagrafoSemOrdinal}\\\";counter-increment:paragrafo}.silegismg-editor-articulacao p[data-tipo=paragrafo].unico:before{content:\\\"Par\\\\E1grafo \\\\FAnico${separadorParagrafoUnico}\\\"}.silegismg-editor-articulacao p[data-tipo=inciso]{counter-reset:alinea}.silegismg-editor-articulacao p[data-tipo=inciso]:before{content:counter(inciso,upper-roman) \\\"${separadorInciso}\\\";counter-increment:inciso}.silegismg-editor-articulacao p[data-tipo=alinea]{counter-reset:item}.silegismg-editor-articulacao p[data-tipo=alinea]:before{content:counter(alinea,lower-latin) \\\"${separadorAlinea}\\\";counter-increment:alinea}.silegismg-editor-articulacao p[data-tipo=item]:before{content:counter(item) \\\"${separadorItem}\\\";counter-increment:item}.silegismg-editor-articulacao>:first-child{margin-top:0}.silegismg-editor-articulacao>:last-child{margin-bottom:0}@keyframes rotulo{0%{opacity:0}10%{opacity:0}to{opacity:1}}\", \"\", {\"version\":3,\"sources\":[\"/home/m18820/git/editor-articulacao/src/editor-articulacao.css\"],\"names\":[],\"mappings\":\"AAiBA,8BACE,gEAAiE,AACjE,YAAc,CACf,AAED,uCACE,mBAAoB,AACpB,6BAA+B,CAChC,AAED,kDACE,qBAAsB,AACtB,iBAAkB,AAClB,aAAe,CAChB,AAED,gCACE,gBAAiB,AACjB,mBAAoB,AACpB,kCAAmC,AACnC,gBAAkB,CACnB,AAED,+CACE,qBAAuB,CACxB,AAED,qDACE,cAAe,AACf,4BAA6B,AAC7B,UAAW,AACX,cAAe,AACf,iBAAkB,AAClB,aAAe,CAUhB,AAED,yDACE,gDAAgD,AAChD,yBAA0B,AAC1B,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,kDACE,uBAAwB,AACxB,yBAA0B,AAC1B,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,2DACE,oDAAoD,AACpD,2BAA4B,AAC5B,cAAe,AACf,kBAAmB,AACnB,gBAAoB,AACpB,eAAgB,AAChB,aAAe,CAChB,AAED,oDACE,oBAAqB,AACrB,yBAA0B,AAC1B,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,wDACE,gDAA8C,AAC9C,wBAAyB,AACzB,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,iDACE,uBAAwB,AACxB,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,2DACE,sDAAoD,AACpD,2BAA4B,AAC5B,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,oDACE,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAGD,yDACE,2DAA0D,AAC1D,wBAA0B,CAC3B,AAED,gEACE,wFAAwF,AACxF,wBAA0B,CAC3B,AAID,+WACE,8DAAgE,CACjE,AAED,0YACE,8FAAiG,CAClG,AAED,kDACE,qCAAuC,CACxC,AAED,yDACE,8BAAgC,CACjC,AAED,qDACE,oBAAsB,CACvB,AAED,4DACE,kEAA6D,AAC7D,2BAA6B,CAC9B,AAED,uEACE,sEAAmE,AACnE,2BAA6B,CAC9B,AAED,kEACE,uDAAqD,CACtD,AAED,kDACE,oBAAsB,CACvB,AAED,yDACE,yDAA2D,AAC3D,wBAA0B,CAC3B,AAED,kDACE,kBAAoB,CACrB,AAED,yDACE,yDAA2D,AAC3D,wBAA0B,CAC3B,AAED,uDACE,yCAA0C,AAC1C,sBAAwB,CACzB,AAKD,2CACE,YAAc,CACf,AAKD,0CACE,eAAiB,CAClB,AAED,kBACE,GACE,SAAW,CACZ,AACD,IACE,SAAW,CACZ,AACD,GACE,SAAW,CACZ,CACF\",\"file\":\"editor-articulacao.css\",\"sourcesContent\":[\"/* Copyright 2017 Assembleia Legislativa de Minas Gerais\\n * \\n * This file is part of Editor-Articulacao.\\n *\\n * Editor-Articulacao is free software: you can redistribute it and/or modify\\n * it under the terms of the GNU Lesser General Public License as published by\\n * the Free Software Foundation, version 3.\\n *\\n * Editor-Articulacao is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n * GNU Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\\n */\\n\\n.silegismg-editor-articulacao {\\n  counter-reset: parte livro titulo capitulo secao subsecao artigo;\\n  outline: none;\\n}\\n\\n.silegismg-editor-articulacao p:before {\\n  font-weight: bolder;\\n  animation: .25s ease-in rotulo;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo]:before {\\n  display: inline-block; /* Resolve problema de cursor antes do rtulo no chrome */\\n  margin-right: 1ex;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p {\\n  text-indent: 4ex;\\n  text-align: justify;\\n  border-left: solid 2px transparent;\\n  padding-left: 1ex;\\n}\\n\\n.silegismg-editor-articulacao p[data-invalido] {\\n  border-left-color: red;\\n}\\n\\n.silegismg-editor-articulacao p[data-invalido]:after {\\n  display: block;\\n  content: attr(data-invalido);\\n  color: red;\\n  text-indent: 0;\\n  margin-left: auto;\\n  font-size: 90%;\\n\\n/*\\n  white-space: nowrap;\\n  text-overflow: clip;\\n  overflow: hidden;\\n  max-width: 2ex;\\n  vertical-align: middle;\\n  margin-left: 1ex;\\n*/\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"titulo\\\"]:before {\\n  content: 'Ttulo ' counter(titulo, upper-roman);\\n  counter-increment: titulo;\\n  display: block;\\n  text-align: center;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"titulo\\\"] {\\n  counter-reset: capitulo;\\n  text-transform: uppercase;\\n  font-weight: bolder;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"capitulo\\\"]:before {\\n  content: 'Captulo ' counter(capitulo, upper-roman);\\n  counter-increment: capitulo;\\n  display: block;\\n  text-align: center;\\n  font-weight: normal;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"capitulo\\\"] {\\n  counter-reset: secao;\\n  text-transform: uppercase;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"secao\\\"]:before {\\n  content: 'Seo ' counter(secao, upper-roman);\\n  counter-increment: secao;\\n  display: block;\\n  text-align: center;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"secao\\\"] {\\n  counter-reset: subsecao;\\n  font-weight: bolder;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"subsecao\\\"]:before {\\n  content: 'Subseo ' counter(subsecao, upper-roman);\\n  counter-increment: subsecao;\\n  display: block;\\n  text-align: center;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"subsecao\\\"] {\\n  font-weight: bolder;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"]:before {\\n  content: 'Art. ' counter(artigo) '' '${separadorArtigo}';\\n  counter-increment: artigo;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"].emenda:before {\\n  content: 'Art. ' counter(artigo) '-' counter(emenda, upper-latin) '${separadorArtigo}';\\n  counter-increment: emenda;\\n}\\n\\n/* A partir do artigo 10, no se usa \\\"\\\" */\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda):before {\\n  content: 'Art. ' counter(artigo) '${separadorArtigoSemOrdinal}';\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"].emenda:before {\\n  content: 'Art. ' counter(artigo) '-' counter(emenda, upper-latin) '${separadorArtigoSemOrdinal}';\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='artigo'] {\\n  counter-reset: paragrafo inciso emenda;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='artigo'].emenda {\\n  counter-reset: paragrafo inciso;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='paragrafo'] {\\n  counter-reset: inciso;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='paragrafo']:before {\\n  content: ' ' counter(paragrafo) '' '${separadorParagrafo}';\\n  counter-increment: paragrafo;\\n}\\n\\n.silegismg-editor-articulacao p.semOrdinal[data-tipo='paragrafo']:before {\\n  content: ' ' counter(paragrafo) '${separadorParagrafoSemOrdinal}';\\n  counter-increment: paragrafo;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='paragrafo'].unico:before {\\n  content: 'Pargrafo nico${separadorParagrafoUnico}';\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='inciso'] {\\n  counter-reset: alinea;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='inciso']:before {\\n  content: counter(inciso, upper-roman) '${separadorInciso}';\\n  counter-increment: inciso;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='alinea'] {\\n  counter-reset: item;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='alinea']:before {\\n  content: counter(alinea, lower-latin) '${separadorAlinea}';\\n  counter-increment: alinea;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='item']:before {\\n  content: counter(item) '${separadorItem}';\\n  counter-increment: item;\\n}\\n\\n\\n/* O primeiro artigo no deve ter margem superior */\\n\\n.silegismg-editor-articulacao > *:first-child {\\n  margin-top: 0;\\n}\\n\\n\\n/* O ltimo artigo no deve ter margem inferior */\\n\\n.silegismg-editor-articulacao > *:last-child {\\n  margin-bottom: 0;\\n}\\n\\n@keyframes rotulo {\\n  0% {\\n    opacity: 0;\\n  }\\n  10% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(10)(true);\n// imports\n\n\n// module\nexports.push([module.i, \":host{display:block;text-indent:4ex}:host([disabled]){color:gray}.silegismg-editor-articulacao p{text-indent:inherit!important}.silegismg-editor-articulacao p:before{color:var(--rotulo-cor,currentColor);font-weight:var(--rotulo-peso,bolder);background:var(--rotulo-background,inherit)}\", \"\", {\"version\":3,\"sources\":[\"/home/m18820/git/editor-articulacao/src/editor-articulacao-shadow.css\"],\"names\":[],\"mappings\":\"AAiBA,MACI,cAAe,AACf,eAAiB,CACpB,AAED,kBACI,UAAY,CACf,AAED,gCACI,6BAAgC,CACnC,AAED,uCACI,qCAAuC,AACvC,sCAAwC,AACxC,2CAA8C,CACjD\",\"file\":\"editor-articulacao-shadow.css\",\"sourcesContent\":[\"/* Copyright 2017 Assembleia Legislativa de Minas Gerais\\n * \\n * This file is part of Editor-Articulacao.\\n *\\n * Editor-Articulacao is free software: you can redistribute it and/or modify\\n * it under the terms of the GNU Lesser General Public License as published by\\n * the Free Software Foundation, version 3.\\n *\\n * Editor-Articulacao is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n * GNU Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\\n */\\n\\n:host {\\n    display: block;\\n    text-indent: 4ex;\\n}\\n\\n:host([disabled]) {\\n    color: gray;\\n}\\n\\n.silegismg-editor-articulacao p {\\n    text-indent: inherit !important;\\n}\\n\\n.silegismg-editor-articulacao p:before {\\n    color: var(--rotulo-cor, currentColor);\\n    font-weight: var(--rotulo-peso, bolder);\\n    background: var(--rotulo-background, inherit);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _ProblemaValidacao = __webpack_require__(33);\n\nvar _ProblemaValidacao2 = _interopRequireDefault(_ProblemaValidacao);\n\nvar _ValidadorCaixaAlta = __webpack_require__(34);\n\nvar _ValidadorCaixaAlta2 = _interopRequireDefault(_ValidadorCaixaAlta);\n\nvar _ValidadorCitacao = __webpack_require__(35);\n\nvar _ValidadorCitacao2 = _interopRequireDefault(_ValidadorCitacao);\n\nvar _ValidadorEnumeracaoElementos = __webpack_require__(36);\n\nvar _ValidadorEnumeracaoElementos2 = _interopRequireDefault(_ValidadorEnumeracaoElementos);\n\nvar _ValidadorIniciarLetraMaiuscula = __webpack_require__(37);\n\nvar _ValidadorIniciarLetraMaiuscula2 = _interopRequireDefault(_ValidadorIniciarLetraMaiuscula);\n\nvar _ValidadorPontuacaoArtigoParagrafo = __webpack_require__(38);\n\nvar _ValidadorPontuacaoArtigoParagrafo2 = _interopRequireDefault(_ValidadorPontuacaoArtigoParagrafo);\n\nvar _ValidadorPontuacaoEnumeracao = __webpack_require__(39);\n\nvar _ValidadorPontuacaoEnumeracao2 = _interopRequireDefault(_ValidadorPontuacaoEnumeracao);\n\nvar _ValidadorSentencaUnica = __webpack_require__(40);\n\nvar _ValidadorSentencaUnica2 = _interopRequireDefault(_ValidadorSentencaUnica);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Controler para realizar validao nos dispositivos.\n */\nvar ValidacaoController = function () {\n    function ValidacaoController(opcoes) {\n        _classCallCheck(this, ValidacaoController);\n\n        this.validadores = [];\n\n        if (opcoes !== false) {\n            habilitar(opcoes, 'caixaAlta', this.validadores, _ValidadorCaixaAlta2.default);\n            habilitar(opcoes, 'citacao', this.validadores, _ValidadorCitacao2.default);\n            habilitar(opcoes, 'enumeracaoElementos', this.validadores, _ValidadorEnumeracaoElementos2.default);\n            habilitar(opcoes, 'inicialMaiuscula', this.validadores, _ValidadorIniciarLetraMaiuscula2.default);\n            habilitar(opcoes, 'pontuacao', this.validadores, _ValidadorPontuacaoArtigoParagrafo2.default);\n            habilitar(opcoes, 'pontuacaoEnumeracao', this.validadores, _ValidadorPontuacaoEnumeracao2.default);\n            habilitar(opcoes, 'sentencaUnica', this.validadores, _ValidadorSentencaUnica2.default);\n        }\n    }\n\n    /**\n     * Realiza a validao do dispositivo.\n     * \n     * @param {Element} dispositivo Dispositivo a ser validado.\n     * @returns {ProblemaValidacao[]} Problemas encontrados.\n     */\n\n\n    _createClass(ValidacaoController, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            if (!dispositivo) {\n                return;\n            }\n\n            var problemas = [];\n\n            if (dispositivo.textContent.trim().length > 0) {\n                this.validadores.forEach(function (item) {\n                    var validador = item.validador;\n                    var opcao = item.opcao;\n\n                    if (validador.aplicaSeA(dispositivo) && !validador.validar(dispositivo)) {\n                        problemas.push(new _ProblemaValidacao2.default(dispositivo, opcao, validador.descricao));\n                    }\n                });\n\n                if (problemas.length > 0) {\n                    dispositivo.setAttribute('data-invalido', problemas.reduce(function (prev, problema) {\n                        return prev ? prev + ' ' + problema.descricao : problema.descricao;\n                    }, null));\n                } else {\n                    dispositivo.removeAttribute('data-invalido');\n                }\n            }\n\n            return problemas;\n        }\n    }]);\n\n    return ValidacaoController;\n}();\n\n/**\n * Habilita um validador.\n * \n * @param {Object} opcoes Conjunto de opes fornecidas para o controller de validao.\n * @param {String} nomeOpcao Nome da opo para habilitar um validador.\n * @param {Validador[]} validadores Vetor de validadores.\n * @param {Class} Validador Classe do validador.\n */\n\n\nfunction habilitar(opcoes, nomeOpcao, validadores, Validador) {\n    if (opcoes === true || opcoes[nomeOpcao] !== false) {\n        validadores.push({ validador: new Validador(), opcao: nomeOpcao });\n    }\n}\n\nexports.default = ValidacaoController;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Representa um problema que descreve a invalidao de um dispositivo.\n */\nvar ProblemaValidacao =\n/**\n * Constri o problema.\n * \n * @param {Element} dispositivo Dispositivo invlido.\n * @param {String} tipo Tipo do validador (nome da classe) que considerou o dispositivo invlido.\n * @param {String} descricao Descrio para o problema.\n */\nfunction ProblemaValidacao(dispositivo, tipo, descricao) {\n  _classCallCheck(this, ProblemaValidacao);\n\n  this.dispositivo = dispositivo;\n  this.tipo = tipo;\n  this.descricao = descricao;\n};\n\nexports.default = ProblemaValidacao;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Validador2 = __webpack_require__(0);\n\nvar _Validador3 = _interopRequireDefault(_Validador2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ValidadorIniciarLetraMaiuscula = function (_Validador) {\n    _inherits(ValidadorIniciarLetraMaiuscula, _Validador);\n\n    function ValidadorIniciarLetraMaiuscula() {\n        _classCallCheck(this, ValidadorIniciarLetraMaiuscula);\n\n        return _possibleConstructorReturn(this, (ValidadorIniciarLetraMaiuscula.__proto__ || Object.getPrototypeOf(ValidadorIniciarLetraMaiuscula)).call(this, ['artigo', 'paragrafo'], 'Artigos e pargrafos no devem ser escritos usando apenas caixa alta.'));\n    }\n\n    _createClass(ValidadorIniciarLetraMaiuscula, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            var texto = dispositivo.textContent;\n\n            return texto.length === 0 || texto.toUpperCase() !== texto;\n        }\n    }]);\n\n    return ValidadorIniciarLetraMaiuscula;\n}(_Validador3.default);\n\nexports.default = ValidadorIniciarLetraMaiuscula;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Validador2 = __webpack_require__(0);\n\nvar _Validador3 = _interopRequireDefault(_Validador2);\n\nvar _util = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ValidadorCitacao = function (_Validador) {\n    _inherits(ValidadorCitacao, _Validador);\n\n    function ValidadorCitacao() {\n        _classCallCheck(this, ValidadorCitacao);\n\n        return _possibleConstructorReturn(this, (ValidadorCitacao.__proto__ || Object.getPrototypeOf(ValidadorCitacao)).call(this, 'continuacao', 'Citaes devem estar entre aspas e terminar com ponto final (.).'));\n    }\n\n    _createClass(ValidadorCitacao, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            var texto = dispositivo.textContent.trim();\n            var inicio = seNulo((0, _util.encontrarDispositivoAnteriorDoTipo)(dispositivo, ['artigo']), function (posterior) {\n                return posterior.nextElementSibling;\n            }, dispositivo);\n\n            if (dispositivo === inicio) {\n                return (/^[\"]/.test(texto)\n                );\n            }\n\n            var termino = seNulo((0, _util.encontrarDispositivoPosteriorDoTipo)(dispositivo, ['continuacao', 'artigo', 'paragrafo', 'inciso']), function (posterior) {\n                return posterior.getAttribute('data-tipo') === 'continuacao' ? posterior : posterior.previousElementSibling;\n            }, dispositivo);\n\n            if (dispositivo === termino) {\n                return (/.+[\"]\\.$/.test(texto)\n                );\n            }\n\n            // Se estamos no meio da citao, no devem haver aspas.\n            return !/[\"]/.test(texto);\n        }\n    }]);\n\n    return ValidadorCitacao;\n}(_Validador3.default);\n\n/**\n * Se o objeto no estiver nulo, ento executa uma funo consumidora deste objeto.\n * Caso o contrrio, retorna um outro valor.\n * \n * @param {*} obj Objeto a ser verificado.\n * @param {*} fnSeNaoNulo Funo cujo resultado ser retornado caso o objeto seja diferente de nulo.\n * @param {*} seNulo Valor retornado caso seja nulo.\n */\n\n\nfunction seNulo(obj, fnSeNaoNulo, seNulo) {\n    return obj ? fnSeNaoNulo(obj) : seNulo;\n}\n\nexports.default = ValidadorCitacao;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Validador2 = __webpack_require__(0);\n\nvar _Validador3 = _interopRequireDefault(_Validador2);\n\nvar _util = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ValidadorEnumeracaoElementos = function (_Validador) {\n    _inherits(ValidadorEnumeracaoElementos, _Validador);\n\n    function ValidadorEnumeracaoElementos() {\n        _classCallCheck(this, ValidadorEnumeracaoElementos);\n\n        return _possibleConstructorReturn(this, (ValidadorEnumeracaoElementos.__proto__ || Object.getPrototypeOf(ValidadorEnumeracaoElementos)).call(this, ['inciso', 'alinea', 'item'], 'Enumeraes devem possuir mais de um elemento.'));\n    }\n\n    _createClass(ValidadorEnumeracaoElementos, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            var tipo = dispositivo.getAttribute('data-tipo');\n            var superiores = (0, _util.getTiposSuperiores)(tipo);\n\n            return !!(0, _util.encontrarDispositivoAnteriorDoTipo)(dispositivo, [tipo], superiores) || !!(0, _util.encontrarDispositivoPosteriorDoTipo)(dispositivo, [tipo], superiores);\n        }\n    }]);\n\n    return ValidadorEnumeracaoElementos;\n}(_Validador3.default);\n\nexports.default = ValidadorEnumeracaoElementos;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Validador2 = __webpack_require__(0);\n\nvar _Validador3 = _interopRequireDefault(_Validador2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ValidadorIniciarLetraMaiuscula = function (_Validador) {\n    _inherits(ValidadorIniciarLetraMaiuscula, _Validador);\n\n    function ValidadorIniciarLetraMaiuscula() {\n        _classCallCheck(this, ValidadorIniciarLetraMaiuscula);\n\n        return _possibleConstructorReturn(this, (ValidadorIniciarLetraMaiuscula.__proto__ || Object.getPrototypeOf(ValidadorIniciarLetraMaiuscula)).call(this, ['artigo', 'paragrafo'], 'Artigos e pargrafos devem ser iniciados com letra maiscula.'));\n    }\n\n    _createClass(ValidadorIniciarLetraMaiuscula, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            var texto = dispositivo.textContent.trim();\n\n            return texto.charAt(0).toUpperCase() === texto.charAt(0);\n        }\n    }]);\n\n    return ValidadorIniciarLetraMaiuscula;\n}(_Validador3.default);\n\nexports.default = ValidadorIniciarLetraMaiuscula;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Validador2 = __webpack_require__(0);\n\nvar _Validador3 = _interopRequireDefault(_Validador2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ValidadorPontuacaoArtigoParagrafo = function (_Validador) {\n    _inherits(ValidadorPontuacaoArtigoParagrafo, _Validador);\n\n    function ValidadorPontuacaoArtigoParagrafo() {\n        _classCallCheck(this, ValidadorPontuacaoArtigoParagrafo);\n\n        return _possibleConstructorReturn(this, (ValidadorPontuacaoArtigoParagrafo.__proto__ || Object.getPrototypeOf(ValidadorPontuacaoArtigoParagrafo)).call(this, ['artigo', 'paragrafo'], 'Artigos e pargrafos devem ser terminados com ponto final (.) ou dois pontos (:), sem espao antes da pontuao.'));\n    }\n\n    _createClass(ValidadorPontuacaoArtigoParagrafo, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            return (/.*\\S+[:.]$/.test(dispositivo.textContent.trim())\n            );\n        }\n    }]);\n\n    return ValidadorPontuacaoArtigoParagrafo;\n}(_Validador3.default);\n\nexports.default = ValidadorPontuacaoArtigoParagrafo;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Validador2 = __webpack_require__(0);\n\nvar _Validador3 = _interopRequireDefault(_Validador2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ValidadorPontuacaoEnumeracao = function (_Validador) {\n    _inherits(ValidadorPontuacaoEnumeracao, _Validador);\n\n    function ValidadorPontuacaoEnumeracao() {\n        _classCallCheck(this, ValidadorPontuacaoEnumeracao);\n\n        return _possibleConstructorReturn(this, (ValidadorPontuacaoEnumeracao.__proto__ || Object.getPrototypeOf(ValidadorPontuacaoEnumeracao)).call(this, ['inciso', 'alinea', 'item'], 'Enumeraes devem ser terminadas com ponto final (.), ponto e vrgula (;) ou dois pontos (:), sem espao antes da pontuao.'));\n    }\n\n    _createClass(ValidadorPontuacaoEnumeracao, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            return (/.*\\S+(?:[;.:]|; ou|; e)$/.test(dispositivo.textContent.trim())\n            );\n        }\n    }]);\n\n    return ValidadorPontuacaoEnumeracao;\n}(_Validador3.default);\n\nexports.default = ValidadorPontuacaoEnumeracao;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Validador2 = __webpack_require__(0);\n\nvar _Validador3 = _interopRequireDefault(_Validador2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Copyright 2017 Assembleia Legislativa de Minas Gerais\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Editor-Articulacao.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is free software: you can redistribute it and/or modify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU Lesser General Public License as published by\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, version 3.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Editor-Articulacao is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar ValidadorSentencaUnica = function (_Validador) {\n    _inherits(ValidadorSentencaUnica, _Validador);\n\n    function ValidadorSentencaUnica() {\n        _classCallCheck(this, ValidadorSentencaUnica);\n\n        return _possibleConstructorReturn(this, (ValidadorSentencaUnica.__proto__ || Object.getPrototypeOf(ValidadorSentencaUnica)).call(this, ['artigo', 'paragrafo', 'inciso', 'alinea', 'item'], 'Dispositivos devem conter uma nica sentena.'));\n    }\n\n    _createClass(ValidadorSentencaUnica, [{\n        key: 'validar',\n        value: function validar(dispositivo) {\n            var texto = dispositivo.textContent.trim();\n            var regexp = /[.;:]\\s*(\\S)/g;\n            var m = void 0;\n            var valido = true;\n\n            for (var _m = regexp.exec(texto); _m && valido; _m = regexp.exec(texto)) {\n                valido = _m[1].toLowerCase() === _m[1];\n            }\n\n            return valido;\n        }\n    }]);\n\n    return ValidadorSentencaUnica;\n}(_Validador3.default);\n\nexports.default = ValidadorSentencaUnica;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// silegismg-editor-articulacao-plain-js.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac78eaeb86bfaf662765","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Classe abstrata para validar dispositivos.\n */\nclass Validador {\n    /**\n     * Constri o validador.\n     * \n     * @param {String[]} tipos Tipos de dispositivos que sero validados.\n     * @param {String} descricao Descrio da validao.\n     */\n    constructor(tipos, descricao) {\n        this.tipos = tipos instanceof Array ? new Set(tipos) : new Set([tipos]);\n        this.descricao = descricao;\n    }\n\n    /**\n     * Verifiac se o validador se aplica ao dispositivo.\n     * \n     * @param {Element} dispositivo Dispositivo a ser validado.\n     */\n    aplicaSeA(dispositivo) {\n        return this.tipos.has(dispositivo.getAttribute('data-tipo'));\n    }\n    \n    /**\n     * Realiza a validao do dispositivo.\n     * \n     * @param {Element} dispositivo Dispositivo a ser validado.\n     * @returns {Boolean} Verdadeiro se o dispositivo estiver vlido.\n     */\n    validar(dispositivo) {\n        throw 'No implementado.';\n    }\n}\n\nexport default Validador;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/Validador.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport TransformacaoAutomaticaEvent from '../../eventos/TransformacaoAutomaticaEvent';\n\n/**\n * Definio abstrata de uma transformao a ser realizada na\n * seleo da articulao.\n */\nclass Transformacao {\n    constructor(/*sequencias*/) {\n        this.sequencias = [];\n\n        for (let i = 0; i < arguments.length; i++) {\n            let sequencia = arguments[i];\n            this.sequencias.push(sequencia);\n\n            if (sequencia.indexOf('\\n') >= 0) {\n                this.sequencias.push(sequencia.replace(/\\n/g, '\\r'));\n            }\n        }\n    }\n\n    get tipoTransformacao() {\n        // Deve-se sobrescrever este getter, pois na minificao de js, perde-se o nome do construtor!\n        return this.constructor.name;\n    }\n\n    /**\n     * Efetua a transformao.\n     * \n     * @param {Element} elementoEditor Elemento em que est o editor de articulao.\n     * @param {EditorArticulacaoController} ctrl Controlador do editor.\n     * @param {ContextoArticulacao} contexto Contexto atual.\n     * @param {String} sequencia Sequncia que disparou a transformao.\n     * @param {KeyboardEvent} event Evento do teclado.\n     */\n    transformar(elementoEditor, ctrl, contexto, sequencia, event) {\n        throw 'Mtodo no implementado';\n    }\n}\n\n/**\n * Definio abstrata de uma transformao a ser realizada no\n * prximo dispositivo selecionado, aps o disparo do evento\n * 'keyup'. til para transformaes a ser executadas aps\n * a criao de um novo dispositivo.\n */\nclass TransformacaoDoProximo extends Transformacao {\n    transformar(editor, ctrl, contexto) {\n        let novoTipo = this.proximoTipo(editor, ctrl, contexto);\n\n        if (novoTipo) {\n            onKeyUp(editor, contexto.cursor.elemento, () => {\n                let tipoAnterior = ctrl.contexto.cursor.tipo;\n                ctrl.alterarTipoDispositivoSelecionado(novoTipo);\n                ctrl.dispatchEvent(new TransformacaoAutomaticaEvent(ctrl, tipoAnterior, novoTipo, this.tipoTransformacao));\n            });\n        }\n    }\n\n    proximoTipo(editor, ctrl, contexto) {\n        throw 'Mtodo no implementado';\n    }\n}\n\nfunction onKeyUp(editor, elementoAtual, callback) {\n    var handler = function(event) {\n        callback(event);\n        editor.removeEventListener('keyup', handler);\n    };\n\n    editor.addEventListener('keyup', handler);\n}\n\nexport { Transformacao, TransformacaoDoProximo };\nexport default Transformacao;\n\n\n// WEBPACK FOOTER //\n// ./src/transformacaoAutomatica/transformacoes/Transformacao.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Representa um evento interno, a ser disparado pelo EditorArticulacaoController.dispatchEvent.\n * Como o IE 11 possui problemas para herdar classes de CustomEvent, foi criada esta classe\n * intermediria para gerar o CustomEvent.\n */\nclass EventoInterno {\n    constructor(nome, dados) {\n        this.nome = nome;\n        this.dados = dados;\n    }\n\n    getCustomEvent() {\n        return new CustomEvent(this.nome, this.dados);\n    }\n}\n\n// Polyfill de https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill\n(function () {\n    if (typeof window.CustomEvent === \"function\") return false;\n\n    function CustomEvent(event, params) {\n        params = params || { bubbles: false, cancelable: false, detail: undefined };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n})();\n\nexport default EventoInterno;\n\n\n// WEBPACK FOOTER //\n// ./src/eventos/EventoInterno.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Intercepta um mtodo aps sua execuo.\n * \n * @param {Object} objeto Objeto ou classe a ser interceptada. Se o tipo for uma classe, a interceptao ocorrer sobre o prototype.\n * @param {String} metodo Mtodo a ser interceptado.\n * @param {function} interceptador Funo interceptadora, que receber o objeto, o valor retornado e os argumentos.\n */\nfunction interceptar(objeto, metodo, interceptador) {\n    if (!objeto) throw 'Objeto no fornecido.';\n    if (!metodo) throw 'Mtodo no fornecido.';\n    if (!interceptador) throw 'Interceptador no fornecido.';\n\n    if (typeof objeto === 'function') {\n        interceptar(objeto.prototype, metodo, interceptador);\n    } else {\n        let metodoOriginal = objeto[metodo];\n\n        if (!metodoOriginal) {\n            throw 'Mtodo no encontrado: ' + metodo;\n        }\n\n        objeto[metodo] = function() {\n            return interceptador(this, metodoOriginal, arguments);\n        };\n    }\n}\n\n/**\n * Intercepta um mtodo aps sua execuo.\n * \n * @param {Object} objeto Objeto ou classe a ser interceptada. Se o tipo for uma classe, a interceptao ocorrer sobre o prototype.\n * @param {String} metodo Mtodo a ser interceptado.\n * @param {function} interceptador Funo interceptadora, que receber o objeto, o valor retornado e os argumentos.\n */\nfunction interceptarApos(objeto, metodo, interceptador) {\n    if (!objeto) throw 'Objeto no fornecido.';\n    if (!metodo) throw 'Mtodo no fornecido.';\n    if (!interceptador) throw 'Interceptador no fornecido.';\n\n    if (typeof objeto === 'function') {\n        interceptarApos(objeto.prototype, metodo, interceptador);\n    } else {\n        let metodoOriginal = objeto[metodo];\n\n        if (!metodoOriginal) {\n            throw 'Mtodo no encontrado: ' + metodo;\n        }\n\n        objeto[metodo] = function() {\n            var resultado = metodoOriginal.apply(this, arguments);\n\n            return interceptador(this, resultado, arguments);\n        };\n    }\n}\n\nexport { interceptar, interceptarApos };\nexport default {};\n\n\n// WEBPACK FOOTER //\n// ./src/hacks/interceptador.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Interpreta contedo de articulao.\n * \n * @param {String} textoOriginal Texto a ser interpretado\n */\nfunction parseTexto(textoOriginal) {\n    var contexto = {\n        ultimoItem: null,\n        textoAnterior: '',\n        artigos: [],\n        getUltimoItemTipo: function (tipo) {\n            var item = this.ultimoItem;\n\n            if (item === null) {\n                return null;\n            }\n\n            if (typeof tipo === 'function') {\n                while (item && !(item instanceof tipo)) {\n                    item = item.$parent;\n                }\n            } else if (tipo instanceof Array) {\n                do {\n                    var j;\n\n                    for (j = 0; j < tipo.length; j++) {\n                        if (item instanceof tipo[j]) {\n                            return item;\n                        }\n                    }\n\n                    item = item.$parent;\n                } while (item);\n            } else {\n                throw 'Argumento invlido';\n            }\n\n            return item;\n        }\n    };\n    var regexpAspas = /([\\s\\S]*?|\"[\\s\\S]*?\")/g;\n    var regexpLinhas = [\n        {\n            item: 'parentesis',\n            regexp: /^\\(.+\\)$/,\n            onMatch: function (contexto, m) {\n                if (contexto.ultimoItem) {\n                    if (!contexto.ultimoItem.descricao) {\n                        contexto.ultimoItem.descricao = m[0];\n                    } else {\n                        contexto.ultimoItem.descricao += m[0];\n                    }\n                }\n                \n                return contexto.ultimoItem;\n            }\n        }, {\n            item: 'continuacao-divisao',\n            regexp: /^\\s*(.*)?\\s*$/,\n            requisito: [Titulo, Capitulo, Secao, Subsecao],\n            onMatch: function (contexto, m) {\n                if (!contexto.ultimoItem.descricao) {\n                    contexto.ultimoItem.descricao = m[1];\n                } else {\n                    contexto.ultimoItem.descricao += m[1];\n                }\n\n                return contexto.ultimoItem;\n            },\n            reiniciar: true\n        }, {\n            item: 'artigo',\n            regexp: /^\\s*(?:Art\\.?|Artigo)\\s*(\\d+(?:-[a-z])?)\\s*.\\s*[-]?\\s*(.+)/i,\n            onMatch: function (contexto, m) {\n                var item = new Artigo(m[1], m[2]);\n\n                contexto.artigos.push(item);\n\n                return item;\n            }\n        }, {\n            item: 'paragrafo',\n            regexp: /^\\s*(?:Pargrafo nico|\\s*(\\d+))\\s*.?\\s*[-]?\\s*(.+)/i,\n            onMatch: function (contexto, m) {\n                var item = new Paragrafo(m[1] || 'Pargrafo nico', m[2]);\n                var container = contexto.getUltimoItemTipo(Artigo);\n\n                if (!container) {\n                    container = new Artigo('', contexto.textoAnterior);\n                    contexto.artigos.push(container);\n                    contexto.textoAnterior = '';\n                }\n\n                container.adicionar(item);\n\n                return item;\n            }\n        }, {\n            item: 'inciso',\n            regexp: /^\\s*([IXVDLM]+)\\s*[-).]\\s*(.+)/i,\n            onMatch: function (contexto, m) {\n                var item = new Inciso(m[1], m[2]);\n                var container = contexto.getUltimoItemTipo([Artigo, Paragrafo]);\n\n                if (!container) {\n                    container = new Artigo('', contexto.textoAnterior);\n                    contexto.artigos.push(container);\n                    contexto.textoAnterior = '';\n                }\n\n                container.adicionar(item);\n\n                return item;\n            }\n        }, {\n            item: 'alinea',\n            //requisito: [Inciso, Alinea, Item],\n            regexp: /^\\s*([a-z])\\s*[-).]\\s*(.*)/i,\n            onMatch: function (contexto, m) {\n                var item = new Alinea(m[1], m[2]);\n                var container = contexto.getUltimoItemTipo(Inciso);\n\n                if (!container) {\n                    let artigo = contexto.getUltimoItemTipo([Artigo, Paragrafo]);\n                    \n                    if (!artigo) {\n                        artigo = new Artigo('', '');\n                        contexto.artigos.push(artigo);\n                    }\n\n                    container = new Inciso('', contexto.textoAnterior);\n                    artigo.adicionar(container);\n                    contexto.textoAnterior = '';\n                }\n\n                container.adicionar(item);\n\n                return item;\n            }\n        }, {\n            item: 'item',\n            //requisito: [Alinea, Item],\n            regexp: /^\\s*(\\d)\\s*[-).]\\s*(.*)/,\n            onMatch: function (contexto, m) {\n                var item = new Item(m[1], m[2]);\n                var container = contexto.getUltimoItemTipo(Alinea);\n\n                if (!container) {\n                    container = new Alinea('', contexto.textoAnterior);\n\n                    let inciso = contexto.getUltimoItemTipo(Inciso);\n\n                    if (!inciso) {\n                        let artigo = contexto.getUltimoItemTipo([Artigo, Paragrafo]);\n\n                        if (!artigo) {\n                            artigo = new Artigo('', '');\n                            contexto.artigos.push(artigo);\n                        }\n\n                        inciso = new Inciso('', '');\n                        artigo.adicionar(inciso);\n                    }\n\n                    inciso.adicionar(container);\n                    contexto.textoAnterior = '';\n                }\n\n                container.adicionar(item);\n\n                return item;\n            }\n        }, {\n            item: 'titulo',\n            regexp: /^\\s*T[I]TULO\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n            onMatch: function (contexto, m) {\n                var item = new Titulo(m[1], m[2] ||'');\n\n                contexto.artigos.push(item);\n                \n                return item;\n            }\n        }, {\n            item: 'capitulo',\n            regexp: /^\\s*CAP[I]TULO\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n            onMatch: function (contexto, m) {\n                var item = new Capitulo(m[1], m[2] || '');\n\n                contexto.artigos.push(item);\n                \n                return item;\n            }\n        }, {\n            item: 'secao',\n            regexp: /^\\s*SE[C][A]O\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n            onMatch: function (contexto, m) {\n                var item = new Secao(m[1], m[2] || '');\n\n                contexto.artigos.push(item);\n                \n                return item;\n            }\n        }, {\n            item: 'subsecao',\n            regexp: /^\\s*SUBSE[C][A]O\\s*([IXVDLM]+)(?:\\s*[-]\\s*(.+))?/i,\n            onMatch: function (contexto, m) {\n                var item = new Subsecao(m[1], m[2] || '');\n\n                contexto.artigos.push(item);\n                \n                return item;\n            }\n        },\n        \n    ];\n\n    /* Para cada citao, isto , texto entre aspas, substitui-se o seu contedo\n     * por \\0 e o contedo substitudo  inserido na pilha de aspas, para evitar\n     * que o contedo seja tambm interpretado.\n     */\n    var aspas = [];\n    var texto = textoOriginal.replace(regexpAspas, function (aspa) {\n        aspas.push(aspa.replace(/[]/g, '\"'));\n        return '\\0';\n    }).replace(/\\s*\\n+\\s*/g, '\\n');\n\n    texto.split('\\n').forEach(function (linha) {\n        var i, regexp, m, atendeRequisito;\n\n        for (i = 0; i < regexpLinhas.length; i++) {\n            regexp = regexpLinhas[i];\n\n            // Verifica se a expresso est adequado ao contexto atual.\n            if (regexp.requisito) {\n                var j;\n\n                atendeRequisito = false;\n\n                for (j = 0; j < regexp.requisito.length; j++) {\n                    if (contexto.ultimoItem instanceof regexp.requisito[j]) {\n                        atendeRequisito = true;\n                        break;\n                    }\n                }\n            } else {\n                atendeRequisito = true;\n            }\n\n            if (atendeRequisito) {\n                m = regexp.regexp.exec(linha);\n\n                if (m) {\n                    contexto.ultimoItem = regexp.onMatch(contexto, m);\n\n                    if (contexto.ultimoItem) {\n                        contexto.ultimoItem.descricao = contexto.ultimoItem.descricao.replace(/\\0/g, aspas.shift.bind(aspas));\n\n                        if (regexp.reiniciar) {\n                            contexto.ultimoItem = null;\n                        }\n                    }\n\n                    return;\n                }\n            }\n        }\n\n        linha = linha.replace(/\\0/g, function () {\n            return aspas.shift();\n        });\n\n        if (contexto.ultimoItem) {\n            contexto.ultimoItem.descricao += '\\n' + linha;\n        } else if (contexto.artigos.length > 0 && contexto.artigos[contexto.artigos.length - 1] instanceof Divisao) {\n            contexto.artigos[contexto.artigos.length - 1].descricao += '\\n' + linha;\n        } else if (contexto.textoAnterior.length === 0) {\n            contexto.textoAnterior = linha;\n        } else {\n            contexto.textoAnterior += '\\n' + linha;\n        }\n    });\n\n    return {\n        textoAnterior: contexto.textoAnterior,\n        articulacao: contexto.artigos\n    };\n}\n\n/**\n * Transforma as quebras de linha em elementos P.\n * \n * @param {String} texto \n * @returns {String}\n */\nfunction transformarQuebrasDeLinhaEmP(texto) {\n    var fragmento = document.createDocumentFragment();\n\n    if (texto.indexOf('\\n') === -1) {\n        let p = document.createElement('p');\n        p.textContent = texto;\n        fragmento.appendChild(p);\n    } else {\n        let partes = texto.split(/\\n+/g);\n\n        partes.forEach(parte => {\n            let p = document.createElement('p');\n            p.textContent = parte;\n            fragmento.appendChild(p);\n        });\n    }\n    \n    return fragmento;\n}\n\n/**\n * Transforma as quebras de linha em espao.\n * \n * @param {String} texto \n * @returns {String}\n */\nfunction transformarQuebrasDeLinhaEmEspaco(texto) {\n    var fragmento = document.createDocumentFragment();\n\n    let p = document.createElement('p');\n    p.textContent = texto.replace(/\\n+/g, ' ');\n\n    fragmento.appendChild(p);\n    \n    return fragmento;\n}\n\n// Definio de classes\n\nclass Dispositivo {\n    constructor(tipo, numero, descricao, derivacoes) {\n        this.numero = numero;\n        this.descricao = descricao;\n\n        Object.defineProperty(this, 'tipo', {\n            value: tipo\n        });\n\n        if (derivacoes) {\n            Object.defineProperty(this, 'subitens', {\n                get: function() {\n                    return derivacoes.reduce((prev, item) => prev.concat(this[item]), []);\n                }\n            });\n        }\n    }\n\n    /**\n     * Adiciona um dispositivo a este.\n     * \n     * @param {*} dispositivo \n     */\n    adicionar(dispositivo) {\n        throw 'No implementado';\n    }\n\n    /**\n     * Transforma o contedo na descrio em fragmento do DOM.\n     */\n    transformarConteudoEmFragmento() {\n        return transformarQuebrasDeLinhaEmEspaco(this.descricao);\n    }\n\n    /**\n     * Transforma o dispositivo no formato do editor.\n     */\n    paraEditor() {\n        let fragmento = this.transformarConteudoEmFragmento();\n\n        fragmento.firstElementChild.setAttribute('data-tipo', this.tipo);\n\n        for (let item = fragmento.children[1]; item; item = item.nextElementSibling) {\n            item.setAttribute('data-tipo', 'continuacao');\n        }\n\n        this.subitens.forEach(subItem => fragmento.appendChild(subItem.paraEditor()));\n\n        return fragmento;\n    }\n}\n\nclass Artigo extends Dispositivo {\n    constructor(numero, caput) {\n        super('artigo', numero, caput, ['incisos', 'paragrafos']);\n        this.incisos = [];\n        this.paragrafos = [];\n    }\n\n    adicionar(incisoOuParagrafo) {\n        var self = this;\n\n        Object.defineProperty(incisoOuParagrafo, '$parent', {\n            get: function () {\n                return self;\n            }\n        });\n\n        if (incisoOuParagrafo instanceof Inciso) {\n            this.incisos.push(incisoOuParagrafo);\n        } else if (incisoOuParagrafo instanceof Paragrafo) {\n            this.paragrafos.push(incisoOuParagrafo);\n        } else {\n            throw 'Tipo no suportado.';\n        }\n    }\n\n    transformarConteudoEmFragmento() {\n        return transformarQuebrasDeLinhaEmP(this.descricao);\n    }\n\n    paraEditor() {\n        var fragmento = super.paraEditor();\n\n        if (this.paragrafos.length === 1) {\n            fragmento.querySelector('p[data-tipo=\"paragrafo\"]').classList.add('unico');\n        }\n\n        return fragmento;\n    }\n}\n\nclass Paragrafo extends Dispositivo {\n    constructor(numero, descricao) {\n        super('paragrafo', numero, descricao, ['incisos']);\n        this.incisos = [];\n    }\n\n    adicionar(inciso) {\n        var self = this;\n\n        if (!(inciso instanceof Inciso)) {\n            throw 'Tipo no suportado.';\n        }\n\n        Object.defineProperty(inciso, '$parent', {\n            get: function () {\n                return self;\n            }\n        });\n\n        this.incisos.push(inciso);\n    }\n}\n\nclass Inciso extends Dispositivo {\n    constructor(numero, descricao) {\n        super('inciso', numero, descricao, ['alineas']);\n        this.alineas = [];\n    }\n\n    adicionar(alinea) {\n        var self = this;\n\n        if (!(alinea instanceof Alinea)) {\n            throw 'Tipo no suportado.';\n        }\n\n        Object.defineProperty(alinea, '$parent', {\n            get: function () {\n                return self;\n            }\n        });\n\n        this.alineas.push(alinea);\n    }\n}\n\nclass Alinea extends Dispositivo {\n    constructor(numero, descricao) {\n        super('alinea', numero, descricao, ['itens']);\n        this.itens = [];\n    }\n\n    adicionar(item) {\n        var self = this;\n\n        if (!(item instanceof Item)) {\n            throw 'Tipo no suportado.';\n        }\n\n        Object.defineProperty(item, '$parent', {\n            get: function () {\n                return self;\n            }\n        });\n\n        this.itens.push(item);\n    }\n}\n\nclass Item extends Dispositivo {\n    constructor(numero, descricao) {\n        super('item', numero, descricao, []);\n    }\n}\n\nclass Divisao extends Dispositivo {\n    constructor(tipo, numero, descricao) {\n        super(tipo, numero, descricao);\n        this.subitens = [];\n    }\n    \n    adicionar(item) {\n        this.subitens.push(item);\n    }\n}\n\nclass Titulo extends Divisao {\n    constructor(numero, descricao) {\n        super('titulo', numero, descricao);\n    }\n}\n\nclass Capitulo extends Divisao {\n    constructor(numero, descricao) {\n        super('capitulo', numero, descricao);\n    }\n}\n\nclass Secao extends Divisao {\n    constructor(numero, descricao) {\n        super('secao', numero, descricao);\n    }\n}\n\nclass Subsecao extends Divisao {\n    constructor(numero, descricao) {\n        super('subsecao', numero, descricao);\n    }\n}\n\n/**\n * Extrai o agrupador no formato \"Nome Nmero - Descrio\".\n * \n * @param txt\n * \t\tTexto cujo agrupador ser extrado.\n * \n * @returns {object}\n * \t\tObjeto contendo atributos: numero e descricao.\n */\nfunction extrairAgrupador(txt) {\n    var regExpTitulo = /(\\w+) (\\w+)\\s*[-]\\s*\\n*(.*)/i, item;\n\n    if (!txt) {\n        return null;\n    }\n\n    item = regExpTitulo.exec(txt.replace(/[\\r\\n]/g, ' ').trim());\n\n    return {\n        numero: item[2],\n        descricao: removerUnicaTagParagrafo(item[3])\n    };\n}\n\nfunction transformarEmLexML(json) {\n    function reducaoInciso(prev, inciso, idx, array) {\n\n        var idInciso = array.prefixo + \"_inc\" + (idx + 1);\n\n        return prev + '<Inciso id=\"' + idInciso + '\"><Rotulo>' + inciso.numero + '</Rotulo><p>' + inciso.descricao + '</p>' +\n            (inciso.alineas || []).reduce(function (prev, alinea, idx) {\n                return prev + '<Alinea id=\"' + idInciso + '_ali' + (idx + 1) + '\"><Rotulo>' + alinea.numero + '</Rotulo><p>' + alinea.descricao + '</p></Alinea>';\n            }, '') + '</Inciso>';\n    }\n\n    var lexml = '<Articulacao xmlns=\"http://www.lexml.gov.br/1.0\">' +\n        json.articulacao.reduce(function (prev, artigo, idx) {\n            var idArt = 'art' + (idx + 1);\n            var texto = prev + '<Artigo id=\"' + idArt + '\"><Rotulo>Art. ' + (idx + 1) + (idx < 9 ? '' : '') + ' </Rotulo><Caput id=\"' + idArt + '_cpt\"><p>' + artigo.descricao + '</p>';\n\n            if (artigo.incisos && artigo.incisos.length > 0) {\n                artigo.incisos.prefixo = idArt + '_cpt';\n                texto += artigo.incisos.reduce(reducaoInciso, '');\n            }\n\n            texto += '</Caput>';\n\n            if (artigo.paragrafos && artigo.paragrafos.length > 0) {\n                texto += artigo.paragrafos.reduce(function (prev, paragrafo, idx, paragrafos) {\n                    var idPar = idArt + '_par' + (idx + 1);\n                    if (paragrafo.incisos) {\n                        paragrafo.incisos.prefixo = idPar;\n                    }\n\n                    return prev + '<Paragrafo id=\"' + idPar + '\"><Rotulo>' +\n                        (paragrafos.length === 1 ? 'Pargrafo nico' : '' + ((idx + 1) + (idx < 9 ? '' : ''))) +\n                        ' </Rotulo><p>' + paragrafo.descricao + '</p>' +\n                        (paragrafo.incisos || []).reduce(reducaoInciso, '') +\n                        '</Paragrafo>';\n                }, '');\n            }\n\n            return texto + '</Artigo>';\n        }, '') + '</Articulacao>';\n\n    return lexml;\n}\n\n/**\n * Interpreta contedo de articulao.\n * \n * @param {String} texto Texto a ser interpretado\n * @param {String} formatoDestino Formato a ser retornado: 'json', 'lexml' (padro) ou \"lexmlString\".\n * @param {String} formatoOrigem Formatao a ser processado: 'texto' (padro), 'html'.\n * @returns {Object|DocumentFragment}\n */\nfunction interpretarArticulacao(texto, formatoDestino, formatoOrigem) {\n    var json;\n\n    try {\n        switch ((formatoOrigem || 'texto').toLowerCase()) {\n            case 'texto':\n                json = parseTexto(texto);\n                break;\n\n            case 'html':\n                let div = document.createElement('div');\n                div.innerHTML = texto;\n                json = parseTexto(removerEntidadeHtml(div.innerHTML.replace(/<P>(.+?)<\\/P>/gi, '$1\\n').trim()));\n                break;\n        \n            default:\n                throw 'Formato no suportado.';\n        }\n\n        switch ((formatoDestino || 'lexml').toLowerCase()) {\n            case 'json':\n                return json;\n\n            case 'lexml':\n                return transformarEmLexMLFragmento(json);\n\n            case 'lexmlstring':\n            case 'lexml-string':\n                return transformarEmLexML(json);\n\n            default:\n                throw 'Formato no suportado: ' + formatoDestino;\n        }\n    } catch (e) {\n        throw {\n            mensagem: 'Erro interpretando articulao.',\n            item: texto,\n            formato: formatoDestino,\n            erroOriginal: e\n        };\n    }\n}\n\nfunction removerEntidadeHtml(html) {\n    var safeXmlEntities = [\"&lt;\", \"&gt;\", \"&quot;\", \"&amp;\", \"&apos;\"];\n\n    return html.replace(/&.+?;/g, function(entidade) {\n        if(safeXmlEntities.indexOf(entidade)>=0) {\n            return entidade;\n        } else {\n            /* A entidade no  uma das predefinidas no xml e  suportada s no HTML. Por exemplo: &nbsp; ou &copy;.\n             * Nesse caso, converte para texto e no replace abaixo substitui pela notao unicode.\n             */\n            var span = document.createElement('span');\n            span.innerHTML = entidade;\n            return span.textContent;\n        }\n    });\n}\n\nfunction transformarEmLexMLFragmento(json) {\n    let lexml = transformarEmLexML(json);\n    let container = document.createElement('div');\n    container.innerHTML = lexml;\n\n    let fragmento = document.createDocumentFragment();\n\n    while (container.firstChild) {\n        fragmento.appendChild(container.firstChild);\n    }\n\n    return fragmento;\n}\n\nexport default {\n    Artigo: Artigo,\n    Paragrafo: Paragrafo,\n    Inciso: Inciso,\n    Alinea: Alinea,\n    Item: Item,\n    Titulo: Titulo,\n    Capitulo: Capitulo,\n    Secao: Secao,\n    Subsecao: Subsecao,\n    interpretar: interpretarArticulacao,\n    transformarQuebrasDeLinhaEmP: transformarQuebrasDeLinhaEmP\n};\n\nexport { Artigo, Paragrafo, Inciso, Alinea, Item, Titulo, Capitulo, Secao, Subsecao, interpretarArticulacao, transformarQuebrasDeLinhaEmP };\n\n\n// WEBPACK FOOTER //\n// ./src/interpretadorArticulacao.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Obtm o dispositivo anterior, de determinado tipo.\n * \n * @param {Element} dispositivo \n * @param {String[]} pontosParada Tipos de dispositivos desejados.\n * @param {String[]} pontosInterrupcao Tipos de dispositivos que, se encontrados, interromper a obteno, retornando nulo.\n * @returns {Element} Dispositivo, se encontrado, ou nulo.\n */\nfunction encontrarDispositivoAnteriorDoTipo(dispositivo, pontosParada, pontosInterrupcao) {\n    while (!dispositivo.hasAttribute('data-tipo')) {\n        dispositivo = dispositivo.parentNode;\n    }\n\n    let setParada = new Set(pontosParada);\n    let setInterrupcao = new Set(pontosInterrupcao);\n\n    for (let prev = dispositivo.previousElementSibling; prev; prev = prev.previousElementSibling) {\n        let tipoAnterior = prev.getAttribute('data-tipo');\n\n        if (setParada.has(tipoAnterior)) {\n            return prev;\n        } else if (setInterrupcao.has(tipoAnterior)) {\n            return null;\n        }\n    }\n\n    return null;\n}\n\n/**\n * Obtm o dispositivo posterior, de determinado tipo.\n * \n * @param {Element} dispositivo \n * @param {String[]} pontosParada Tipos de dispositivos desejados.\n * @param {String[]} pontosInterrupcao Tipos de dispositivos que, se encontrados, interromper a obteno, retornando nulo.\n * @returns {Element} Dispositivo, se encontrado, ou nulo.\n */\nfunction encontrarDispositivoPosteriorDoTipo(elemento, pontosParada, pontosInterrupcao) {\n    while (!elemento.hasAttribute('data-tipo')) {\n        elemento = elemento.parentNode;\n    }\n\n    let setParada = new Set(pontosParada);\n    let setInterrupcao = new Set(pontosInterrupcao);\n\n    for (let proximo = elemento.nextElementSibling; proximo; proximo = proximo.nextElementSibling) {\n        let tipoProximo = proximo.getAttribute('data-tipo');\n\n        if (setParada.has(tipoProximo)) {\n            return proximo;\n        } else if (setInterrupcao.has(tipoProximo)) {\n            return null;\n        }\n    }\n\n    return null;\n}\n\n/**\n * Obtm os tipos de dispositivos em nveis superiores.\n * \n * @param {String} tipo Tipo cujos tipos superiores sero obtidos.\n */\nfunction getTiposSuperiores(tipo) {\n    return {\n        inciso: ['artigo', 'paragrafo'],\n        alinea: ['artigo', 'paragrafo', 'inciso'],\n        item: ['artigo', 'paragrafo', 'inciso', 'alinea']\n    }[tipo] || [];\n}\n\nexport { encontrarDispositivoAnteriorDoTipo, encontrarDispositivoPosteriorDoTipo, getTiposSuperiores };\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport ContextoArticulacaoAtualizadoEvent from './eventos/ContextoArticulacaoAtualizadoEvent';\nimport ContextoArticulacao from './ContextoArticulacao';\nimport adicionarTransformacaoAutomatica from './transformacaoAutomatica/transformacaoAutomatica';\nimport hackChrome from './hacks/chrome';\nimport hackIE from './hacks/ie';\nimport polyfill from './hacks/polyfill';\nimport importarDeLexML from './lexml/importarDeLexML';\nimport exportarParaLexML from './lexml/exportarParaLexML';\nimport { interpretarArticulacao } from './interpretadorArticulacao';\nimport ClipboardController from './ClipboardController';\nimport criarControleAlteracao from './ControleAlteracao';\nimport css from './editor-articulacao.css';\nimport cssShadow from './editor-articulacao-shadow.css';\nimport ArticulacaoInvalidaException from './lexml/ArticulacaoInvalidaException';\nimport { encontrarDispositivoAnteriorDoTipo, encontrarDispositivoPosteriorDoTipo } from './util';\nimport ValidacaoController from './validacao/ValidacaoController';\nimport padrao from './opcoesPadrao';\n\nvar cssImportado = false;\n\n/**\n * Controlador do editor de articulao.\n */\nclass EditorArticulacaoController {\n\n    /**\n     * Elemento do DOM que ser utilizado como editor de articulao.\n     * \n     * @param {Element} elemento Elemento que receber o editor de articulao.\n     * @param {Object} opcoes Opes do editor de articulao:\n     *      - {Boolean} shadowDOM: Utiliza shadow-dom, se disponvel (padro: true).\n     */\n    constructor(elemento, opcoes) {\n        if (!(elemento instanceof Element)) {\n            throw 'Elemento no  um elemento do DOM.';\n        }\n\n        polyfill();\n\n        let opcoesEfetivas = Object.create(padrao);\n        Object.assign(opcoesEfetivas, opcoes);\n\n        if (opcoes && opcoes.rotulo) {\n            Object.setPrototypeOf(opcoesEfetivas.rotulo, padrao.rotulo);\n        }\n\n        this.opcoes = opcoesEfetivas;\n        Object.freeze(opcoesEfetivas);\n        Object.freeze(opcoesEfetivas.rotulo);\n        Object.freeze(opcoesEfetivas.validacao);\n\n        elemento = transformarEmEditor(elemento, this, opcoesEfetivas);\n\n        Object.defineProperty(this, '_elemento', {\n            value: elemento\n        });\n\n        this._handlers = [];\n\n        if (!this.opcoes.somenteLeitura) {\n            this._registrarEventos();\n\n            if (opcoesEfetivas.transformacaoAutomatica) {\n                adicionarTransformacaoAutomatica(this, elemento);\n            }\n\n            this.controleAlteracao = criarControleAlteracao(this);\n            this.validacaoCtrl = new ValidacaoController(this.opcoes.validacao);\n            this.clipboardCtrl = new ClipboardController(this, this.validacaoCtrl);\n\n            // Executa hack se necessrio.\n            if (/Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n                hackChrome(this);\n            }\n\n            if (/Trident\\//.test(navigator.userAgent)) {\n                hackIE(this);\n            }\n        }\n\n        this.limpar();\n    }\n\n    /**\n     * Dispara evento no DOM. Deve-se usar este mtodo, pois caso seja utilizado\n     * ShadowDOM, este mtodo  substitudo para propagao externa de evento.\n     * \n     * @param {EventoInterno} eventoInterno \n     */\n    dispatchEvent(eventoInterno) {\n        this._elemento.dispatchEvent(eventoInterno.getCustomEvent());\n    }\n\n    getSelection() {\n        return document.getSelection();\n    }\n\n    get vazio() {\n        return !this._elemento.firstElementChild || this._elemento.firstElementChild === this._elemento.lastElementChild && this._elemento.textContent === '';\n    }\n\n    get lexml() {\n        try {\n            return this.vazio ? document.createDocumentFragment() : exportarParaLexML(this._elemento, this.opcoes.rotulo);\n        } catch (e) {\n            if (e instanceof ArticulacaoInvalidaException) {\n                for (let filho = this._elemento.firstElementChild; filho; filho = filho.nextElementSibling) {\n                    this._normalizarDispositivo(filho);\n                }\n\n                return exportarParaLexML(this._elemento);\n            }\n\n            throw e;\n        }\n    }\n\n    set lexml(valor) {\n        let articulacao = importarDeLexML(valor);\n\n        this._elemento.innerHTML = '';\n        this._elemento.appendChild(articulacao);\n\n        if (this.vazio) {\n            this.limpar();\n        }\n\n        if (!this.opcoes.somenteLeitura) {\n            this.controleAlteracao.comprometer();\n\n            if (this.opcoes.validarAoAtribuir) {\n                for (let dispositivo = this._elemento.firstElementChild; dispositivo; dispositivo = dispositivo.nextElementSibling) {\n                    this.validacaoCtrl.validar(dispositivo);\n                }\n            }\n        }\n    }\n\n    limpar() {\n        this._elemento.innerHTML = '<p data-tipo=\"artigo\"><br></p>';\n    }\n\n    get lexmlString() {\n        var xml = this.lexml;\n        var xmlSerializer = new XMLSerializer();\n        var resultado = xmlSerializer.serializeToString(xml);\n\n        return this.opcoes.escaparXML ? escaparXml(resultado) : resultado;\n    }\n\n    set lexmlString(valor) {\n        this.lexml = valor;\n    }\n\n    get alterado() {\n        return this.controleAlteracao.alterado;\n    }\n\n    /**\n     * Adiciona tratamento de eventos no DOM, que pode ser removido em seguida\n     * por meio do mtodo \"desregistrar\".\n     */\n    _registrarEventos() {\n        let eventHandler = this._cursorEventHandler.bind(this);\n        let eventos = ['focus', 'keyup', 'mousedown', 'touchstart', 'mouseup', 'touchend'];\n\n        eventos.forEach(evento => this.registrarEventListener(evento, eventHandler));\n        this.registrarEventListener('keydown', this._keyDownEventHandler.bind(this));\n\n        this.registrarEventListener('blur', e => {\n            if (!this.opcoes.somenteLeitura) {\n                if (this.vazio) {\n                    this.limpar();\n                }\n\n                let contexto = this.contexto;\n\n                if (contexto && contexto.cursor.dispositivo) {\n                    this.validacaoCtrl.validar(this.contexto.cursor.dispositivo);\n                }\n            }\n        });\n    }\n\n    /**\n     * Adiciona um tratamento de evento no elemento do editor no DOM.\n     * \n     * @param {*} evento Evento a ser capturado.\n     * @param {*} listener\n     * @param {*} useCapture \n     */\n    registrarEventListener(evento, listener, useCapture) {\n        this._handlers.push({ evento: evento, handler: listener });\n        this._elemento.addEventListener(evento, listener, useCapture);\n    }\n\n    desregistrar() {\n        this._handlers.forEach(registro => this._elemento.removeEventListener(registro.evento, registro.handler));\n        this._handlers = [];\n    }\n\n    /**\n     * Trata evento de alterao de cursor.\n     */\n    _cursorEventHandler(event) {\n        this.atualizarContexto();\n        this._normalizarContexto();\n\n        if (event instanceof KeyboardEvent && event.key && event.key.length === 1 && this.contexto.cursor.dispositivo && this.contexto.cursor.dispositivo.hasAttribute('data-invalido')) {\n            this.contexto.cursor.dispositivo.removeAttribute('data-invalido');\n        }\n    }\n\n    _keyDownEventHandler(event) {\n        if (!this.contexto || !this.contexto.cursor.elemento) {\n            this._cursorEventHandler(event);\n        }\n\n        let elementoSelecionado = obterSelecao(this);\n\n        if (!this.contexto || elementoSelecionado !== this.contexto.cursor.elemento) {\n            this._cursorEventHandler(event);\n        }\n    }\n\n    _normalizarContexto() {\n        if (!this.contexto) {\n            return;\n        }\n\n        let dispositivo = this.contexto.cursor.dispositivo;\n\n        if (dispositivo) {\n            this._normalizarDispositivo(dispositivo.previousElementSibling);\n            this._normalizarDispositivo(dispositivo, this.contexto);\n            this._normalizarDispositivo(dispositivo.nextElementSibling);\n\n            if (!this.opcoes.somenteLeitura) {\n                this.validacaoCtrl.validar(dispositivo.previousElementSibling);\n                this.validacaoCtrl.validar(dispositivo.nextElementSibling);\n            }\n        }\n    }\n\n    /**\n     * Atualiza a varivel de anlise do contexto do cursor.\n     */\n    atualizarContexto() {\n        var elementoSelecionado = obterSelecao(this);\n\n        if (!elementoSelecionado) {\n            if (!this.contexto) {\n                return;\n            }\n\n            elementoSelecionado = this.contexto.cursor.elemento;\n        }\n\n        /* Se a seleo estiver no container e no houver nenhum contedo,\n         * ento devemos recriar o contedo mnimo.\n         */\n        if (elementoSelecionado === this._elemento && (!this._elemento.firstElementChild || this._elemento.firstElementChild === this._elemento.lastElementChild && this._elemento.firstElementChild.tagName === 'BR')) {\n            this.limpar();\n            elementoSelecionado = this._elemento.firstElementChild;\n\n            let selecao = this.getSelection();\n            selecao.removeAllRanges();\n            let range = document.createRange();\n\n            range.selectNodeContents(elementoSelecionado);\n            selecao.addRange(range);\n        }\n\n        var novoCalculo = new ContextoArticulacao(this._elemento, elementoSelecionado);\n\n        if (!this.contexto || this.contexto.cursor.elemento !== elementoSelecionado || this.contexto.comparar(novoCalculo)) {\n            // Realiza a validao do cursor anterior.\n            if (this.contexto && this.contexto.cursor.dispositivo && !this.opcoes.somenteLeitura) {\n                this.validacaoCtrl.validar(this.contexto.cursor.dispositivo);\n            }\n\n            this.contexto = novoCalculo;\n            this.dispatchEvent(new ContextoArticulacaoAtualizadoEvent(novoCalculo));\n        }\n\n        return novoCalculo;\n    }\n\n    /**\n     * Altera o tipo do dispositivo selecionado.\n     * \n     * @param {String} novoTipo Novo tipo do dispositivo.\n     */\n    alterarTipoDispositivoSelecionado(novoTipo) {\n        this.atualizarContexto();\n\n        if (!this.contexto) {\n            throw 'No h contexto atual.';\n        }\n\n        if (!this.contexto.permissoes[novoTipo]) {\n            throw 'Tipo no permitido: ' + novoTipo;\n        }\n\n        let dispositivo = this.contexto.cursor.dispositivo;\n\n        this._definirTipo(dispositivo, novoTipo);\n\n        // Se a seleo incluir mais de um dispositivo, vamos alter-los tambm.\n        let selecao = this.getSelection();\n        let range = selecao && selecao.rangeCount > 0 ? selecao.getRangeAt(0) : null;\n        let endContainer = range ? range.endContainer : null;\n\n        if (endContainer) {\n            /* Se o container final no estiver no mesmo nvel (por exemplo,\n             * um n textual ou at mesmo uma tag de itlico dentro do\n             * dispositivo), ento considera-se como endContainer o dispositivo\n             * ancestral, por meio da verificao do atributo \"data-tipo\".\n             */\n            while (endContainer !== this._elemento && (endContainer.nodeType !== Node.ELEMENT_NODE || !endContainer.hasAttribute('data-tipo'))) {\n                endContainer = endContainer.parentElement;\n            }\n\n            /* Altera o tipo para todos os dispositivos seguintes at encontrar\n             * o container final.\n             */\n            while (dispositivo !== endContainer && dispositivo) {\n                dispositivo = dispositivo.nextElementSibling;\n                this._definirTipo(dispositivo, novoTipo);\n            }\n        }\n\n        this.atualizarContexto();\n    }\n\n    /**\n     * Altera o tipo de um dispositivo, sem qualquer validao.\n     * \n     * @param {Element} dispositivo \n     * @param {String} novoTipo \n     */\n    _definirTipo(dispositivo, novoTipo) {\n        let tipoAnterior = dispositivo.getAttribute('data-tipo');\n\n        if (tipoAnterior !== novoTipo) {\n            dispositivo.setAttribute('data-tipo', novoTipo);\n            dispositivo.classList.remove('unico');\n            \n            try {\n                this._normalizarContexto();\n            } finally {\n                this.controleAlteracao.alterado = true;\n            }\n        }\n    }\n\n    /**\n     * Normaliza o dispositivo, corrigindo eventuais inconsistncias.\n     * \n     * @param {Element} dispositivo \n     * @param {ContextoArticulacao} contexto \n     */\n    _normalizarDispositivo(dispositivo, contexto) {\n        while (dispositivo && !dispositivo.hasAttribute('data-tipo')) {\n            dispositivo = dispositivo.parentElement;\n        }\n\n        if (!dispositivo) {\n            return;\n        }\n\n        if (!contexto) {\n            contexto = new ContextoArticulacao(this._elemento, dispositivo);\n        } else if (!(contexto instanceof ContextoArticulacao)) {\n            throw 'Conexto no  instncia de ContextoArticulacao.';\n        }\n\n        if (contexto && !contexto.permissoes[dispositivo.getAttribute('data-tipo')]) {\n            try {\n                let anterior = dispositivo.previousElementSibling;\n                this._normalizarDispositivo(anterior);\n                dispositivo.setAttribute('data-tipo', obterTipoValido(anterior.getAttribute('data-tipo') || 'continuacao', contexto.permissoes));\n                this._normalizarDispositivo(dispositivo.nextElementSibling);\n            } catch (e) {\n                dispositivo.setAttribute('data-tipo', 'artigo');\n                console.error(e);\n            }\n        }\n\n        if (dispositivo.getAttribute('data-tipo') === 'paragrafo') {\n            this._normalizarParagrafo(dispositivo);\n        }\n    }\n\n    /**\n     * Normaliza o dispositivo que  ou foi um pargrafo.\n     * Este mtodo ir verificar a existncia de pargrafo nico, ajustando css.\n     * \n     * @param {Element} dispositivo Pargrafo\n     */\n    _normalizarParagrafo(dispositivo) {\n        let anterior = encontrarDispositivoAnteriorDoTipo(dispositivo, ['artigo', 'paragrafo']);\n        let posterior = encontrarDispositivoPosteriorDoTipo(dispositivo, ['artigo', 'paragrafo']);\n\n        if (dispositivo.getAttribute('data-tipo') === 'paragrafo' || dispositivo.getAttribute('data-tipo') === 'continuacao') {\n            dispositivo.classList.toggle('unico',\n                ((!anterior || anterior.getAttribute('data-tipo') !== 'paragrafo') &&\n                    (!posterior || posterior.getAttribute('data-tipo') !== 'paragrafo')));\n\n            if (anterior && anterior.getAttribute('data-tipo') === 'paragrafo') {\n                anterior.classList.remove('unico');\n            }\n\n            if (posterior && posterior.getAttribute('data-tipo') === 'paragrafo') {\n                posterior.classList.remove('unico');\n            }\n\n            // Se o pargrafo anterior  sem ordinal, ento este tambm .\n            if (anterior && anterior.classList.contains('semOrdinal')) {\n                dispositivo.classList.add('semOrdinal');\n            } else {\n                /* Se o pargrafo anterior tem ordinal, ento vamos contar quantos pargrafos tem\n                 * para decidir se este tambm deve ter. Esta contagem no  feita por artigo,\n                 * pois  possvel resolver esta questo usando CSS. No caso de pargrafo,\n                 * a contagem de pargrafos usando o seletor ~  influenciada por pargrafos\n                 * de outros artigos.\n                 */\n                let i, aux;\n\n                for (i = 1, aux = anterior; i < 10 && aux && aux.getAttribute('data-tipo') === 'paragrafo'; i++) {\n                    aux = encontrarDispositivoAnteriorDoTipo(aux, ['artigo', 'paragrafo']);\n                }\n\n                dispositivo.classList.toggle('semOrdinal', i >= 10);\n            }\n        } else if (anterior && anterior.getAttribute('data-tipo') === 'paragrafo' && (!posterior || posterior.getAttribute('data-tipo') !== 'paragrafo')) {\n            anterior.classList.add('unico');\n        } else if ((!anterior || anterior.getAttribute('data-tipo') !== 'paragrafo') && posterior && posterior.getAttribute('data-tipo') === 'paragrafo') {\n            this._normalizarParagrafo(posterior);\n        }\n    }\n}\n\n/**\n * Obtm a seleo atual.\n * \n * @returns {Element} Elemento selecionado.\n */\nfunction obterSelecao(ctrl) {\n    var selecao = ctrl.getSelection();\n    var range = selecao && selecao.rangeCount > 0 ? selecao.getRangeAt(0) : null;\n\n    if (range) {\n        let startContainer = range ? range.startContainer : null;\n\n        if (!startContainer) {\n            return null;\n        }\n\n        if (startContainer.nodeType !== Node.ELEMENT_NODE || startContainer.nodeName === 'BR') {\n            startContainer = startContainer.parentNode;\n        }\n\n        if (startContainer === ctrl._elemento) {\n            let refazerSelecao = true;\n\n            // A seleo deveria estar em algum dispositivo.\n            if (!startContainer.firstElementChild || !startContainer.firstElementChild.hasAttribute('data-tipo')) {\n                ctrl.limpar();\n                startContainer = ctrl._elemento.firstElementChild;\n            } else if (range.collapsed && range.startOffset === startContainer.childNodes.length) {\n                // Se est no final do container da articulao, ento vamos para o ltimo elemento na hierarquia.\n                do {\n                    startContainer = startContainer.lastElementChild;\n                } while (startContainer.lastElementChild);\n            } else if (range.collapsed && range.startOffset === 0) {\n                // Se est no incio do container da articulao, ento vamos para o primeiro elemento no ltimo nvel da hierarquia.\n                do {\n                    startContainer = startContainer.firstElementChild;\n                } while (startContainer.firstElementChild);\n            } else {\n                refazerSelecao = false;\n            }\n\n            if (refazerSelecao) {\n                selecao.removeAllRanges();\n                range = document.createRange();\n                range.setStart(startContainer, 0);\n                selecao.addRange(range);\n            }\n\n            return startContainer;\n        } else if (startContainer.compareDocumentPosition(ctrl._elemento) & Node.DOCUMENT_POSITION_CONTAINS) {\n            // Garante que a seleo est dentro do editor de articulao.\n            return startContainer;\n        }\n    }\n\n    return null;\n}\n\n/**\n * Obtm um tipo vlido, a partir de um tipo desejado.\n * \n * @param {String} tipoDesejado \n * @param {Object} permissoes Permisses do contexto atual.\n * @returns {String} Tipo vlido.\n */\nfunction obterTipoValido(tipoDesejado, permissoes) {\n    if (tipoDesejado && !permissoes[tipoDesejado]) {\n        return obterTipoValido({\n            titulo: 'capitulo',\n            capitulo: 'artigo',\n            secao: 'artigo',\n            subsecao: 'artigo'\n        }[tipoDesejado], permissoes);\n    }\n\n    return tipoDesejado || 'artigo';\n}\n\n/**\n * Substitui caracteres de cdigo alto por cdigos unicode.\n * Substitui entidades no suportadas no XML por cdigos unicode.\n *\n * @param {String} xml XML original.\n * @returns {String} XML escapado.\n */\nfunction escaparXml(xml) {\n    return xml.replace(/[\\u00A0-\\u9999]/gim, function (i) {\n        return '&#' + i.charCodeAt(0) + ';';    // Converte em unicode escapado.\n    });\n}\n\nfunction transformarEmEditor(elemento, editorCtrl, opcoes) {\n    let style = document.createElement('style');\n    style.innerHTML = css.toString().replace(/\\${(.+?)}/g, (m, valor) => opcoes.rotulo[valor]);\n\n    /* Se houver suporte ao shadow-dom, ento vamos us-lo\n     * para garantir o isolamento da rvore interna do componente\n     * e possveis problemas com CSS.\n     */\n    if (opcoes.shadowDOM && 'attachShadow' in elemento) {\n        let shadowStyle = document.createElement('style');\n        shadowStyle.innerHTML = cssShadow.toString();\n\n        let shadow = elemento.attachShadow({ mode: (typeof opcoes.shadowDOM === 'string' ? opcoes.shadowDOM : 'open') });\n\n        editorCtrl.dispatchEvent = elemento.dispatchEvent.bind(elemento);\n        editorCtrl.getSelection = () => shadow.getSelection();\n\n        let novoElemento = document.createElement('div');\n        novoElemento.contentEditable = !opcoes.somenteLeitura;\n        novoElemento.spellcheck = elemento.spellcheck;\n        novoElemento.classList.add('silegismg-editor-articulacao');\n\n        shadow.appendChild(style);\n        shadow.appendChild(shadowStyle);\n        shadow.appendChild(novoElemento);\n\n        elemento.addEventListener('focus', focusEvent => novoElemento.focus());\n        elemento.focus = function () { novoElemento.focus(); };\n\n        return novoElemento;\n    } else {\n        elemento.contentEditable = !opcoes.somenteLeitura;\n        elemento.classList.add('silegismg-editor-articulacao');\n\n        if (!cssImportado) {\n            let head = document.querySelector('head');\n\n            if (head) {\n                head.appendChild(style);\n            } else {\n                document.body.appendChild(style);\n            }\n\n            cssImportado = true;\n        }\n\n        return elemento;\n    }\n}\n\nexport default EditorArticulacaoController;\n\n\n// WEBPACK FOOTER //\n// ./src/EditorArticulacaoController.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport EventoInterno from './EventoInterno';\n\n/**\n * Evento de notificao de transformao automtica ocorrida\n * em dispositivo.\n */\nclass TransformacaoAutomaticaEvent extends EventoInterno {\n    /**\n     * Constri o evento.\n     * \n     * @param {EditorArticulacaoController} editorArticulacaoCtrl \n     */\n    constructor(editorArticulacaoCtrl, tipoAnterior, novoTipo, transformacao) {\n        super('transformacao', {\n            detail: {\n                automatica: true,\n                tipoAnterior: tipoAnterior,\n                novoTipo: novoTipo,\n                transformacao: transformacao,\n                editorArticulacaoCtrl\n            }\n        });\n    }\n}\n\nexport default TransformacaoAutomaticaEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/eventos/TransformacaoAutomaticaEvent.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nclass ArticulacaoInvalidaException {\n    constructor(dispositivo, mensagem) {\n        this.dispositivo = dispositivo;\n        this.mensagem = mensagem;\n    }\n\n    get tipo() {\n        return dispositivo.tagName;\n    }\n}\n\nexport default ArticulacaoInvalidaException;\n\n\n// WEBPACK FOOTER //\n// ./src/lexml/ArticulacaoInvalidaException.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Definio padro das opes do editor de articulao.\n */\nexport default {\n    /**\n     * Determina o escapamento de caracteres de cdigo alto unicode durante a exportao\n     * para lexmlString.\n     */\n    escaparXML: false,\n    \n    /**\n     * Determina o sufixo para os rtulos dos dispositivos.\n     */\n    rotulo: {\n        separadorArtigo: ' \\u2013',\n        separadorArtigoSemOrdinal: ' \\u2013',\n        separadorParagrafo: ' \\u2013',\n        separadorParagrafoSemOrdinal: ' \\u2013',\n        separadorParagrafoUnico: ' \\u2013',\n        separadorInciso: ' \\u2013',\n        separadorAlinea: ')',\n        separadorItem: ')'\n    },\n\n    /**\n     * Determina se deve adotar o Shadow DOM, se suportado pelo navegador.\n     */\n    shadowDOM: false,\n\n    /**\n     * Determina se deve permitir a edio, ou se o componente ser somente para leitura.\n     */\n    somenteLeitura: false,\n\n    /**\n     * Determina se o editor de articulao deve aplicar transformao automtica.\n     */\n    transformacaoAutomatica: true,\n\n    /**\n     * Determina se deve validar o contedo atribudo ao componente.\n     */\n    validarAoAtribuir: true,\n\n    /**\n     * Determina as validaes que devem ocorrer.\n     * Nenhuma validao ocorre se o editor for somente para leitura.\n     */\n    validacao: {\n        /**\n         * Determina se deve validar o uso de caixa alta.\n         */\n        caixaAlta: true,\n\n        /**\n         * Determina se deve validar o uso de aspas em citaes.\n         */\n        citacao: true,\n\n        /**\n         * Determina se deve validar a presena de mltiplos elementos em uma enumerao.\n         */\n        enumeracaoElementos: true,\n\n        /**\n         * Determina se deve validar o uso de letra maiscula no caput do artigo e em pargrafos.\n         */\n        inicialMaiuscula: true,\n\n        /**\n         * Determina se deve validar as pontuaes.\n         */\n        pontuacao: true,\n\n        /**\n         * Determina se deve validar pontuao de enumerao.\n         */\n        pontuacaoEnumeracao: true,\n\n        /**\n         * Determina se deve exigir sentena nica no dispositivo.\n         */\n        sentencaUnica: true\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/opcoesPadrao.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/css-loader/lib/css-base.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* Cria uma funo global, chamada silegismgEditorArticulacao,\n * que permite transformar um DIV em um editor de articulao.\n * A funo cria e retorna uma nova instncia de EditorArticulacaoController.\n */\n\nimport ComponenteEdicao from '../src/ComponenteEdicao';\nimport EditorArticulacaoController from '../src/EditorArticulacaoController';\nimport interpretadorArticulacao from '../src/interpretadorArticulacao';\n\n/**\n * Prepara um elemento do DOM como um editor de articulao.\n * \n * @param {Element} elemento \n */\nfunction criarControllerEditorArticulacao(elemento, opcoes) {\n    elemento.ctrlArticulacao = new EditorArticulacaoController(elemento, opcoes);\n\n    Object.defineProperty(elemento, 'lexml', {\n        get: function () {\n            return this.ctrlArticulacao.lexml;\n        },\n        set: function (valor) {\n            this.ctrlArticulacao.lexml = valor;\n        }\n    });\n\n    return elemento.ctrlArticulacao;\n}\n\nfunction prepararEditorArticulacaoCompleto(elemento, opcoes) {\n    elemento.componenteEdicao = new ComponenteEdicao(elemento, opcoes);\n\n    Object.defineProperty(elemento, 'lexml', {\n        get: function () {\n            return this.componenteEdicao.ctrl.lexml;\n        },\n        set: function (valor) {\n            this.componenteEdicao.ctrl.lexml = valor;\n        }\n    });\n\n    return elemento.componenteEdicao;\n}\n\nwindow.silegismgEditorArticulacao = prepararEditorArticulacaoCompleto;\nwindow.silegismgEditorArticulacaoController = criarControllerEditorArticulacao;\nwindow.silegismgInterpretadorArticulacao = interpretadorArticulacao;\n\n\n// WEBPACK FOOTER //\n// ./empacotamento/plain-js.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport html from './editor.html';\nimport EditorArticulacaoController from './EditorArticulacaoController';\n\n/**\n * Transforma um elemento do DOM em um editor de articulao com\n * barra de ferramentas.\n */\nclass ComponenteEdicao {\n    constructor(elemento, opcoes) {\n        var container, botoes, containerBotoes, ctrl;\n\n        /* Se houver suporte ao shadow-dom, ento vamos us-lo\n         * para garantir o isolamento da rvore interna do componente\n         * e possveis problemas com CSS.\n         */\n        if (opcoes.shadowDOM && 'attachShadow' in elemento) {\n            let shadow = elemento.attachShadow({ mode: (typeof opcoes.shadowDOM === 'string' ? opcoes.shadowDOM : 'open') });\n\n            shadow.innerHTML = html.toString();\n\n            container = shadow.querySelector('.silegismg-editor-conteudo');\n            containerBotoes = shadow.querySelector('.silegismg-editor-botoes');\n            botoes = containerBotoes.querySelectorAll('button[data-tipo-destino]');\n\n            elemento.addEventListener('focus', focusEvent => container.focus());\n            elemento.focus = function () { container.focus(); };\n            elemento.ctrlArticulacao = this.ctrl = ctrl = new EditorArticulacaoController(container, opcoes);\n        } else {\n            elemento.innerHTML = html.toString();\n            container = elemento.querySelector('.silegismg-editor-conteudo');\n            containerBotoes = elemento.querySelector('.silegismg-editor-botoes');\n            botoes = elemento.querySelectorAll('button[data-tipo-destino]');\n            elemento.ctrlArticulacao = this.ctrl = ctrl = new EditorArticulacaoController(container, opcoes);\n        }\n\n        this.ctrl.dispatchEvent = eventoInterno => elemento.dispatchEvent(eventoInterno.getCustomEvent());\n\n        function alterarDispositivo(event) {\n            ctrl.alterarTipoDispositivoSelecionado(event.target.getAttribute('data-tipo-destino'));\n            container.focus();\n        }\n\n        // Trata cliques nos botes de formatao.\n        for (let i = 0; i < botoes.length; i++) {\n            botoes[i].addEventListener('click', alterarDispositivo.bind(this));\n        }\n\n        /* Monitora atualizao do contexto do usurio no editor de articulao,\n         * controlando habilitao de botes de transformao de dispositivo.\n         * \n         * A atualizao  feita por meio do evento \"contexto\" no DOM.\n         */\n        elemento.addEventListener('contexto', function (evento) {\n            /* Os botes de transformao de dispositivo s s habilitados se for possvel\n             * usar o dispositivo onde o cursor estiver.\n             */\n            for (let i = 0; i < botoes.length; i++) {\n                botoes[i].disabled = !evento.detail.permissoes[botoes[i].getAttribute('data-tipo-destino')];\n                botoes[i].classList.remove('atual');\n            }\n\n            let tipoAtual = containerBotoes.querySelector('button[data-tipo-destino=\"' + evento.detail.cursor.tipo + '\"]');\n\n            if (tipoAtual) {\n                tipoAtual.classList.add('atual');\n            }\n        });\n\n        elemento.addEventListener('scroll', function (evento) {\n            containerBotoes.style.position = 'relative';\n            containerBotoes.style.top = elemento.scrollTop + 'px';\n        });\n    }\n}\n\nexport default ComponenteEdicao;\n\n\n// WEBPACK FOOTER //\n// ./src/ComponenteEdicao.js","module.exports = \" <style rel=stylesheet/css>.silegismg-editor-base{border:solid 1px #ccc;border-top:none}.silegismg-editor-base .silegismg-editor-botoes{background:#ccc;padding:18px 4px 4px 4px}.silegismg-editor-base .silegismg-editor-botoes .silegismg-editor-botoes-agrupamento{display:inline-block;margin-right:1ex}.silegismg-editor-base .silegismg-editor-botoes .silegismg-editor-botoes-agrupamento:before{content:attr(data-agrupamento);position:absolute;margin-top:-1.3em;font-size:12px}.silegismg-editor-base .silegismg-editor-botoes button[disabled]{opacity:.5}.silegismg-editor-base .silegismg-editor-botoes button.atual{background:#fff;color:#000;border:#fff 2px;padding:2px 1ex;font-weight:bolder}.silegismg-editor-base .silegismg-editor-conteudo{margin:2ex}</style> <div class=silegismg-editor-base> <div class=silegismg-editor-botoes> <div class=silegismg-editor-botoes-agrupamento data-agrupamento=\\\"Diviso do texto\\\"> <button data-tipo-destino=titulo>Ttulo</button> <button data-tipo-destino=capitulo>Captulo</button> <button data-tipo-destino=secao>Seo</button> <button data-tipo-destino=subsecao>Subseo</button> </div> <div class=silegismg-editor-botoes-agrupamento data-agrupamento=\\\"Formatao de dispositivos\\\"> <button data-tipo-destino=continuacao>Continuao</button> <button data-tipo-destino=artigo>Artigo</button> <button data-tipo-destino=paragrafo>Pargrafo</button> <button data-tipo-destino=inciso>Inciso</button> <button data-tipo-destino=alinea>Alnea</button> <button data-tipo-destino=item>Item</button> </div> </div> <div class=silegismg-editor-conteudo> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/editor.html\n// module id = 13\n// module chunks = 0","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport EventoInterno from './EventoInterno';\n\n/**\n * Evento de notificao de atualizao do contexto de edio.\n * til para atualizao da interface de usurio, habilitando ou\n * desabilitando botes.\n */\nclass ContextoArticulacaoAtualizadoEvent extends EventoInterno {\n    /**\n     * Constri o evento.\n     * \n     * @param {ContextoArticulacao} contexto \n     */\n    constructor(contexto) {\n        super('contexto', {\n            detail: contexto\n        });\n    }\n}\n\nexport default ContextoArticulacaoAtualizadoEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/eventos/ContextoArticulacaoAtualizadoEvent.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n *\n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Representa o contexto do usurio no editor de articulao.\n * Possui dois atributos: cursor, contendo o contexto no cursor,\n * e as permisses de alterao de dispositivo na seleo.\n */\nclass ContextoArticulacao {\n    constructor(elementoArticulacao, dispositivo) {\n        let cursor = {\n            italico: dispositivo.tagName === 'I',\n            desconhecido: false,\n            titulo: false,\n            capitulo: false,\n            secao: false,\n            subsecao: false,\n            artigo: false,\n            continuacao: false,\n            paragrafo: false,\n            inciso: false,\n            alinea: false,\n            item: false,\n            raiz: false,\n            elemento: dispositivo,\n            get tipo() {\n                return this.dispositivo ? this.dispositivo.getAttribute('data-tipo') : 'desconhecido';\n            }\n        };\n\n        while (dispositivo && dispositivo !== elementoArticulacao && !dispositivo.hasAttribute('data-tipo')) {\n            dispositivo = dispositivo.parentElement;\n        }\n\n        cursor.dispositivo = dispositivo !== elementoArticulacao ? dispositivo : null;\n\n        while (dispositivo && dispositivo.getAttribute('data-tipo') === 'continuacao') {\n            dispositivo = dispositivo.previousElementSibling;\n            cursor.continuacao = true;\n        }\n\n        if (!dispositivo) {\n            cursor.desconhecido = true;\n        } else if (dispositivo === elementoArticulacao) {\n            dispositivo.raiz = true;\n        } else if (dispositivo.hasAttribute('data-tipo')) {\n            cursor[dispositivo.getAttribute('data-tipo')] = true;\n        } else {\n            cursor.desconhecido = true;\n        }\n\n        let primeiroDoTipo, tipoAnterior;\n\n        Object.defineProperty(cursor, 'primeiroDoTipo', {\n            get: function() {\n                if (primeiroDoTipo === undefined) {\n                    primeiroDoTipo = dispositivo && verificarPrimeiroDoTipo(dispositivo);\n                }\n\n                return primeiroDoTipo;\n            }\n        });\n\n        cursor.dispositivoAnterior = dispositivo && obterDispositivoAnterior(dispositivo, elementoArticulacao);\n        cursor.tipoAnterior = cursor.dispositivoAnterior && cursor.dispositivoAnterior.getAttribute('data-tipo');\n\n        let matches = Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.onMatchesSelector || function() { return true; };\n\n        function possuiAnterior(dispositivo, tipo) {\n            /* Implementao falha/incompleta. Uma subseo deve existir depois de uma seo,\n             * mas no deveria permitir captulo + seo + artigo + captulo + subseo.\n             *\n             * Cuidado pois esta implementao no pode ser cara!\n             */\n            return dispositivo && matches.call(dispositivo, 'p[data-tipo=\"' + tipo + '\"] ~ *');\n        }\n\n        let anteriorAgrupador = cursor.tipoAnterior === 'titulo' || cursor.tipoAnterior === 'capitulo' || cursor.tipoAnterior === 'secao' || cursor.tipoAnterior === 'subsecao';\n\n        let permissoes = {\n            titulo: !anteriorAgrupador,\n            capitulo: !anteriorAgrupador || cursor.tipoAnterior === 'titulo',\n            get secao() {\n                return (!anteriorAgrupador || cursor.tipoAnterior === 'capitulo') && possuiAnterior(cursor.dispositivo, 'capitulo');\n            },\n            get subsecao() {\n                return (!anteriorAgrupador || cursor.tipoAnterior === 'secao') && possuiAnterior(cursor.dispositivo, 'secao');\n            },\n            artigo: true /*cursor.tipoAnterior !== 'titulo' - No manual de redao parlamentar da ALMG, d a entender que o ttulo  um agrupamento de captulos, mas a constituio possui Art 1. logo aps o ttulo.*/,\n            continuacao: cursor.tipoAnterior === 'artigo' || cursor.continuacao,\n            inciso: cursor.tipoAnterior && !anteriorAgrupador && (!cursor.artigo || (cursor.artigo && !cursor.primeiroDoTipo)),\n            paragrafo: cursor.tipoAnterior && !anteriorAgrupador && (!cursor.artigo || (cursor.artigo && (!cursor.primeiroDoTipo || cursor.continuacao))),\n            alinea: (cursor.inciso && !cursor.primeiroDoTipo) || cursor.tipoAnterior === 'inciso' || cursor.tipoAnterior === 'alinea' || cursor.tipoAnterior === 'item',\n            item: (cursor.alinea && !cursor.primeiroDoTipo) || cursor.tipoAnterior === 'alinea' || cursor.tipoAnterior === 'item'\n        };\n\n        Object.defineProperty(this, 'cursor', { value: cursor });\n        Object.defineProperty(this, 'permissoes', { value: permissoes });\n\n        Object.freeze(this);\n        Object.freeze(cursor);\n        Object.freeze(permissoes);\n    }\n\n    comparar(obj2) {\n        for (let i in this.cursor) {\n            if (this.cursor[i] !== obj2.cursor[i]) {\n                return true;\n            }\n        }\n\n        for (let i in this.permissoes) {\n            if (this.permissoes[i] !== obj2.permissoes[i]) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Determina se o contexto atual  vlido.\n     *\n     * @returns {Boolean} Verdadeiro, se o contexto estiver vlido.\n     */\n    get valido() {\n        return this.permissoes[this.cursor.tipo];\n    }\n}\n\n/**\n * Determina se o dispositivo  o primeiro do tipo.\n *\n * @param {Element} dispositivo\n * @returns {Boolean} Verdadeiro, se for o primeiro do tipo.\n */\nfunction verificarPrimeiroDoTipo(dispositivo) {\n    var tipo = dispositivo.getAttribute('data-tipo');\n\n    if (!tipo) {\n        return null;\n    }\n\n    while (tipo === 'continuacao') {\n        dispositvo = dispositivo.previousElementSibling;\n        tipo = dispositivo.getAttribute('data-tipo');\n    }\n\n    let pontosParagem = ({\n        parte: [],\n        livro: [],\n        titulo: [],\n        capitulo: ['titulo'],\n        secao: ['capitulo', 'titulo'],\n        subsecao: ['secao', 'capitulo', 'titulo'],\n        artigo: [],\n        paragrafo: ['artigo'],\n        inciso: ['paragrafo', 'artigo'],\n        alinea: ['inciso'],\n        item: ['alinea']\n    })[tipo].reduce((prev, item) => {\n        prev[item] = true;\n        return prev;\n    }, {});\n\n    for (let prev = dispositivo.previousElementSibling; prev; prev = prev.previousElementSibling) {\n        let tipoAnterior = prev.getAttribute('data-tipo');\n\n        if (tipoAnterior === tipo) {\n            return false;\n        } else if (pontosParagem[tipoAnterior]) {\n            return true;\n        }\n    }\n\n    return true;\n}\n\n/**\n * Obtm o tipo de dispositivo anterior.\n *\n * @param {Element} dispositivo\n * @returns {Element} Elemento do dispositivo anterior.\n */\nfunction obterDispositivoAnterior(dispositivo, elementoArticulacao) {\n    while (dispositivo && !dispositivo.hasAttribute('data-tipo') && dispositivo !== elementoArticulacao) {\n        dispositivo = dispositivo.parentElement;\n    }\n\n    if (!dispositivo || dispositivo === elementoArticulacao) {\n        return null;\n    }\n\n    for (let anterior = dispositivo.previousElementSibling; anterior; anterior = anterior.previousElementSibling) {\n        if (anterior.hasAttribute('data-tipo')) {\n            let tipo = anterior.getAttribute('data-tipo');\n\n            if (tipo !== 'continuacao') {\n                return anterior;\n            }\n        }\n    }\n\n    return null;\n}\n\nexport default ContextoArticulacao;\n\n\n// WEBPACK FOOTER //\n// ./src/ContextoArticulacao.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport DoisPontos from './transformacoes/DoisPontos';\nimport PontoFinal from './transformacoes/PontoFinal';\nimport AoIniciarAspas from './transformacoes/AoIniciarAspas';\nimport AoFecharAspas from './transformacoes/AoFecharAspas';\nimport RecuarComEnterEmDispositivoVazio from './transformacoes/RecuarComEnterEmDispositivoVazio';\n\n/**\n * Adiciona a transformao automtica ao editor de articulao.\n * \n * @param {EditorArticulacaoController} editorArticulacaoCtrl \n * @param {Element} elemento \n */\nfunction adicionarTransformacaoAutomatica(editorArticulacaoCtrl, elemento) {\n    var parser = {}, estado = [];\n\n    adicionarParser(parser, new DoisPontos());\n    adicionarParser(parser, new PontoFinal());\n    adicionarParser(parser, new AoIniciarAspas());\n    adicionarParser(parser, new AoFecharAspas());\n    adicionarParser(parser, new RecuarComEnterEmDispositivoVazio());\n\n    editorArticulacaoCtrl.registrarEventListener('keypress', event => estado = processarEstado(event, parser, estado, editorArticulacaoCtrl, elemento));\n    editorArticulacaoCtrl.registrarEventListener('mouseup', event => estado = []);\n    editorArticulacaoCtrl.registrarEventListener('touchend', event => estado = []);\n}\n\n/**\n * Adiciona um transformador ao parser.\n * \n * @param {Object} parser \n * @param {Transformacao} transformador \n */\nfunction adicionarParser(parser, transformador) {\n    transformador.sequencias.forEach(function(sequencia) {\n        var i, pAtual = parser, c;\n        var handler = transformador.transformar.bind(transformador);\n\n        for (i = 0; i < sequencia.length; i++) {\n            c = sequencia.charCodeAt(i);\n\n            if (!pAtual[c]) {\n                pAtual[c] = {};\n            }\n\n            pAtual = pAtual[c];\n        }\n\n        let objHandler = {\n            sequencia: sequencia,\n            handler: handler\n        };\n\n        if (pAtual.$handler) {\n            pAtual.$handler.push(objHandler);\n        } else {\n            pAtual.$handler = [objHandler];\n        }\n    });\n}\n\n/**\n * Realiza o parsing da edio.\n */\nfunction processarEstado(event, _parser, _estadoParser, controller, elemento) {\n    var novoEstado = [],\n        c = event.charCode || event.keyCode;\n\n    _estadoParser.forEach(function (estado) {\n        if (estado[c]) {\n            novoEstado.push(estado[c]);\n        }\n    });\n\n    if (_parser[c]) {\n        novoEstado.push(_parser[c]);\n    }\n\n    novoEstado.forEach(function (estado) {\n        if (estado.$handler) {\n            estado.$handler.forEach(objHandler => objHandler.handler(elemento, controller, controller.contexto, objHandler.sequencia.replace(/\\r/g, '\\n'), event));\n        }\n    });\n\n    return novoEstado;\n}\n\nexport default adicionarTransformacaoAutomatica;\n\n\n// WEBPACK FOOTER //\n// ./src/transformacaoAutomatica/transformacaoAutomatica.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { TransformacaoDoProximo } from './Transformacao';\n\n/**\n * Ao terminar um dispositivo com dois pontos (:), assume-se\n * que ser feita uma enumerao e, portanto, transforma\n * o prximo dispositivo em inciso, alnea ou item, conforme\n * contexto.\n */\nclass DoisPontos extends TransformacaoDoProximo {\n    constructor() {\n        super(':\\n');\n    }\n\n    get tipoTransformacao() {\n        return 'DoisPontos';\n    }\n\n    proximoTipo(editor, ctrl, contexto) {\n        return {\n            artigo: 'inciso',\n            inciso: 'alinea',\n            alinea: 'item',\n            paragrafo: 'inciso'\n        }[contexto.cursor.tipo];\n    }\n}\n\nexport default DoisPontos;\n\n\n// WEBPACK FOOTER //\n// ./src/transformacaoAutomatica/transformacoes/DoisPontos.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { TransformacaoDoProximo } from './Transformacao';\n\n/**\n * Ao finalizar o dispositivo com ponto final (.) e o usurio\n * estiver no contexto de uma enumerao, ento encerra-se ela,\n * transformando o prximo dispositivo em um nvel anterior\n * (ex.: alnea para inciso).\n */\nclass PontoFinal extends TransformacaoDoProximo {\n    constructor() {\n        super('.\\n');\n    }\n\n    get tipoTransformacao() {\n        return 'PontoFinal';\n    }\n\n    proximoTipo(editor, ctrl, contexto) {\n        return {\n            get inciso() {\n                let dispositivo = contexto.cursor.dispositivo;\n                let tipo;\n\n                do {\n                    dispositivo = dispositivo.previousElementSibling;\n                    tipo = dispositivo.getAttribute('data-tipo');\n                } while (tipo !== 'artigo' && tipo !== 'paragrafo');\n\n                return tipo;\n            },\n            alinea: 'inciso',\n            item: 'alinea'\n        }[contexto.cursor.tipo];\n    }\n}\n\nexport default PontoFinal;\n\n\n// WEBPACK FOOTER //\n// ./src/transformacaoAutomatica/transformacoes/PontoFinal.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { Transformacao } from './Transformacao';\nimport TransformacaoAutomaticaEvent from '../../eventos/TransformacaoAutomaticaEvent';\n\n/**\n * Quando usurio cria um novo artigo e o inicia com aspas,\n * este  transformado em continuao do caput do artigo.\n */\nclass AoIniciarAspas extends Transformacao {\n    constructor() {\n        super('\\n\"');\n    }\n\n    get tipoTransformacao() {\n        return 'AoIniciarAspas';\n    }\n\n    transformar(editor, ctrl, contexto) {\n        if (contexto.cursor.tipoAnterior === 'artigo') {\n            ctrl.alterarTipoDispositivoSelecionado('continuacao');\n            ctrl.dispatchEvent(new TransformacaoAutomaticaEvent(ctrl, 'artigo', 'continuacao', this.tipoTransformacao));\n        }\n\n        return null;\n    }\n}\n\nexport default AoIniciarAspas;\n\n\n// WEBPACK FOOTER //\n// ./src/transformacaoAutomatica/transformacoes/AoIniciarAspas.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { TransformacaoDoProximo } from './Transformacao';\n\n/**\n * Quando usurio encerra as aspas na continuao do caput de um artigo,\n * ento cria-se um novo artigo.\n */\nclass AoFecharAspas extends TransformacaoDoProximo {\n    constructor() {\n        super('\"\\n', '\".\\n');\n    }\n\n    get tipoTransformacao() {\n        return 'AoFecharAspas';\n    }\n\n    proximoTipo(editor, ctrl, contexto) {\n        return contexto.cursor.artigo && contexto.cursor.continuacao ? 'artigo' : null;\n    }\n}\n\nexport default AoFecharAspas;\n\n\n// WEBPACK FOOTER //\n// ./src/transformacaoAutomatica/transformacoes/AoFecharAspas.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Transformacao from './Transformacao';\n\n/**\n * Quando usurio der um enter em uma linha vazia, ento\n * transforma-se o dispositivo para um nvel anterior\n * (ex.: de alnea para inciso).\n */\nclass RecuarComEnterEmDispositivoVazio extends Transformacao {\n    constructor() {\n        super('\\n');\n    }\n\n    get tipoTransformacao() {\n        return 'RecuarComEnterEmDispositivoVazio';\n    }\n\n    /**\n     * Efetua a transformao.\n     * \n     * @param {Element} elementoEditor Elemento em que est o editor de articulao.\n     * @param {EditorArticulacaoController} ctrl Controlador do editor.\n     * @param {ContextoArticulacao} contexto Contexto atual.\n     * @param {String} sequencia Sequncia que disparou a transformao.\n     * @param {KeyboardEvent} event Evento do teclado.\n     */\n    transformar(elementoEditor, ctrl, contexto, sequencia, event) {\n        if (contexto.cursor.dispositivo.textContent.trim().length === 0) {\n            let novoTipo = {\n                item: 'alinea',\n                alinea: 'inciso',\n                get inciso() {\n                    for (let dispositivo = contexto.cursor.dispositivoAnterior; dispositivo; dispositivo = dispositivo.previousElementSibling) {\n                        let tipo = dispositivo.getAttribute('data-tipo');\n\n                        if (tipo === 'artigo' || tipo === 'paragrafo') {\n                            return tipo;\n                        }\n                    }\n\n                    return 'artigo';\n                }\n            }[contexto.cursor.tipo] || 'artigo';\n\n            ctrl.alterarTipoDispositivoSelecionado(novoTipo);\n            event.preventDefault();\n        }\n    }\n}\n\nexport default RecuarComEnterEmDispositivoVazio;\n\n\n// WEBPACK FOOTER //\n// ./src/transformacaoAutomatica/transformacoes/RecuarComEnterEmDispositivoVazio.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { interceptar } from './interceptador';\n\nfunction hackChrome(controller) {\n    interceptar(controller, 'alterarTipoDispositivoSelecionado', hackAlterarTipo);\n\n    controller.registrarEventListener('keydown', event => hackInterceptarKeydown(event, controller));\n    \n    /* A partir do Chrome 62, comeou a ter problema no foco aps limpar o editor.\n     * O problema foi evitado adicionando um \\n aps o <br> ou substituindo o contedo\n     * por \"&nbsp;\"\" como feito no IE.\n     */\n    controller.limpar = function() {\n        this._elemento.innerHTML = '<p data-tipo=\"artigo\" style=\"min-height: 1em;\"><br>\\n</p>';\n    };\n}\n\n/**\n * O chrome faz cache do counter-reset e, quando um counter-reset  introduzido\n * (por mudana de css), os elementos seguintes no so afetados.\n * \n * @param {EditorArticulacaoController} ctrl \n * @param {function} metodo\n * @param {Array} argumentos \n */\nfunction hackAlterarTipo(ctrl, metodo, argumentos) {\n    let dispositivo = ctrl.contexto.cursor.dispositivo;\n    let contadoresAntigos = extrairContadores(dispositivo);\n    let retorno  = metodo.apply(ctrl, argumentos);\n    let contadoresNovos = extrairContadores(dispositivo, contadoresAntigos.hash);\n\n    /* Para cada contador novo, vamos redefinir o tipo dos prximos elementos,\n     * at que se encontre em um elemento antigo o reincio do contador em questo.\n     */\n    for (let i = 0, proximo = ctrl.contexto.cursor.dispositivo.nextElementSibling; proximo && i < contadoresNovos.total; proximo = proximo.nextElementSibling) {\n        let tipo = proximo.getAttribute('data-tipo');\n        let contadoresProximo = extrairContadores(proximo);\n\n        if (contadoresNovos.hash[tipo]) {\n            redefinirContador(proximo);\n        }\n\n        // No h necessidade de reiniciar contadores quando o prximo j o reiniciava.\n        for (let contador in contadoresProximo.hash) {\n            if (contadoresNovos.hash[contador]) {\n                contadoresNovos.hash[contador] = false;\n                i++;\n            }\n        }\n    }\n\n    return retorno;\n}\n\n/**\n * Extrai os contadores reinciiados por este elemento.\n * \n * @param {Element} dispositivo \n * @param {Object} contadoresDesconsiderar Hash contendo os contadores que no devero ser considerados.\n */\nfunction extrairContadores(dispositivo, contadoresDesconsiderar) {\n    let counterReset = getComputedStyle(dispositivo).counterReset;\n    let contadores = {};\n    let cnt = 0;\n\n    for (let regexp = /(.+?)\\s\\d+\\s*/g, m = regexp.exec(counterReset); m; m = regexp.exec(counterReset)) {\n        let contador = m[1];\n\n        if (!contadoresDesconsiderar || !contadoresDesconsiderar[contador]) {\n            contadores[contador] = true;\n            cnt++;\n        }\n    }\n\n    return { total: cnt, hash: contadores };\n}\n\n/**\n * Efetua a redefinio do contador.\n * \n * @param {Element} dispositivo \n */\nfunction redefinirContador(dispositivo) {\n    let tipo = dispositivo.getAttribute('data-tipo');\n    dispositivo.removeAttribute('data-tipo');\n    setTimeout(() => dispositivo.setAttribute('data-tipo', tipo));\n}\n\n/**\n * O Chrome tem um problema de desempenho que fica evidente ao importar\n * o LexML da Constituio Federal, selecionar todo o texto no editor\n * de articulao, e pressionar qualquer tecla que iria remover o texto\n * selecionado (seja por excluso ou substituio).\n * \n * Para cada elemento no DOM a ser excludo ou substitudo, o navegador\n * processa os estilos do prximo elemento (conforme ferramenta de profile\n * do prprio navegador), tornando a operao O(n). Para contornar o problema,\n * realizamos a excluso do contedo via API, interceptando o keydown.\n * \n * @param {KeyboardEvent} keyboardEvent \n * @param {EditorArticulacaoController} editorCtrl \n */\nfunction hackInterceptarKeydown(keyboardEvent, editorCtrl) {\n    /* Somente sero tratadas as alteraes de contedo. Portanto,\n     * se houver qualquer tecla modificativa (ctrl, alt ou meta),\n     * o evento ser ignorado. O evento s ser tratado se a tecla for\n     * de contedo (letra, nmero ou enter), ou remoo (delete, backspace).\n     */\n    if (!keyboardEvent.ctrlKey && !keyboardEvent.altKey && !keyboardEvent.metaKey &&\n        keyboardEvent.key.length === 1 || keyboardEvent.key === 'Delete' || keyboardEvent.key === 'Backspace' ||\n        keyboardEvent.key === 'Enter') {\n\n        let selection = editorCtrl.getSelection();\n        let range = selection.getRangeAt(0);\n\n        // Se no houver nada selecionado, ento no h problema de desempenho.\n        if (!range.collapsed) {\n            let inicio = range.startContainer.parentNode;\n            let final = range.endContainer.parentNode;\n\n            range.deleteContents();\n\n            /* Se a tecla for de remoo, ento evitamos a ao padro.\n             * Entretanto, se for de contedo, ento deixamos que a ao\n             * padro seja executada, para que o novo contedo seja inserido\n             * no lugar do contedo excludo.\n             */\n            if (keyboardEvent.key === 'Delete' || keyboardEvent.key === 'Backspace') {\n                keyboardEvent.preventDefault();\n            }\n\n            /* O range da seleo, ainda que seja de todo o contedo, no abrange\n             * o elemento inicial e o final. Isto , se o usurio selecionar tudo\n             * usando Ctrl+A e prosseguir com a excluso com a tecla Delete, \n             * o contedo selecionado correpsonder ao primeiro n textual do primeiro\n             * P at o ltimo n textual do tlimo P.\n             * \n             *        <p><!-- incio da seleo -->n textual</p>\n             *        <p>n textual intermedirio</p>\n             *        <p>ltimo n textual<-- final da seleo --></p>\n             * \n             * Assim, a excluso ir remover todos os ns textuais e os elementos intermedirios,\n             * mantendo, entretanto, o primeiro e ltimo elemento (veja ilustrao acima,\n             * em que a seleo foi demarcada em comentrio).\n             * \n             * Para contornar esta situao, realizamos manualmente a excluso dos elementos,\n             * se o elemento inicial da seleo for diferente do final, condicionando\n             * a excluso  presena de contedo. Deve-se executar o procedimento somente\n             * se o incio for diferente do final, pois a seleo pode ser apenas de\n             * contedo intermedirio, como ilustrado a seguir:\n             * \n             *      <p>este <!-- incio da seleo --> um <!-- final da seleo -->exemplo.</p>\n             */\n            if (inicio !== final) {\n                if (inicio != editorCtrl._elemento && inicio.textContent.length === 0) {\n                    inicio.remove();\n                }\n\n                if (final != editorCtrl._elemento && final.textContent.length === 0) {\n                    final.remove();\n                }\n\n                /* Caso todo o contedo estivesse selecionado, o editor de articulao\n                    * passar a ter nenhum elemento neste momento. Neste caso,\n                    * deve-se recriar o contedo mnimo.\n                    */\n                if (editorCtrl._elemento.children.length === 0) {\n                    editorCtrl.limpar();\n                }\n            }\n            // ... mas se a seleo for todo o contedo de um nico elemento...\n            else if (inicio.textContent.length === 0 && inicio.children.length === 0) {\n                /* ento deve-se garantir o contedo mnimo, para que o cursor do pargrafo\n                    * fique posicionado corretamente.\n                    */\n                inicio.innerHTML = '<br>';\n            }\n        }\n    }\n}\n\nexport default hackChrome;\n\n\n// WEBPACK FOOTER //\n// ./src/hacks/chrome.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { interceptar, interceptarApos } from './interceptador';\n\nfunction hackIE(controller) {\n    controller.limpar = function() {\n        // IE 11 precisa de contedo dentro do elemento para que o mesmo ganhe foco e seja editvel\n        this._elemento.innerHTML = '<p data-tipo=\"artigo\">&nbsp;</p>';\n    };\n\n    // Toggle do classList no funciona no IE 11\n    // https://connect.microsoft.com/IE/Feedback/details/878564/\n    interceptar(DOMTokenList.prototype, 'toggle', (classList, metodo, argumentos) => {\n        if (argumentos.length === 1) {\n            metodo.apply(classList, argumentos);\n        } else if (argumentos[1]) {\n            classList.add(argumentos[0]);\n        } else {\n            classList.remove(argumentos[0]);\n        }\n    });\n\n    // Construtor do Set no recebe parmetros no IE 11\n    if (new Set([1, 2]).size === 0) {\n        substituirSet();\n    }\n\n    // Garante sempre que o dispositivo tenha algum contedo, para evitar que o IE tenha um pargrafo no editvel.\n    interceptarApos(controller, '_normalizarDispositivo', function(controller, resultado, argumentos) {\n        let dispositivo = argumentos[0];\n\n        if (dispositivo && !dispositivo.firstElementChild && dispositivo.textContent === '') {\n            dispositivo.innerHTML = '&nbsp;';\n        }\n    });\n}\n\nfunction substituirSet() {\n    function substituirMetodo(metodo) {\n        if (typeof SetNativo.prototype[metodo] === 'function') {\n            window.Set.prototype[metodo] = function() { return this.$set[metodo].apply(this.$set, arguments); };\n        }\n    }\n\n    let SetNativo = window.Set;\n\n    window.Set = function(iteravel) {\n        this.$set = new SetNativo();\n        \n        if (iteravel) {\n            for (let i in iteravel) {\n                this.$set.add(iteravel[i]);\n            }\n        }\n    };\n\n    let metodos = ['add', 'clear', 'delete', 'entries', 'forEach', 'has', 'keys', 'values', '@@iterator'];\n    \n    for (let i = 0; i < metodos.length; i++) {\n        substituirMetodo(metodos[i]);\n    }\n}\n\nexport default hackIE;\n\n\n// WEBPACK FOOTER //\n// ./src/hacks/ie.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n function polyfill() {\n    // IE 11 no tem Object.assing\n\n    // Object polyfill from https://developer.mozilla.org/en-US/docs/Glossary/Polyfill\n    if (!Object.assign) {\n        Object.defineProperty(Object, 'assign', {\n            enumerable: false,\n            configurable: true,\n            writable: true,\n            value: function (target) {\n                'use strict';\n                if (target === undefined || target === null) {\n                    throw new TypeError('Cannot convert first argument to object');\n                }\n\n                var to = Object(target);\n                for (var i = 1; i < arguments.length; i++) {\n                    var nextSource = arguments[i];\n                    if (nextSource === undefined || nextSource === null) {\n                        continue;\n                    }\n                    nextSource = Object(nextSource);\n\n                    var keysArray = Object.keys(Object(nextSource));\n                    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n                        var nextKey = keysArray[nextIndex];\n                        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n                        if (desc !== undefined && desc.enumerable) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n                return to;\n            }\n        });\n    }\n\n    // IE 11 no tem lastElementChild no DocumentFragment\n    if (!('lastElementChild' in DocumentFragment.prototype)) {\n        Object.defineProperty(DocumentFragment.prototype, 'lastElementChild', {\n            get: function () {\n                var ultimo = this.lastChild;\n\n                while (ultimo && ultimo.nodeType !== Node.ELEMENT_NODE) {\n                    ultimo = ultimo.previousSibling;\n                }\n\n                return ultimo;\n            }\n        });\n    }\n }\n\n export default polyfill;\n\n\n// WEBPACK FOOTER //\n// ./src/hacks/polyfill.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Transforma o LexML no contedo para editor de articulao.\n * \n * @param {Element} elemento\n * @param {DocumentFragment} resultado\n * @returns {DocumentFragment}\n */\nfunction importarDeLexML(elemento, resultado) {\n    if (!resultado) {\n        resultado = document.createDocumentFragment();\n    }\n\n    if (!elemento) {\n        return resultado;\n    } else if (elemento instanceof NodeList || elemento instanceof HTMLCollection) {\n        for (let i = 0; i < elemento.length; i++) {\n            importarDeLexML(elemento[i], resultado);\n        }\n    } else if (typeof elemento === 'string') {\n        let container = document.createElement('div');\n        container.innerHTML = elemento;\n        importarDeLexML(container.children, resultado);\n    } else {\n        switch (elemento.tagName) {\n            case 'ARTICULACAO':\n                importarDeLexML(elemento.children, resultado);\n                break;\n\n            case 'TITULO':\n            case 'CAPITULO':\n            case 'SECAO':\n            case 'SUBSECAO':\n                resultado.appendChild(criarAgrupador(elemento.tagName.toLowerCase(), elemento.querySelector('NomeAgrupador').innerHTML));\n                importarDeLexML(elemento.children, resultado);\n                break;\n\n            case 'NOMEAGRUPADOR':\n            case 'ROTULO':\n            case 'P':\n                // Ignora.\n                break;\n\n            case 'ARTIGO':\n                clonar(elemento, 'Caput > p', idx => idx === 0 ? 'artigo' : 'continuacao', resultado);\n\n                if (/\\d+?-[A-Z]/.test(elemento.querySelector('Rotulo').textContent)) {\n                    resultado.lastElementChild.classList.add('emenda');\n                }\n                \n                let incisos = elemento.querySelectorAll('Caput > Inciso');\n                importarDeLexML(incisos, resultado);\n\n                let paragrafos = elemento.querySelectorAll('Paragrafo');\n                let dispositivoAtual = resultado.lastElementChild;\n\n                importarDeLexML(paragrafos, resultado);\n\n                if (paragrafos.length === 1) {\n                    dispositivoAtual.nextElementSibling.classList.add('unico');\n                }\n                break;\n\n            case 'INCISO':\n            case 'ALINEA':\n            case 'ITEM':\n            case 'PARAGRAFO':\n                let p = obterP(elemento);\n                clonar(p, null, elemento.tagName.toLowerCase(), resultado);\n                importarDeLexML(elemento.children, resultado);\n                break;\n\n            default:\n                throw 'Elemento no esperado: ' + elemento.tagName;\n        }\n    }\n\n    return resultado;\n}\n\n/**\n * Cria um elemento agrupador.\n * \n * @param {String} agrupador Tipo do agrupador.\n * @param {String} nome Nome do agrupador.\n * @returns {Element} Agrupador\n */\nfunction criarAgrupador(agrupador, nome) {\n    let elemento = document.createElement('p');\n    elemento.setAttribute('data-tipo', agrupador);\n    elemento.innerHTML = nome;\n    return elemento;\n}\n\n/**\n * Obtm o primeiro elemento P filho.\n * \n * @param {Element} elemento\n * @returns {Element}\n */\nfunction obterP(elemento) {\n    let p = elemento.firstElementChild;\n\n    while (p.tagName !== 'P') {\n        p = p.nextElementSibling;\n    }\n\n    return p;\n}\n\n/**\n * Clona um elemento.\n * \n * @param {Element} elemento Elemento que ser clonado ou que contm os elementos a serem clonados, se a query for especificada.\n * @param {String} query Query a ser executada para filtrar os elementos filhos.\n * @param {String|function} tipoFinal Tipo final do elemento clonado (string) ou uma funo que recebe (ndice, elemento) e retorna o tipo em string.\n * @param {DocumentFragment} resultado \n */\nfunction clonar(elemento, query, tipoFinal, resultado) {\n    let fnTipo;\n\n    switch (typeof tipoFinal) {\n        case 'string':\n            fnTipo = () => tipoFinal;\n            break;\n\n        case 'function':\n            fnTipo = tipoFinal;\n            break;\n\n        default:\n            throw new Error('Tipo final no  literal nem funo.');\n    }\n\n    if (query) {\n        var itens = elemento.querySelectorAll(query);\n\n        for (let i = 0; i < itens.length; i++) {\n            let novoItem = itens[i].cloneNode(true);\n            novoItem.setAttribute('data-tipo', fnTipo(i, novoItem));\n            resultado.appendChild(novoItem);\n        }\n    } else {\n        let novoItem = elemento.cloneNode(true);\n        novoItem.setAttribute('data-tipo', fnTipo(0, novoItem));\n        resultado.appendChild(novoItem);\n    }\n\n    return resultado;\n}\n\nexport default importarDeLexML;\n\n\n// WEBPACK FOOTER //\n// ./src/lexml/importarDeLexML.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport ArticulacaoInvalidaException from './ArticulacaoInvalidaException';\nimport padrao from '../opcoesPadrao';\n\nvar htmlInline = new Set(['SPAN', 'B', 'I', 'A', 'SUB', 'SUP', 'INS', 'DEL', 'DFN']);\n\n/**\n * Exporta para o XML definido no LexML (http://projeto.lexml.gov.br/documentacao/Parte-3-XML-Schema.pdf),\n * a partir da estrutura do HTML do editor de articulao.\n * \n * @param {Element} dispositivoDOM Dispositivo da articulao, dentro do editor de articulao,\n * onde ser iniciada a exportao para LexML, ou o prprio container (elemento raz) do\n * editor de articulao.\n * @returns {Element} Articulao do LexML\n */\nfunction exportarParaLexML(dispositivoDOM, rotulos) {\n    var cntArtigos = 0;\n\n    if (!rotulos) {\n        rotulos = padrao.rotulo;\n    }\n\n    /**\n     * Representa o contexto da transformao,\n     * com informaes e mtodos para adio de dispositivos,\n     * podendo ser especializado por tipo.\n     */\n    class ContextoTransformacao {\n        constructor(dispositivoLexML, contextoAnterior) {\n            this.dispositivoLexML = dispositivoLexML;\n            this.contextoAnterior = contextoAnterior;\n            this.cntSubitens = {\n                get Artigo() {\n                    return cntArtigos;\n                },\n                set Artigo(valor) {\n                    cntArtigos = valor;\n                }\n            };\n        }\n\n        get id() {\n            return this.dispositivoLexML.id;\n        }\n\n        /**\n         * Obtm o identificador a ser considerado ao criar o id para\n         * um subtipo deste dispositivo.\n         * \n         * @param {String} subtipo Subtipo desejado.\n         */\n        getIdReferencia(subtipo) {\n            return this.dispositivoLexML.id;\n        }\n\n        /**\n         * Tipo do dispositivo.\n         */\n        get tipo() {\n            return this.dispositivoLexML.tagName;\n        }\n\n        adicionarSubitem(dispositivoLexML) {\n            this.cntSubitens[dispositivoLexML.tagName] = this.cntSubitens[dispositivoLexML.tagName] ? this.cntSubitens[dispositivoLexML.tagName] + 1 : 1;\n            this.dispositivoLexML.appendChild(dispositivoLexML);\n        }\n\n        adicionarSubitemEmendado(dispositivoLexML) {\n            this.dispositivoLexML.appendChild(dispositivoLexML);\n        }\n\n        adicionarProximo(dispositivoLexML) {\n            this.dispositivoLexML.parentNode.appendChild(dispositivoLexML);\n        }\n\n        possuiSubtipo(subtipo) {\n            switch (this.tipo) {\n                case 'Articulacao':\n                    return subtipo === 'Artigo' || subtipo === 'Titulo' || subtipo === 'Capitulo' || subtipo === 'Secao' || subtipo === 'Livro' || subtipo === 'Parte';\n\n                case 'Parte':\n                    return subtipo === 'Livro';\n\n                case 'Livro':\n                    return subtipo === 'Titulo';\n\n                case 'Titulo':\n                    return subtipo === 'Capitulo' || subtipo === 'Artigo';\n\n                case 'Capitulo':\n                    return subtipo === 'Secao' || subtipo === 'Artigo';\n\n                case 'Secao':\n                    return subtipo === 'Subsecao' || subtipo === 'Artigo';\n\n                case 'Subsecao':\n                    return subtipo === 'Artigo';\n\n                case 'Artigo':\n                    return subtipo === 'Inciso' || subtipo === 'Paragrafo';\n\n                case 'Inciso':\n                    return subtipo === 'Alinea';\n\n                case 'Alinea':\n                    return subtipo === 'Item';\n\n                case 'Item':\n                    return false;\n\n                case 'Paragrafo':\n                    return subtipo === 'Inciso';\n\n                default:\n                    throw 'Tipo desconhecido: ' + this.tipo;\n            }\n        }\n\n        contarSubitens(subtipo) {\n            return this.cntSubitens[subtipo] || 0;\n        }\n    }\n\n    /**\n     * Contexto de transformao especializado para artigo, que possui\n     * incisos no caput e pargrafos no artigo.\n     */\n    class ContextoTransformacaoArtigo extends ContextoTransformacao {\n        getIdReferencia(subtipo) {\n            // O inciso  sobre o caput. J o pargrafo  sobre o artigo.\n            return subtipo === 'Inciso' ? this.dispositivoLexML.id + '_cpt' : this.dispositivoLexML.id;\n        }\n\n        adicionarSubitem(dispositivoLexML) {\n            if (dispositivoLexML.tagName === 'p' || dispositivoLexML.tagName === 'Inciso') {\n                this.dispositivoLexML.querySelector('Caput').appendChild(dispositivoLexML);\n            } else {\n                this.dispositivoLexML.appendChild(dispositivoLexML);\n            }\n\n            this.cntSubitens[dispositivoLexML.tagName] = this.cntSubitens[dispositivoLexML.tagName] ? this.cntSubitens[dispositivoLexML.tagName] + 1 : 1;\n        }\n    }\n\n    /**\n     * Contexto de transformao especializado em divises de texto (agrupadores),\n     * como ttulo, captulo, seo e subseo.\n     */\n    class ContextoTransformacaoAgrupador extends ContextoTransformacao {\n        getIdReferencia(subtipo) {\n            return subtipo === 'Artigo' ? null : super.getIdReferencia(subtipo);\n        }\n    }\n\n    /**\n     * Cria o contexto adequado conforme o tipo do n.\n     * \n     * @param {Element} dispositivoLexML \n     * @param {*} contextoAnterior \n     */\n    function criarContexto(dispositivoLexML, contextoAnterior) {\n        switch (dispositivoLexML.tagName) {\n            case 'Artigo':\n                return new ContextoTransformacaoArtigo(dispositivoLexML, contextoAnterior);\n\n            case 'Parte':\n            case 'Titulo':\n            case 'Capitulo':\n            case 'Secao':\n            case 'Subsecao':\n                return new ContextoTransformacaoAgrupador(dispositivoLexML, contextoAnterior);\n                \n            default:\n                return new ContextoTransformacao(dispositivoLexML, contextoAnterior);\n        }\n    }\n\n    let raiz = document.createElementNS('http://www.lexml.gov.br/1.0', 'Articulacao');\n    let contexto = new ContextoTransformacao(raiz);\n\n    // Se for o container de edio, ento movemos para o primeiro filho.\n    if (dispositivoDOM.classList.contains('silegismg-editor-articulacao')) {\n        dispositivoDOM = dispositivoDOM.firstElementChild;\n    }\n\n    while (dispositivoDOM) {\n        let tipo = dispositivoDOM.getAttribute('data-tipo').replace(/^[a-z]/, letra => letra.toUpperCase());\n\n        if (tipo === 'Continuacao') {\n            let p = criarElementoP(dispositivoDOM);\n            contexto.adicionarSubitem(p);\n        } else {\n            while (contexto && !contexto.possuiSubtipo(tipo)) {\n                contexto = contexto.contextoAnterior;\n            }\n\n            if (!contexto) {\n                throw new ArticulacaoInvalidaException(dispositivoDOM, 'Dispositivo do tipo \"' + tipo.toLowerCase() + '\" inesperado neste ponto.');\n            }\n\n            if (dispositivoDOM.classList.contains('emenda')) {\n                contexto.nEmenda++;\n            } else {\n                contexto.nEmenda = 0;\n            }\n\n            let dispositivoLexML = criarElementoLexML(tipo, dispositivoDOM, contexto.getIdReferencia(tipo), contexto.contarSubitens(tipo), dispositivoDOM.classList.contains('unico'), contexto.nEmenda, rotulos);\n\n            if (tipo === 'Paragrafo' && dispositivoDOM.classList.contains('unico')) {\n                // Adiciona o sufixo \"u\" ao identificador do pargrafo nico\n                dispositivoLexML.id = dispositivoLexML.id + 'u';\n            }\n\n            if (contexto.nEmenda) {\n                contexto.adicionarSubitemEmendado(dispositivoLexML);\n            } else {\n                contexto.adicionarSubitem(dispositivoLexML);\n            }\n\n            contexto = criarContexto(dispositivoLexML, contexto);\n        }\n\n        dispositivoDOM = dispositivoDOM.nextElementSibling;\n    }\n\n    return raiz;\n}\n\nfunction criarElementoLexML(tipo, conteudo, idPai, idxFilho, unico, nEmenda, rotulos) {\n    var elemento, id;\n\n    id = tipo.substr(0, 3).toLowerCase();\n    id = idPai ? idPai + '_' + id : id;\n\n    if (nEmenda) {\n        id += idxFilho + '-' + nEmenda;\n    } else {\n        id += idxFilho + 1;\n    }\n\n    elemento = document.createElementNS('http://www.lexml.gov.br/1.0', tipo);\n    elemento.setAttribute('id', id);\n\n    elemento.appendChild(criarRotuloLexML(tipo, nEmenda ? idxFilho : idxFilho + 1, unico, nEmenda, rotulos));\n\n    switch (tipo) {\n        case 'Artigo':\n            elemento.appendChild(criarCaputLexML(conteudo, id));\n            break;\n\n        // Agrupadores\n        case 'Parte':\n        case 'Livro':\n        case 'Titulo':\n        case 'Capitulo':\n        case 'Secao':\n        case 'Subsecao':\n            elemento.appendChild(criarNomeAgrupador(conteudo));\n            break;\n\n        default:\n            elemento.appendChild(criarElementoP(conteudo));\n            break;\n    }\n\n    return elemento;\n}\n\nfunction criarRotuloLexML(tipo, numero, unico, nEmenda, rotulos) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'Rotulo');\n\n    switch (tipo) {\n        case 'Artigo':\n            if (nEmenda) {\n                elemento.innerHTML = 'Art. ' + numero + (numero < 10 ? '-' : '-') + transformarLetra(nEmenda, true) + (numero < 10 ? rotulos.separadorArtigo : rotulos.separadorArtigoSemOrdinal);\n            } else {\n                elemento.innerHTML = 'Art. ' + numero + (numero < 10 ? '' + rotulos.separadorArtigo : rotulos.separadorArtigoSemOrdinal);\n            }\n            break;\n\n        case 'Paragrafo':\n            elemento.innerHTML = unico ? 'Pargrafo nico' + rotulos.separadorParagrafoUnico : ' ' + numero + (numero < 10 ? '' + rotulos.separadorParagrafo : rotulos.separadorParagrafoSemOrdinal);\n            break;\n\n        case 'Inciso':\n            elemento.innerHTML = transformarNumeroRomano(numero) + rotulos.separadorInciso;\n            break;\n\n        case 'Alinea':\n            elemento.textContent = transformarLetra(numero) + rotulos.separadorAlinea;\n            break;\n\n        case 'Item':\n            elemento.innerHTML = numero + rotulos.separadorItem;\n            break;\n\n        case 'Titulo':\n            elemento.textContent = 'Ttulo ' + transformarNumeroRomano(numero);\n            break;\n\n        case 'Capitulo' :\n            elemento.textContent = 'Captulo ' + transformarNumeroRomano(numero);\n            break;\n\n        case 'Secao':\n            elemento.textContent = 'Seo ' + transformarNumeroRomano(numero);\n            break;\n\n        case 'Subsecao':\n            elemento.textContent = 'Subseo ' + transformarNumeroRomano(numero);\n            break;\n\n        default:\n            throw \"Tipo no suportado na formatao de rtulo: \" + tipo;\n    }\n\n    return elemento;\n}\n\nfunction criarCaputLexML(caput, idPai) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'Caput');\n    var paragrafo = criarElementoP(caput);\n\n    elemento.setAttribute('id', idPai + '_cpt');\n    elemento.appendChild(paragrafo);\n    normalizarParagrafo(paragrafo);\n\n    return elemento;\n}\n\nfunction criarElementoP(paragrafo) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'p');\n    criarConteudoInline(paragrafo, elemento);\n    normalizarParagrafo(elemento);\n    return elemento;\n}\n\nfunction criarConteudoInline(origem, destino) {\n    var arvore = document.createTreeWalker(origem, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT, null /* necesrio no IE 11 */, null  /* necesrio no IE 11 */);\n    var atual = {\n        /**\n         * Objeto de contexto de exportao anterior (este mesmo objeto)\n         */\n        anterior: null,\n\n        /**\n         * Elemento que, se encontrado, deve retroceder o contexto. Utilizado para navegar\n         * por elementos filhos e identificar quando o nvel, na navegao, retrocede,\n         * obrigando a retroceder tambm o contexto.\n         */\n        retrocederEm: null,\n\n        /**\n         * Elemento na nova rvore onde os itens sero inseridos.\n         */\n        destino: destino\n    };\n    var primeiroTexto = true, ultimoTexto = null;\n\n    while (arvore.nextNode()) {\n        let item = arvore.currentNode;\n\n        if (item.parentNode === atual.retrocederEm) {\n            atual = atual.anterior;\n        }\n\n        if (item.nodeType === Node.TEXT_NODE) {\n            ultimoTexto = item.cloneNode();\n\n            if (primeiroTexto) {\n                primeiroTexto = false;\n                ultimoTexto.textContent = ultimoTexto.textContent.replace(/^\\s+/, '');\n            }\n\n            atual.destino.appendChild(ultimoTexto);\n        } else if (htmlInline.has(item.tagName)) {\n            let elemento = document.createElementNS('http://www.lexml.gov.br/1.0', item.tagName.toLowerCase());\n            atual.destino.appendChild(elemento);\n            atual = {\n                anterior: atual,\n                retrocederEm: item.parentNode,\n                destino: elemento\n            };\n        } else if (item.tagName === 'BR') {\n            // Ignora\n        } else {\n            throw new ArticulacaoInvalidaException(origem, 'Elemento no permitido: ' + item.tagName);\n        }\n    }\n\n    if (ultimoTexto) {  \n        ultimoTexto.textContent = ultimoTexto.textContent.replace(/\\s+$/, '');\n    }\n\n    return destino;\n}\n\nfunction criarNomeAgrupador(elementoAgrupador) {\n    var elemento = document.createElementNS('http://www.lexml.gov.br/1.0', 'NomeAgrupador');\n    criarConteudoInline(elementoAgrupador, elemento);\n    return elemento;\n}\n\n/**\n * Desmembra elementos P dentro de outro P, colocando-os no mesmo nvel.\n * Exemplo: `<P><P>1</P><P>2</P></P>` vira `<P>1</P><P>2</P>`\n * \n * @param {Element} paragrafo\n */\nfunction normalizarParagrafo(paragrafo) {\n    while (paragrafo.hasAttributes()) {\n        paragrafo.removeAttribute(paragrafo.attributes[0].name);\n    }\n\n    /* Microsoft Edge no implementa a interface HTMLElement em document.createElementNS.\n     * Portanto, usaremos children se disponvel, ou childNodes, para o Edge.\n     */\n    let itens = paragrafo.children || paragrafo.childNodes;\n\n    for (let i = 0; i < itens.length; i++) {\n        if (itens[i].tagName === 'p') {\n            /* Tag P dentro de P. Isso no deveria ocorrer, ento vamos tratar como continuao.\n             * Neste caso, move-se todos os elementos a partir do ndice 'i'\n             * para novos pargrafos aps o atual.\n             */\n            while (itens.length > i) {\n                let item = itens[i];\n\n                if (item.tagName === 'p') {\n                    paragrafo.parentNode.insertBefore(item, paragrafo.nextSibling);\n                    normalizarParagrafo(item);\n                } else {\n                    var novoParagrafo = document.createElementNS('http://www.lexml.gov.br/1.0', 'p');\n                    novoParagrafo.appendChild(item);\n                    paragrafo.parentNode.insertBefore(novoParagrafo, paragrafo.nextSibling);\n                    normalizarParagrafo(novoParagrafo);\n                }\n            }\n        }\n    }\n}\n\n/**\n * Escreve o nmero em romano.\n * \n * @param {Number} numero \n */\nfunction transformarNumeroRomano(numero) {\n    var digitos = String(numero).split(\"\"),\n        tabela = [\"\", \"C\", \"CC\", \"CCC\", \"CD\", \"D\", \"DC\", \"DCC\", \"DCCC\", \"CM\",\n            \"\", \"X\", \"XX\", \"XXX\", \"XL\", \"L\", \"LX\", \"LXX\", \"LXXX\", \"XC\",\n            \"\", \"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\"],\n        resultado = \"\",\n        i = 3;\n\n    while (i--) {\n        resultado = (tabela[+digitos.pop() + (i * 10)] || \"\") + resultado;\n    }\n    return new Array(+digitos.join(\"\") + 1).join(\"M\") + resultado;\n}\n\n/**\n * Escreve o nmero em letra.\n * \n * @param {Number} numero \n */\nfunction transformarLetra(numero, maiuscula) {\n    if (numero < 1) {\n        throw \"Nmero deve ser positivo.\";\n    }\n\n    return String.fromCharCode((maiuscula ? 64  : 96) + numero);\n}\n\nexport default exportarParaLexML;\n\n\n// WEBPACK FOOTER //\n// ./src/lexml/exportarParaLexML.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { interceptarApos } from './hacks/interceptador';\nimport { interpretarArticulacao, transformarQuebrasDeLinhaEmP } from './interpretadorArticulacao';\n\n/**\n * Controlador da rea de transferncia do editor de articulao.\n */\nclass ClipboardController {\n    constructor(editorCtrl, validacaoCtrl) {\n        this.editorCtrl = editorCtrl;\n        this.validacaoCtrl = validacaoCtrl;\n\n        editorCtrl.registrarEventListener('paste', (event) => aoColar(event, this));\n    }\n\n    /**\n     * Cola um texto de articulao no editor.\n     * \n     * @param {String} texto \n     */\n    colarTexto(texto) {\n        let selecao = this.editorCtrl.getSelection();\n        let range = selecao.getRangeAt(0);\n\n        if (!range.collapsed) {\n            range.deleteContents();\n            this.editorCtrl.atualizarContexto();\n        }\n\n        for (let brs = (range.endContainer.nodeType === Node.TEXT_NODE ? range.endContainer.parentNode : range.endContainer).querySelectorAll('br'), i = 0; i < brs.length; i++) {\n            brs[i].remove();\n        }\n\n        let fragmento = transformar(texto, this.editorCtrl.contexto.cursor.tipo, this.editorCtrl.contexto.cursor.continuacao);\n\n        colarFragmento(fragmento, this.editorCtrl, this.validacaoCtrl);\n    }\n}\n\n/**\n * Transforma um texto em um fragmento a ser colado.\n * \n * @param {*} texto Texto a ser transformado.\n * @param {*} tipo Tipo do contexto atual do cursor.\n * @param {*} continuacao Se o tipo  uma continuao.\n */\nfunction transformar(texto, tipo, continuacao) {\n    var fragmento;\n\n    if (continuacao) {\n        fragmento = transformarTextoPuro(texto, 'continuacao');\n    } else {\n        let dados = interpretarArticulacao(texto, 'json');\n\n        if (dados.textoAnterior) {\n            fragmento = transformarTextoPuro(dados.textoAnterior, tipo || 'artigo');\n        }\n\n        if (dados.articulacao.length > 0) {\n            let fragmentoArticulacao = transformarArticulacao(dados.articulacao);\n\n            if (fragmento) {\n                fragmento.appendChild(fragmentoArticulacao);\n            } else {\n                fragmento = fragmentoArticulacao;\n            }\n        }\n    }\n\n    return fragmento;\n}\n\n/**\n * Trata a colagem da rea de transferncia.\n * \n * @param {ClipboardEvent} event \n * @param {ClipboardController} clipboardCtrl \n */\nfunction aoColar(event, clipboardCtrl) {\n    var clipboardData = event.clipboardData || window.clipboardData;\n    var itens = clipboardData.items;\n\n    if (itens) {\n        for (let i = 0; i < itens.length; i++) {\n            if (itens[i].type === 'text/plain') {\n                itens[i].getAsString(clipboardCtrl.colarTexto.bind(clipboardCtrl));\n                event.preventDefault();\n            }\n        }\n    } else if (clipboardData.getData) {\n        clipboardCtrl.colarTexto(clipboardData.getData('text/plain'));\n        event.preventDefault();\n    }\n}\n\n/**\n * Cola um fragmento no DOM.\n * \n * @param {DocumentFragment} fragmento \n * @param {EditorArticulacaoController} editorCtrl \n * @param {ValidacaoController} validacaoCtrl\n */\nfunction colarFragmento(fragmento, editorCtrl, validacaoCtrl) {\n    prepararDesfazer(fragmento, editorCtrl);\n\n    let proximaSelecao = fragmento.lastChild;\n    let selecao = editorCtrl.getSelection();\n    let range = selecao.getRangeAt(0);\n    let noInicial = range.startContainer;\n    let excluirNoAtual = fragmento.firstChild.nodeType !== Node.TEXT_NODE && noInicial !== editorCtrl._elemento && noInicial.textContent.trim().length === 0;\n    let primeiroElementoAValidar;\n\n    // Se a seleo estiver no container, ento devemos inserir elementos filhos...\n    if (range.collapsed && noInicial === editorCtrl._elemento) {\n        // Remove as quebras de linha, usada como placeholder pelos contentEditable.\n        for (let itens = editorCtrl._elemento.querySelectorAll('br'), i = 0; i < itens.length; i++) {\n            itens[i].remove();\n        }\n\n        // Remove os elementos vazios.\n        for (let itens = editorCtrl._elemento.querySelectorAll('*:empty'), i = 0; i < itens.length; i++) {\n            itens[i].remove();\n        }\n\n        // Transforma os ns textuais em pargrafos.\n        for (let item = fragmento.firstChild; item && item.nodeType === Node.TEXT_NODE; item = fragmento.firstChild) {\n            let p = document.createElement('p');\n            p.appendChild(item);\n            p.setAttribute('data-tipo', 'artigo');\n            fragmento.insertBefore(p, fragmento.firstElementChild);\n        }\n\n        primeiroElementoAValidar = fragmento.firstElementChild;\n        range.insertNode(fragmento);\n    } else {\n        if (excluirNoAtual) {\n            primeiroElementoAValidar = fragmento.firstElementChild;\n        } else {\n            primeiroElementoAValidar = noInicial.nodeType === Node.ELEMENT_NODE ? noInicial : noInicial.parentElement;\n        }\n\n        // Insere os primeiros ns textuais na prpria seleo.\n        for (let item = fragmento.firstChild; item && item.nodeType === Node.TEXT_NODE; item = fragmento.firstChild) {\n            range.insertNode(item);\n        }\n\n        // Insere os elementos em seguida, no container, pois no podem estar aninhados ao elemento da seleo.\n        let referencia = range.endContainer;\n\n        while (referencia.parentElement !== editorCtrl._elemento) {\n            referencia = referencia.parentElement;\n        }\n        \n        referencia.parentElement.insertBefore(fragmento, referencia.nextSibling);\n    }\n\n    if (excluirNoAtual) {\n        noInicial.remove();\n    }\n\n    // Altera a seleo.\n    selecao.removeAllRanges();\n    range = document.createRange();\n\n    range.setStartAfter(proximaSelecao);\n    selecao.addRange(range);\n    \n    editorCtrl.atualizarContexto();\n\n    // Realiza validao do fragmento colado.\n    let ultimoElementoAValidar = proximaSelecao.nodeType === Node.ELEMENT_NODE ? proximaSelecao : proximaSelecao.parentElement;\n\n    for (let noAlterado = primeiroElementoAValidar; noAlterado && noAlterado !== ultimoElementoAValidar; noAlterado = noAlterado.nextElementSibling) {\n        validacaoCtrl.validar(noAlterado);\n    }\n}\n\n/**\n * Realiza uma cpia do fragmento e monitora ctrl+z para remover fragmentos.\n * \n * @param {DocumentFragment} fragmento \n * @param {EditorArticulacaoController} editorCtrl \n */\nfunction prepararDesfazer(fragmento, editorCtrl) {\n    var copia = [];\n\n    for (let i = 0, l = fragmento.childNodes.length; i < l; i++) {\n        copia.push(fragmento.childNodes[i]);\n    }\n\n    let desfazer = function() {\n        let anterior = copia[0].previousSibling;\n        let posterior = copia[copia.length - 1].nextSibling;\n\n        // Remove os elementos\n        for (let i = 0; i < copia.length; i++) {\n            copia[i].remove();\n        }\n\n        removerListeners();\n\n        // Restaura o cursor.\n        let selecao = editorCtrl.getSelection();\n        let range = document.createRange();\n\n        if (anterior) {\n            range.setStartAfter(anterior);\n            selecao.removeAllRanges();\n            selecao.addRange(range);\n        } else if (posterior) {\n            range.setStartBefore(posterior);\n            selecao.removeAllRanges();\n            selecao.addRange(range);\n        }\n    };\n\n    let keyDownListener = function(keyboardEvent) {\n        // Desfaz se pressionar o ctrl+z\n        if (keyboardEvent.ctrlKey && (keyboardEvent.key === 'z' || keyboardEvent.key === 'Z')) {\n            desfazer();\n            keyboardEvent.preventDefault();\n        }\n    };\n\n    let bakExecCommand = document.execCommand;\n\n    let removerListeners = function() {\n        editorCtrl._elemento.removeEventListener('keydown', keyDownListener);\n        editorCtrl._elemento.removeEventListener('keypress', removerListeners);\n        document.execCommand = bakExecCommand;\n    };\n\n    editorCtrl._elemento.addEventListener('keydown', keyDownListener);\n    editorCtrl._elemento.addEventListener('keypress', removerListeners);\n\n    document.execCommand = function(comando) {\n        if (comando === 'undo') {\n            desfazer();\n        } else {\n            return bakExecCommand.apply(document, arguments);\n        }\n    };\n}\n\n/**\n * Insere texto simples no contexto atual.\n * \n * @param {String} texto  Texto a ser interpretado.\n * @param {String} tipo Tipo atual.\n * @returns {DocumentFragment} Fragmento gerado para colagem.\n */\nfunction transformarTextoPuro(texto, tipo) {\n    if (texto.length === 0) {\n        return;\n    }\n\n    var fragmento = document.createDocumentFragment();\n    let primeiraQuebra = texto.indexOf('\\n');\n\n    if (primeiraQuebra !== 0) {\n        /* A primeira linha deve ser inserida no dispositivo atual.\n         * Para tanto, utiliza-se um TextNode.\n         */\n        let textNode = document.createTextNode(primeiraQuebra > 0 ? texto.substr(0, primeiraQuebra) : texto);\n        fragmento.appendChild(textNode);\n    }\n\n    if (primeiraQuebra !== -1) {\n        // Demais linhas devem ser criadas em novos pargrafos.\n        let novoTexto = transformarQuebrasDeLinhaEmP(texto.substr(primeiraQuebra + 1));\n        fragmento.appendChild(novoTexto);\n\n        /**\n         * Define o tipo para cada P, formatando automaticamente com base na terminao de dois pontos (:) ou ponto final(.).\n         */\n        let anterior = [];\n\n        if (fragmento.firstChild.nodeType === Node.TEXT_NODE && fragmento.firstChild.textContent.endsWith(':')) {\n            let enumeracao = novoTipoEnumeracao(tipo);\n\n            if (tipo !== enumeracao) {\n                anterior.push(tipo);\n                tipo = enumeracao;\n            }\n        }\n\n        for (let item = fragmento.firstElementChild; item; item = item.nextElementSibling) {\n            item.setAttribute('data-tipo', tipo);\n\n            if (item.textContent.endsWith(':')) {\n                let enumeracao = novoTipoEnumeracao(tipo);\n\n                if (tipo !== enumeracao) {\n                    anterior.push(tipo);\n                    tipo = enumeracao;\n                }\n            } else if (anterior.length > 0 && item.textContent.endsWith('.')) {\n                tipo = anterior.pop();\n            }\n        }\n    }\n\n    return fragmento;\n}\n\nfunction novoTipoEnumeracao(tipoAtual) {\n    switch (tipoAtual) {\n        case 'artigo':\n        case 'paragrafo':\n            return 'inciso';\n\n        case 'inciso':\n            return 'alinea';\n\n        case 'alinea':\n            return 'item';\n\n        default:\n            return null;\n    }\n}\n\nfunction transformarArticulacao(articulacao) {\n    let fragmento = document.createDocumentFragment();\n\n    articulacao.forEach(item => fragmento.appendChild(item.paraEditor()));\n\n    return fragmento;\n}\n\nexport { ClipboardController, transformarQuebrasDeLinhaEmP, transformarTextoPuro, transformar };\nexport default ClipboardController;\n\n\n// WEBPACK FOOTER //\n// ./src/ClipboardController.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n import ArticulacaoChangeEvent from './eventos/ArticulacaoChangeEvent';\n\n/**\n * Monitora alteraes no editor de articulao e dispara o evento change.\n */\nclass ControleAlteracao {\n    constructor(editorCtrl) {\n        this._editorCtrl = editorCtrl;\n\n        editorCtrl.registrarEventListener('focus', event => {\n            this._comFoco = true;\n\n            this.iniciar(event.target, editorCtrl);\n        }, true);\n\n        editorCtrl.registrarEventListener('blur', event => {\n            this._comFoco = false;\n\n            this.finalizar(event.target, editorCtrl);\n            this.comprometer();\n        }, true);\n    }\n\n    get alterado() {\n        throw 'No implementado.';\n    }\n\n    set alterado(valor) {\n        throw 'No implementado.';\n    }\n\n    /**\n     * Inicia a monitorao de alteraes.\n     * \n     * @param {Element} elemento\n     * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n     */\n    iniciar(elemento, editorCtrl) {\n        throw 'No implementado';\n    }\n\n    /**\n     * Finaliza a monitorao de alteraes.\n     * \n     * @param {Element} elemento \n     * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n     */\n    finalizar(elemento, editorCtrl) {\n        throw 'No implementado';\n    }\n\n    comprometer() {\n        if (this.alterado) {\n            this.alterado = false;\n            this._editorCtrl.dispatchEvent(new ArticulacaoChangeEvent(this._editorCtrl));\n        }\n    }\n}\n\n/**\n * Monitora as alteraes utilizando MutationObserver.\n */\nclass ControleAlteracaoMutationObserver extends ControleAlteracao {\n    constructor(editorCtrl) {\n        super(editorCtrl);\n\n        this._observer = new MutationObserver(this._mutationCallback.bind(this));\n        this._iniciado = false;\n        this._alterado = false;\n    }\n\n    get alterado() {\n        return this._alterado;\n    }\n\n    set alterado(valor) {\n        this._alterado = valor;\n\n        if (!this._alterado && !this._conectado && this._comFoco) {\n            this.iniciar(this._editorCtrl._elemento, this._editorCtrl);\n        }\n\n        if (this._alterado && !this._comFoco) {\n            this.comprometer();\n        }\n\n        if (this._alterado) {\n            this.finalizar();\n        }\n    }\n\n    /**\n     * Inicia a monitorao de alteraes.\n     * \n     * @param {Element} elemento\n     * @param {EditorArticulacaoController} editorCtrl Editor de articulao \n     */\n    iniciar(elemento, editorCtrl) {\n        if (!this._conectado) {\n            this._observer.observe(elemento, {\n                childList: true,\n                attributes: true,\n                characterData: true,\n                subtree: true\n            });\n            this._conectado = true;\n        }\n        this._iniciado = true;\n    }\n\n    /**\n     * Finaliza a monitorao de alteraes.\n     * \n     * @param {Element} elemento \n     * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n     */\n    finalizar(elemento, editorCtrl) {\n        if (this._conectado) {\n            this._observer.disconnect();\n            this._conectado = false;\n        }\n\n        this._iniciado = false;\n    }\n\n    _mutationCallback() {\n        try {\n            this._conectado = false;\n            this._observer.disconnect();\n        } finally {\n            this.alterado = true;\n        }\n    }\n}\n\n/**\n * Monitora as alteraes comparando o lexml no foco e no blur.\n */\nclass ControleAlteracaoComparativo extends ControleAlteracao {\n    constructor(editorCtrl) {\n        super(editorCtrl);\n\n        this._alteradoCache = false;\n    }\n\n    get alterado() {\n        if (this._alteradoCache) {\n            return true;\n        } else {\n            this._alteradoCache = this._editorCtrl.lexmlString !== this._lexml;\n            return this._alteradoCache;\n        }\n    }\n\n    set alterado(valor) {\n        this._lexml = valor ? '' : this._editorCtrl.lexmlString;\n        this._alteradoCache = !!valor;\n\n        if (valor && !this._comFoco) {\n            this.comprometer();\n        }\n    }\n\n     /**\n     * Inicia a monitorao de alteraes.\n     * \n     * @param {Element} elemento \n     * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n     */\n    iniciar(elemento, editorCtrl) {\n        this._lexml = editorCtrl.lexmlString;\n    }\n\n    /**\n     * Finaliza a monitorao de alteraes.\n     * \n     * @param {Element} elemento\n     * @param {EditorArticulacaoController} editorCtrl Editor de articulao\n     */\n    finalizar(elemento, editorCtrl) {\n    }\n}\n\nfunction criarControleAlteracao(editorCtrl) {\n    if ('MutationObserver' in window) {\n        return new ControleAlteracaoMutationObserver(editorCtrl);\n    } else {\n        return new ControleAlteracaoComparativo(editorCtrl);\n    }\n}\n\nexport default criarControleAlteracao;\n\n\n// WEBPACK FOOTER //\n// ./src/ControleAlteracao.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n import EventoInterno from './EventoInterno';\n\n/**\n * Evento de notificao de atualizao do contedo da articulao.\n */\nclass ArticulacaoChangeEvent extends EventoInterno {\n    /**\n     * Constri o evento.\n     * \n     * @param {EditorArticulacaoController} editorArticulacaoCtrl \n     */\n    constructor(editorArticulacaoCtrl) {\n        super('change', {\n            bubbles: true,\n            cancelable: false\n        });\n    }\n}\n\nexport default ArticulacaoChangeEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/eventos/ArticulacaoChangeEvent.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".silegismg-editor-articulacao{counter-reset:parte livro titulo capitulo secao subsecao artigo;outline:none}.silegismg-editor-articulacao p:before{font-weight:bolder;animation:.25s ease-in rotulo}.silegismg-editor-articulacao p[data-tipo]:before{display:inline-block;margin-right:1ex;text-indent:0}.silegismg-editor-articulacao p{text-indent:4ex;text-align:justify;border-left:2px solid transparent;padding-left:1ex}.silegismg-editor-articulacao p[data-invalido]{border-left-color:red}.silegismg-editor-articulacao p[data-invalido]:after{display:block;content:attr(data-invalido);color:red;text-indent:0;margin-left:auto;font-size:90%}.silegismg-editor-articulacao p[data-tipo=titulo]:before{content:\\\"T\\\\EDtulo \\\" counter(titulo,upper-roman);counter-increment:titulo;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=titulo]{counter-reset:capitulo;text-transform:uppercase;font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=capitulo]:before{content:\\\"Cap\\\\EDtulo \\\" counter(capitulo,upper-roman);counter-increment:capitulo;display:block;text-align:center;font-weight:400;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=capitulo]{counter-reset:secao;text-transform:uppercase;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=secao]:before{content:\\\"Se\\\\E7\\\\E3o \\\" counter(secao,upper-roman);counter-increment:secao;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=secao]{counter-reset:subsecao;font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=subsecao]:before{content:\\\"Subse\\\\E7\\\\E3o \\\" counter(subsecao,upper-roman);counter-increment:subsecao;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=subsecao]{font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=artigo]:before{content:\\\"Art. \\\" counter(artigo) \\\"\\\\BA\\\" \\\"${separadorArtigo}\\\";counter-increment:artigo}.silegismg-editor-articulacao p[data-tipo=artigo].emenda:before{content:\\\"Art. \\\" counter(artigo) \\\"\\\\BA-\\\" counter(emenda,upper-latin) \\\"${separadorArtigo}\\\";counter-increment:emenda}.silegismg-editor-articulacao p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda):before{content:\\\"Art. \\\" counter(artigo) \\\"${separadorArtigoSemOrdinal}\\\"}.silegismg-editor-articulacao p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo].emenda:before{content:\\\"Art. \\\" counter(artigo) \\\"-\\\" counter(emenda,upper-latin) \\\"${separadorArtigoSemOrdinal}\\\"}.silegismg-editor-articulacao p[data-tipo=artigo]{counter-reset:paragrafo inciso emenda}.silegismg-editor-articulacao p[data-tipo=artigo].emenda{counter-reset:paragrafo inciso}.silegismg-editor-articulacao p[data-tipo=paragrafo]{counter-reset:inciso}.silegismg-editor-articulacao p[data-tipo=paragrafo]:before{content:\\\"\\\\A7   \\\" counter(paragrafo) \\\"\\\\BA\\\" \\\"${separadorParagrafo}\\\";counter-increment:paragrafo}.silegismg-editor-articulacao p.semOrdinal[data-tipo=paragrafo]:before{content:\\\"\\\\A7   \\\" counter(paragrafo) \\\"${separadorParagrafoSemOrdinal}\\\";counter-increment:paragrafo}.silegismg-editor-articulacao p[data-tipo=paragrafo].unico:before{content:\\\"Par\\\\E1grafo \\\\FAnico${separadorParagrafoUnico}\\\"}.silegismg-editor-articulacao p[data-tipo=inciso]{counter-reset:alinea}.silegismg-editor-articulacao p[data-tipo=inciso]:before{content:counter(inciso,upper-roman) \\\"${separadorInciso}\\\";counter-increment:inciso}.silegismg-editor-articulacao p[data-tipo=alinea]{counter-reset:item}.silegismg-editor-articulacao p[data-tipo=alinea]:before{content:counter(alinea,lower-latin) \\\"${separadorAlinea}\\\";counter-increment:alinea}.silegismg-editor-articulacao p[data-tipo=item]:before{content:counter(item) \\\"${separadorItem}\\\";counter-increment:item}.silegismg-editor-articulacao>:first-child{margin-top:0}.silegismg-editor-articulacao>:last-child{margin-bottom:0}@keyframes rotulo{0%{opacity:0}10%{opacity:0}to{opacity:1}}\", \"\", {\"version\":3,\"sources\":[\"/home/m18820/git/editor-articulacao/src/editor-articulacao.css\"],\"names\":[],\"mappings\":\"AAiBA,8BACE,gEAAiE,AACjE,YAAc,CACf,AAED,uCACE,mBAAoB,AACpB,6BAA+B,CAChC,AAED,kDACE,qBAAsB,AACtB,iBAAkB,AAClB,aAAe,CAChB,AAED,gCACE,gBAAiB,AACjB,mBAAoB,AACpB,kCAAmC,AACnC,gBAAkB,CACnB,AAED,+CACE,qBAAuB,CACxB,AAED,qDACE,cAAe,AACf,4BAA6B,AAC7B,UAAW,AACX,cAAe,AACf,iBAAkB,AAClB,aAAe,CAUhB,AAED,yDACE,gDAAgD,AAChD,yBAA0B,AAC1B,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,kDACE,uBAAwB,AACxB,yBAA0B,AAC1B,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,2DACE,oDAAoD,AACpD,2BAA4B,AAC5B,cAAe,AACf,kBAAmB,AACnB,gBAAoB,AACpB,eAAgB,AAChB,aAAe,CAChB,AAED,oDACE,oBAAqB,AACrB,yBAA0B,AAC1B,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,wDACE,gDAA8C,AAC9C,wBAAyB,AACzB,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,iDACE,uBAAwB,AACxB,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,2DACE,sDAAoD,AACpD,2BAA4B,AAC5B,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,oDACE,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAGD,yDACE,2DAA0D,AAC1D,wBAA0B,CAC3B,AAED,gEACE,wFAAwF,AACxF,wBAA0B,CAC3B,AAID,+WACE,8DAAgE,CACjE,AAED,0YACE,8FAAiG,CAClG,AAED,kDACE,qCAAuC,CACxC,AAED,yDACE,8BAAgC,CACjC,AAED,qDACE,oBAAsB,CACvB,AAED,4DACE,kEAA6D,AAC7D,2BAA6B,CAC9B,AAED,uEACE,sEAAmE,AACnE,2BAA6B,CAC9B,AAED,kEACE,uDAAqD,CACtD,AAED,kDACE,oBAAsB,CACvB,AAED,yDACE,yDAA2D,AAC3D,wBAA0B,CAC3B,AAED,kDACE,kBAAoB,CACrB,AAED,yDACE,yDAA2D,AAC3D,wBAA0B,CAC3B,AAED,uDACE,yCAA0C,AAC1C,sBAAwB,CACzB,AAKD,2CACE,YAAc,CACf,AAKD,0CACE,eAAiB,CAClB,AAED,kBACE,GACE,SAAW,CACZ,AACD,IACE,SAAW,CACZ,AACD,GACE,SAAW,CACZ,CACF\",\"file\":\"editor-articulacao.css\",\"sourcesContent\":[\"/* Copyright 2017 Assembleia Legislativa de Minas Gerais\\n * \\n * This file is part of Editor-Articulacao.\\n *\\n * Editor-Articulacao is free software: you can redistribute it and/or modify\\n * it under the terms of the GNU Lesser General Public License as published by\\n * the Free Software Foundation, version 3.\\n *\\n * Editor-Articulacao is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n * GNU Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\\n */\\n\\n.silegismg-editor-articulacao {\\n  counter-reset: parte livro titulo capitulo secao subsecao artigo;\\n  outline: none;\\n}\\n\\n.silegismg-editor-articulacao p:before {\\n  font-weight: bolder;\\n  animation: .25s ease-in rotulo;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo]:before {\\n  display: inline-block; /* Resolve problema de cursor antes do rtulo no chrome */\\n  margin-right: 1ex;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p {\\n  text-indent: 4ex;\\n  text-align: justify;\\n  border-left: solid 2px transparent;\\n  padding-left: 1ex;\\n}\\n\\n.silegismg-editor-articulacao p[data-invalido] {\\n  border-left-color: red;\\n}\\n\\n.silegismg-editor-articulacao p[data-invalido]:after {\\n  display: block;\\n  content: attr(data-invalido);\\n  color: red;\\n  text-indent: 0;\\n  margin-left: auto;\\n  font-size: 90%;\\n\\n/*\\n  white-space: nowrap;\\n  text-overflow: clip;\\n  overflow: hidden;\\n  max-width: 2ex;\\n  vertical-align: middle;\\n  margin-left: 1ex;\\n*/\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"titulo\\\"]:before {\\n  content: 'Ttulo ' counter(titulo, upper-roman);\\n  counter-increment: titulo;\\n  display: block;\\n  text-align: center;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"titulo\\\"] {\\n  counter-reset: capitulo;\\n  text-transform: uppercase;\\n  font-weight: bolder;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"capitulo\\\"]:before {\\n  content: 'Captulo ' counter(capitulo, upper-roman);\\n  counter-increment: capitulo;\\n  display: block;\\n  text-align: center;\\n  font-weight: normal;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"capitulo\\\"] {\\n  counter-reset: secao;\\n  text-transform: uppercase;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"secao\\\"]:before {\\n  content: 'Seo ' counter(secao, upper-roman);\\n  counter-increment: secao;\\n  display: block;\\n  text-align: center;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"secao\\\"] {\\n  counter-reset: subsecao;\\n  font-weight: bolder;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"subsecao\\\"]:before {\\n  content: 'Subseo ' counter(subsecao, upper-roman);\\n  counter-increment: subsecao;\\n  display: block;\\n  text-align: center;\\n  margin-right: 0;\\n  text-indent: 0;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"subsecao\\\"] {\\n  font-weight: bolder;\\n  font-size: 110%;\\n  text-align: center;\\n  text-indent: 0;\\n}\\n\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"]:before {\\n  content: 'Art. ' counter(artigo) '' '${separadorArtigo}';\\n  counter-increment: artigo;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"].emenda:before {\\n  content: 'Art. ' counter(artigo) '-' counter(emenda, upper-latin) '${separadorArtigo}';\\n  counter-increment: emenda;\\n}\\n\\n/* A partir do artigo 10, no se usa \\\"\\\" */\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda):before {\\n  content: 'Art. ' counter(artigo) '${separadorArtigoSemOrdinal}';\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"]:not(.emenda) ~ p[data-tipo=\\\"artigo\\\"].emenda:before {\\n  content: 'Art. ' counter(artigo) '-' counter(emenda, upper-latin) '${separadorArtigoSemOrdinal}';\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='artigo'] {\\n  counter-reset: paragrafo inciso emenda;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='artigo'].emenda {\\n  counter-reset: paragrafo inciso;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='paragrafo'] {\\n  counter-reset: inciso;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='paragrafo']:before {\\n  content: ' ' counter(paragrafo) '' '${separadorParagrafo}';\\n  counter-increment: paragrafo;\\n}\\n\\n.silegismg-editor-articulacao p.semOrdinal[data-tipo='paragrafo']:before {\\n  content: ' ' counter(paragrafo) '${separadorParagrafoSemOrdinal}';\\n  counter-increment: paragrafo;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='paragrafo'].unico:before {\\n  content: 'Pargrafo nico${separadorParagrafoUnico}';\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='inciso'] {\\n  counter-reset: alinea;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='inciso']:before {\\n  content: counter(inciso, upper-roman) '${separadorInciso}';\\n  counter-increment: inciso;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='alinea'] {\\n  counter-reset: item;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='alinea']:before {\\n  content: counter(alinea, lower-latin) '${separadorAlinea}';\\n  counter-increment: alinea;\\n}\\n\\n.silegismg-editor-articulacao p[data-tipo='item']:before {\\n  content: counter(item) '${separadorItem}';\\n  counter-increment: item;\\n}\\n\\n\\n/* O primeiro artigo no deve ter margem superior */\\n\\n.silegismg-editor-articulacao > *:first-child {\\n  margin-top: 0;\\n}\\n\\n\\n/* O ltimo artigo no deve ter margem inferior */\\n\\n.silegismg-editor-articulacao > *:last-child {\\n  margin-bottom: 0;\\n}\\n\\n@keyframes rotulo {\\n  0% {\\n    opacity: 0;\\n  }\\n  10% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/editor-articulacao.css\n// module id = 30\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:block;text-indent:4ex}:host([disabled]){color:gray}.silegismg-editor-articulacao p{text-indent:inherit!important}.silegismg-editor-articulacao p:before{color:var(--rotulo-cor,currentColor);font-weight:var(--rotulo-peso,bolder);background:var(--rotulo-background,inherit)}\", \"\", {\"version\":3,\"sources\":[\"/home/m18820/git/editor-articulacao/src/editor-articulacao-shadow.css\"],\"names\":[],\"mappings\":\"AAiBA,MACI,cAAe,AACf,eAAiB,CACpB,AAED,kBACI,UAAY,CACf,AAED,gCACI,6BAAgC,CACnC,AAED,uCACI,qCAAuC,AACvC,sCAAwC,AACxC,2CAA8C,CACjD\",\"file\":\"editor-articulacao-shadow.css\",\"sourcesContent\":[\"/* Copyright 2017 Assembleia Legislativa de Minas Gerais\\n * \\n * This file is part of Editor-Articulacao.\\n *\\n * Editor-Articulacao is free software: you can redistribute it and/or modify\\n * it under the terms of the GNU Lesser General Public License as published by\\n * the Free Software Foundation, version 3.\\n *\\n * Editor-Articulacao is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n * GNU Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\\n */\\n\\n:host {\\n    display: block;\\n    text-indent: 4ex;\\n}\\n\\n:host([disabled]) {\\n    color: gray;\\n}\\n\\n.silegismg-editor-articulacao p {\\n    text-indent: inherit !important;\\n}\\n\\n.silegismg-editor-articulacao p:before {\\n    color: var(--rotulo-cor, currentColor);\\n    font-weight: var(--rotulo-peso, bolder);\\n    background: var(--rotulo-background, inherit);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/editor-articulacao-shadow.css\n// module id = 31\n// module chunks = 0","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport ProblemaValidacao from './ProblemaValidacao';\nimport ValidadorCaixaAlta from './ValidadorCaixaAlta';\nimport ValidadorCitacao from './ValidadorCitacao';\nimport ValidadorEnumeracaoElementos from './ValidadorEnumeracaoElementos';\nimport ValidadorIniciarLetraMaiuscula from './ValidadorIniciarLetraMaiuscula';\nimport ValidadorPontuacaoArtigoParagrafo from './ValidadorPontuacaoArtigoParagrafo';\nimport ValidadorPontuacaoEnumeracao from './ValidadorPontuacaoEnumeracao';\nimport ValidadorSentencaUnica from './ValidadorSentencaUnica';\n\n/**\n * Controler para realizar validao nos dispositivos.\n */\nclass ValidacaoController {\n    constructor(opcoes) {\n        this.validadores = [];\n\n        if (opcoes !== false) {\n            habilitar(opcoes, 'caixaAlta', this.validadores, ValidadorCaixaAlta);\n            habilitar(opcoes, 'citacao', this.validadores, ValidadorCitacao);\n            habilitar(opcoes, 'enumeracaoElementos', this.validadores, ValidadorEnumeracaoElementos);\n            habilitar(opcoes, 'inicialMaiuscula', this.validadores, ValidadorIniciarLetraMaiuscula);\n            habilitar(opcoes, 'pontuacao', this.validadores, ValidadorPontuacaoArtigoParagrafo);\n            habilitar(opcoes, 'pontuacaoEnumeracao', this.validadores, ValidadorPontuacaoEnumeracao);\n            habilitar(opcoes, 'sentencaUnica', this.validadores, ValidadorSentencaUnica);\n        }\n    }\n\n    /**\n     * Realiza a validao do dispositivo.\n     * \n     * @param {Element} dispositivo Dispositivo a ser validado.\n     * @returns {ProblemaValidacao[]} Problemas encontrados.\n     */\n    validar(dispositivo) {\n        if (!dispositivo) {\n            return;\n        }\n\n        let problemas = [];\n\n        if (dispositivo.textContent.trim().length > 0) {\n            this.validadores.forEach(item => {\n                var validador = item.validador;\n                var opcao = item.opcao;\n\n                if (validador.aplicaSeA(dispositivo) && !validador.validar(dispositivo)) {\n                    problemas.push(new ProblemaValidacao(dispositivo, opcao, validador.descricao));\n                }\n            });\n\n            if (problemas.length > 0) {\n                dispositivo.setAttribute('data-invalido', problemas.reduce((prev, problema) => prev ? prev + ' ' + problema.descricao : problema.descricao, null));\n            } else {\n                dispositivo.removeAttribute('data-invalido');\n            }\n        }\n\n        return problemas;\n    }\n}\n\n/**\n * Habilita um validador.\n * \n * @param {Object} opcoes Conjunto de opes fornecidas para o controller de validao.\n * @param {String} nomeOpcao Nome da opo para habilitar um validador.\n * @param {Validador[]} validadores Vetor de validadores.\n * @param {Class} Validador Classe do validador.\n */\nfunction habilitar(opcoes, nomeOpcao, validadores, Validador) {\n    if (opcoes === true || opcoes[nomeOpcao] !== false) {\n        validadores.push({ validador: new Validador(), opcao: nomeOpcao });\n    }\n}\n\nexport default ValidacaoController;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidacaoController.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Representa um problema que descreve a invalidao de um dispositivo.\n */\nclass ProblemaValidacao {\n    /**\n     * Constri o problema.\n     * \n     * @param {Element} dispositivo Dispositivo invlido.\n     * @param {String} tipo Tipo do validador (nome da classe) que considerou o dispositivo invlido.\n     * @param {String} descricao Descrio para o problema.\n     */\n    constructor(dispositivo, tipo, descricao) {\n        this.dispositivo = dispositivo;\n        this.tipo = tipo;\n        this.descricao = descricao;\n    }\n}\n\nexport default ProblemaValidacao;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ProblemaValidacao.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Validador from './Validador';\n\nclass ValidadorIniciarLetraMaiuscula extends Validador {\n    constructor() {\n        super(['artigo', 'paragrafo'], 'Artigos e pargrafos no devem ser escritos usando apenas caixa alta.');\n    }\n\n    validar(dispositivo) {\n        var texto = dispositivo.textContent;\n\n        return texto.length === 0 || texto.toUpperCase() !== texto;\n    }\n}\n\nexport default ValidadorIniciarLetraMaiuscula;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidadorCaixaAlta.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Validador from './Validador';\nimport { encontrarDispositivoAnteriorDoTipo, encontrarDispositivoPosteriorDoTipo } from '../util';\n\nclass ValidadorCitacao extends Validador {\n    constructor() {\n        super('continuacao', 'Citaes devem estar entre aspas e terminar com ponto final (.).');\n    }\n\n    validar(dispositivo) {\n        let texto = dispositivo.textContent.trim();\n        let inicio = seNulo(encontrarDispositivoAnteriorDoTipo(dispositivo, ['artigo']), posterior => posterior.nextElementSibling, dispositivo);\n\n        if (dispositivo === inicio) {\n            return /^[\"]/.test(texto);\n        }\n\n        let termino = seNulo(encontrarDispositivoPosteriorDoTipo(dispositivo, ['continuacao', 'artigo', 'paragrafo', 'inciso']),\n            posterior => posterior.getAttribute('data-tipo') === 'continuacao' ? posterior : posterior.previousElementSibling,\n            dispositivo);\n\n        if (dispositivo === termino) {\n            return /.+[\"]\\.$/.test(texto);\n        }\n\n        // Se estamos no meio da citao, no devem haver aspas.\n        return !/[\"]/.test(texto);\n    }\n}\n\n/**\n * Se o objeto no estiver nulo, ento executa uma funo consumidora deste objeto.\n * Caso o contrrio, retorna um outro valor.\n * \n * @param {*} obj Objeto a ser verificado.\n * @param {*} fnSeNaoNulo Funo cujo resultado ser retornado caso o objeto seja diferente de nulo.\n * @param {*} seNulo Valor retornado caso seja nulo.\n */\nfunction seNulo(obj, fnSeNaoNulo, seNulo) {\n    return obj ? fnSeNaoNulo(obj) : seNulo;\n}\n\nexport default ValidadorCitacao;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidadorCitacao.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Validador from './Validador';\nimport { encontrarDispositivoAnteriorDoTipo, encontrarDispositivoPosteriorDoTipo, getTiposSuperiores } from '../util';\n\nclass ValidadorEnumeracaoElementos extends Validador {\n    constructor() {\n        super(['inciso', 'alinea', 'item'], 'Enumeraes devem possuir mais de um elemento.');\n    }\n\n    validar(dispositivo) {\n        var tipo = dispositivo.getAttribute('data-tipo');\n        var superiores = getTiposSuperiores(tipo);\n\n        return !!encontrarDispositivoAnteriorDoTipo(dispositivo, [tipo], superiores) || !!encontrarDispositivoPosteriorDoTipo(dispositivo, [tipo], superiores);\n    }\n}\n\nexport default ValidadorEnumeracaoElementos;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidadorEnumeracaoElementos.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Validador from './Validador';\n\nclass ValidadorIniciarLetraMaiuscula extends Validador {\n    constructor() {\n        super(['artigo', 'paragrafo'], 'Artigos e pargrafos devem ser iniciados com letra maiscula.');\n    }\n\n    validar(dispositivo) {\n        var texto = dispositivo.textContent.trim();\n\n        return texto.charAt(0).toUpperCase() === texto.charAt(0);\n    }\n}\n\nexport default ValidadorIniciarLetraMaiuscula;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidadorIniciarLetraMaiuscula.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Validador from './Validador';\n\nclass ValidadorPontuacaoArtigoParagrafo extends Validador {\n    constructor() {\n        super(['artigo', 'paragrafo'], 'Artigos e pargrafos devem ser terminados com ponto final (.) ou dois pontos (:), sem espao antes da pontuao.');\n    }\n\n    validar(dispositivo) {\n        return /.*\\S+[:.]$/.test(dispositivo.textContent.trim());\n    }\n}\n\nexport default ValidadorPontuacaoArtigoParagrafo;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidadorPontuacaoArtigoParagrafo.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n import Validador from './Validador';\n\nclass ValidadorPontuacaoEnumeracao extends Validador {\n    constructor() {\n        super(['inciso', 'alinea', 'item'], 'Enumeraes devem ser terminadas com ponto final (.), ponto e vrgula (;) ou dois pontos (:), sem espao antes da pontuao.');\n    }\n\n    validar(dispositivo) {\n        return /.*\\S+(?:[;.:]|; ou|; e)$/.test(dispositivo.textContent.trim());\n    }\n}\n\nexport default ValidadorPontuacaoEnumeracao;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidadorPontuacaoEnumeracao.js","/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Validador from './Validador';\n\nclass ValidadorSentencaUnica extends Validador {\n    constructor() {\n        super(['artigo', 'paragrafo', 'inciso', 'alinea', 'item'], 'Dispositivos devem conter uma nica sentena.');\n    }\n\n    validar(dispositivo) {\n        let texto = dispositivo.textContent.trim();\n        let regexp = /[.;:]\\s*(\\S)/g;\n        let m;\n        let valido = true;\n        \n        for (let m = regexp.exec(texto); m && valido; m = regexp.exec(texto)) {\n            valido = m[1].toLowerCase() === m[1];\n        }\n\n        return valido;\n    }\n}\n\nexport default ValidadorSentencaUnica;\n\n\n// WEBPACK FOOTER //\n// ./src/validacao/ValidadorSentencaUnica.js"],"sourceRoot":""}